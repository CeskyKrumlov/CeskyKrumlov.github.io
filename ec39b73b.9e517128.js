(window.webpackJsonp=window.webpackJsonp||[]).push([[475],{1184:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/1-62805d51b7a3aba774c9526666597270.png"},1185:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/3-6842a834b0b90f450b8e11a1221ce30a.png"},1186:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/4-3f869d54774f7f8ccb9cb344756b792d.png"},1187:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/5-ea89e6a202356ca8c70f8c1af7c1081f.png"},1188:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/6-1f3030ed782b4285c136b1f5a9c8a4bb.png"},1189:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/2-ffb0e0061c4942a0f4fb90bed06e9127.jpg"},1190:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/7-8d711aa9e1a42064827eb2c8736e9351.png"},1191:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/8-6ca03dec56d5ee7a06fea335b111c1cd.png"},531:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return p})),a.d(t,"default",(function(){return m}));var n=a(2),b=a(6),l=(a(0),a(566)),r=a(570),i=a(571),c={id:"1.seata",title:"Seata \u6982\u8ff0",hide_title:!0},o={unversionedId:"springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/1.seata",id:"springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/1.seata",isDocsHomePage:!1,title:"Seata \u6982\u8ff0",description:"\u5206\u5e03\u5f0f\u4e8b\u52a1\u95ee\u9898",source:"@site/docs/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/1.seata.md",slug:"/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/1.seata",permalink:"/docs/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/1.seata",version:"current",sidebar:"someSidebar",previous:{title:"Sentinel \u89c4\u5219\u6301\u4e45\u5316",permalink:"/docs/springcloudalibaba/\u6d41\u91cf\u536b\u5175/9.sentinelPersistence"},next:{title:"\u6848\u4f8b\u6570\u636e\u5e93",permalink:"/docs/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/2.sampleDatabase"}},p=[{value:"\u5206\u5e03\u5f0f\u4e8b\u52a1\u95ee\u9898",id:"\u5206\u5e03\u5f0f\u4e8b\u52a1\u95ee\u9898",children:[]},{value:"\u5206\u5e03\u5f0f\u4e8b\u52a1\u4e24\u9636\u6bb5\u63d0\u4ea4\u65b9\u6848",id:"\u5206\u5e03\u5f0f\u4e8b\u52a1\u4e24\u9636\u6bb5\u63d0\u4ea4\u65b9\u6848",children:[{value:"2PC \u534f\u8bae",id:"2pc-\u534f\u8bae",children:[]},{value:"2PC \u89e3\u51b3\u65b9\u6848",id:"2pc-\u89e3\u51b3\u65b9\u6848",children:[{value:"XA \u65b9\u6848",id:"xa-\u65b9\u6848",children:[]},{value:"Seata \u65b9\u6848",id:"seata-\u65b9\u6848",children:[]}]}]},{value:"Seata \u6982\u8ff0",id:"seata-\u6982\u8ff0",children:[]},{value:"Seata \u4e0b\u8f7d\u5b89\u88c5",id:"seata-\u4e0b\u8f7d\u5b89\u88c5",children:[]}],s={rightToc:p};function m(e){var t=e.components,c=Object(b.a)(e,["components"]);return Object(l.b)("wrapper",Object(n.a)({},s,c,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"\u5206\u5e03\u5f0f\u4e8b\u52a1\u95ee\u9898"},"\u5206\u5e03\u5f0f\u4e8b\u52a1\u95ee\u9898"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"\u5f15\u4f8b")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u5355\u4f53\u5e94\u7528\u88ab\u62c6\u5206\u4e3a\u5fae\u670d\u52a1\u5e94\u7528\uff0c\u539f\u6765\u7684\u4e09\u4e2a\u6a21\u5757\u88ab\u62c6\u5206\u4e3a\u4e09\u4e2a\u72ec\u7acb\u5e94\u7528\uff0c\u5206\u522b\u4f7f\u7528\u4e09\u4e2a\u72ec\u7acb\u7684\u6570\u636e\u6e90"),Object(l.b)("li",{parentName:"ul"},"\u4e1a\u52a1\u64cd\u4f5c\u9700\u8981\u8c03\u7528\u4e09\u4e2a\u670d\u52a1\u6765\u5b8c\u6210"),Object(l.b)("li",{parentName:"ul"},"\u6bcf\u4e2a\u670d\u52a1\u5185\u90e8\u7684\u6570\u636e\u4e00\u81f4\u6027\u7531\u672c\u5730\u4e8b\u52a1\u4fdd\u8bc1"),Object(l.b)("li",{parentName:"ul"},"\u4f46",Object(l.b)("strong",{parentName:"li"},"\u5168\u5c40\u6570\u636e\u4e00\u81f4\u6027\u65e0\u6cd5\u4fdd\u8bc1"),"\uff0c\u4e09\u4e2a\u670d\u52a1\u7269\u7406\u4e0a\u5206\u79bb\uff0c\u903b\u8f91\u4e0a\u5e94\u5f53\u662f\u4e00\u4e2a\u6574\u4f53")),Object(l.b)("blockquote",null,Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u4ed3\u50a8\u670d\u52a1\uff1a\u9488\u5bf9\u7ed9\u5b9a\u7684\u5546\u54c1\u6263\u9664\u4ed3\u50a8\u6570\u76ee"),Object(l.b)("li",{parentName:"ul"},"\u8ba2\u5355\u670d\u52a1\uff1a\u6839\u636e\u91c7\u8d2d\u9700\u6c42\u521b\u5efa\u8ba2\u5355"),Object(l.b)("li",{parentName:"ul"},"\u8d26\u6237\u670d\u52a1\uff1a\u4ece\u7528\u6237\u8d26\u6237\u4e2d\u6263\u9664\u4f59\u989d"))),Object(l.b)("img",{src:a(1184).default,style:{zoom:"30%",boxShadow:"5px 7px 28px #FFFFFF",borderRadius:"19px"}}),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u5e38\u89c1\u5206\u5e03\u5f0f\u4e8b\u52a1\u89e3\u51b3\u65b9\u6848")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"2PC"),Object(l.b)("li",{parentName:"ul"},"TCC"),Object(l.b)("li",{parentName:"ul"},"\u53ef\u9760\u6d88\u606f\u6700\u7ec8\u4e00\u81f4\u6027"),Object(l.b)("li",{parentName:"ul"},"\u6700\u5927\u52aa\u529b\u901a\u77e5"))),Object(l.b)("br",null),Object(l.b)("h1",{id:"\u5206\u5e03\u5f0f\u4e8b\u52a1\u4e24\u9636\u6bb5\u63d0\u4ea4\u65b9\u6848"},"\u5206\u5e03\u5f0f\u4e8b\u52a1\u4e24\u9636\u6bb5\u63d0\u4ea4\u65b9\u6848"),Object(l.b)("h2",{id:"2pc-\u534f\u8bae"},"2PC \u534f\u8bae"),Object(l.b)("blockquote",null,Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u5373 ",Object(l.b)("strong",{parentName:"li"},"\u4e24\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae"),"\uff0c\u5c06\u6574\u4e2a\u4e8b\u52a1\u6d41\u7a0b\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u51c6\u5907\u9636\u6bb5 Prepare Phase")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u63d0\u4ea4\u9636\u6bb5 Commit Phase")))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"2")," \u6307\u4e24\u4e2a\u9636\u6bb5"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"P")," \u6307\u51c6\u5907\u9636\u6bb5"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"C")," \u6307\u63d0\u4ea4\u9636\u6bb5"))),Object(l.b)("blockquote",null,Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u4e3b\u8981\u7531 \u4e8b\u52a1\u7ba1\u7406\u5668 ",Object(l.b)("inlineCode",{parentName:"strong"},"TM"),"\u3001\u4e8b\u52a1\u53c2\u4e0e\u8005 ",Object(l.b)("inlineCode",{parentName:"strong"},"RM")," \u5b8c\u6210")),Object(l.b)("li",{parentName:"ul"},"\u5e38\u89c1\u5173\u7cfb\u578b\u6570\u636e\u5e93 Oracle\u3001MySQL \u90fd\u652f\u6301 2PC \u534f\u8bae")),Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u51c6\u5907\u9636\u6bb5"}),"\u51c6\u5907\u9636\u6bb5"),Object(l.b)("p",{parentName:"blockquote"},"\u4e8b\u52a1\u7ba1\u7406\u5668\u7ed9\u6bcf\u4e2a\u53c2\u4e0e\u8005\u53d1\u9001 ",Object(l.b)("inlineCode",{parentName:"p"},"Prepare")," \u6d88\u606f\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u53c2\u4e0e\u8005\u90fd\u5728\u672c\u5730\u6267\u884c\u4e8b\u52a1\uff0c\u5e76\u5199\u672c\u5730\u7684 ",Object(l.b)("inlineCode",{parentName:"p"},"Undo / Redo")," \u65e5\u5fd7\uff0c\u6b64\u65f6\u4e8b\u52a1\u6ca1\u6709\u63d0\u4ea4"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"Undo")," \u65e5\u5fd7\u662f\u8bb0\u5f55\u4fee\u6539\u524d\u7684\u6570\u636e\uff0c\u7528\u4e8e\u6570\u636e\u5e93\u56de\u6eda"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"Redo")," \u65e5\u5fd7\u662f\u8bb0\u5f55\u4fee\u6539\u540e\u7684\u6570\u636e\uff0c\u7528\u4e8e\u63d0\u4ea4\u4e8b\u52a1\u540e\u5199\u5165\u6570\u636e\u6587\u4ef6")),Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u63d0\u4ea4\u9636\u6bb5"}),"\u63d0\u4ea4\u9636\u6bb5"),Object(l.b)("p",{parentName:"blockquote"},"\u5982\u679c\u4e8b\u52a1\u7ba1\u7406\u5668\u6536\u5230\u4e86\u53c2\u4e0e\u8005\u7684\u6267\u884c\u5931\u8d25\u6216\u8005\u8d85\u65f6\u6d88\u606f\uff0c\u76f4\u63a5\u7ed9\u6bcf\u4e2a\u53c2\u4e0e\u8005\u53d1\u9001 ",Object(l.b)("strong",{parentName:"p"},"\u56de\u6eda ",Object(l.b)("inlineCode",{parentName:"strong"},"Rollback")," \u6d88\u606f"),"\uff1b\u5426\u5219\u53d1\u9001 ",Object(l.b)("strong",{parentName:"p"},"\u63d0\u4ea4 ",Object(l.b)("inlineCode",{parentName:"strong"},"Commit")," \u6d88\u606f")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u4e8b\u52a1\u53c2\u4e0e\u8005\u6839\u636e\u4e8b\u52a1\u7ba1\u7406\u5668\u7684\u6307\u4ee4\u6267\u884c\u63d0\u4ea4\u6216\u8005\u56de\u6eda\u64cd\u4f5c\uff0c\u5e76\u91ca\u653e\u4e8b\u52a1\u5904\u7406\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u7684\u9501\u8d44\u6e90"),Object(l.b)("li",{parentName:"ul"},"\u5fc5\u987b\u5728\u6700\u540e\u9636\u6bb5\u91ca\u653e\u9501")),Object(l.b)("br",null),Object(l.b)("h3",Object(n.a)({parentName:"blockquote"},{id:"\u6210\u529f\u60c5\u51b5"}),"\u6210\u529f\u60c5\u51b5"),Object(l.b)("img",{src:a(1185).default,style:{zoom:"40%",boxShadow:"5px 7px 28px #FFFFFF",borderRadius:"10px"}}),Object(l.b)("h3",Object(n.a)({parentName:"blockquote"},{id:"\u5931\u8d25\u60c5\u51b5"}),"\u5931\u8d25\u60c5\u51b5"),Object(l.b)("img",{src:a(1186).default,style:{zoom:"40%",boxShadow:"5px 7px 28px #FFFFFF",borderRadius:"10px"}})),Object(l.b)("h2",{id:"2pc-\u89e3\u51b3\u65b9\u6848"},"2PC \u89e3\u51b3\u65b9\u6848"),Object(l.b)("h3",{id:"xa-\u65b9\u6848"},"XA \u65b9\u6848"),Object(l.b)("p",null,"\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5982 ",Object(l.b)("inlineCode",{parentName:"p"},"Oracle"),"\u3001",Object(l.b)("inlineCode",{parentName:"p"},"MySQL")," \u90fd\u652f\u6301 2PC \u534f\u8bae\uff0c",Object(l.b)("inlineCode",{parentName:"p"},"XA")," \u5c31\u662f\u57fa\u4e8e\u6570\u636e\u5e93\u5c42\u9762\u5b9e\u73b0\u7684 2PC \u89e3\u51b3\u65b9\u6848"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u56fd\u9645\u5f00\u653e\u6807\u51c6\u7ec4\u7ec7 Open Group \u5b9a\u4e49\u4e86\u5206\u5e03\u5f0f\u4e8b\u52a1\u5904\u7406\u6a21\u578b ",Object(l.b)("inlineCode",{parentName:"li"},"DTP (Distributed Transaction Prcessing Reference Model)"))),Object(l.b)("br",null),Object(l.b)("img",{src:a(1187).default,style:{zoom:"40%",boxShadow:"5px 7px 28px #FFFFFF",borderRadius:"10px"}}),Object(l.b)("blockquote",null,Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u573a\u666f\uff1a\u6ce8\u518c\u7528\u6237\u9001\u79ef\u5206"}),Object(l.b)("strong",{parentName:"h2"},"\u573a\u666f\uff1a\u6ce8\u518c\u7528\u6237\u9001\u79ef\u5206")),Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u6267\u884c\u8fc7\u7a0b")),Object(l.b)("ol",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ol"},"\u5e94\u7528\u7a0b\u5e8f ",Object(l.b)("inlineCode",{parentName:"li"},"AP")," \u6301\u6709 ",Object(l.b)("inlineCode",{parentName:"li"},"\u7528\u6237\u5e93")," \u548c ",Object(l.b)("inlineCode",{parentName:"li"},"\u79ef\u5206\u5e93")," \u4e24\u4e2a\u6570\u636e\u6e90"),Object(l.b)("li",{parentName:"ol"},"\u5e94\u7528\u7a0b\u5e8f ",Object(l.b)("inlineCode",{parentName:"li"},"AP")," \u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"li"},"\u4e8b\u52a1\u7ba1\u7406\u5668 TM")," \u901a\u77e5\u7528\u6237\u5e93 ",Object(l.b)("inlineCode",{parentName:"li"},"\u8d44\u6e90\u7ba1\u7406\u5668 RM")," \u65b0\u589e\u7528\u6237\uff0c\u540c\u65f6\u901a\u77e5\u79ef\u5206\u5e93 ",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u4e3a\u8be5\u65b0\u7528\u6237\u65b0\u589e\u79ef\u5206\uff0c",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u6b64\u65f6\u5e76\u4e3a\u63d0\u4ea4\u4e8b\u52a1\uff0c",Object(l.b)("strong",{parentName:"li"},"\u6b64\u65f6\u7528\u6237\u548c\u79ef\u5206\u8d44\u6e90\u88ab\u9501\u5b9a")),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"\u4e8b\u52a1\u7ba1\u7406\u5668 TM")," \u6536\u5230\u6267\u884c\u56de\u590d\uff0c\u53ea\u8981\u4e00\u65b9\u5931\u8d25\u5219\u5206\u522b\u5411\u5176\u4ed6 ",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u53d1\u8d77\u4e8b\u52a1\u56de\u6eda\uff0c\u56de\u6eda\u5b8c\u6bd5\uff0c\u8d44\u6e90\u9501\u91ca\u653e"),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"\u4e8b\u52a1\u7ba1\u7406\u5668 TM")," \u6536\u5230\u6267\u884c\u56de\u590d\uff0c\u5168\u90e8\u6210\u529f\uff0c\u6b64\u65f6\u5411\u6240\u6709 ",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u53d1\u8d77\u63d0\u4ea4\u4e8b\u52a1\uff0c\u63d0\u4ea4\u5b8c\u6bd5\uff0c\u8d44\u6e90\u9501\u91ca\u653e"))),Object(l.b)("blockquote",null,Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"dtp-\u6a21\u578b\u5b9a\u4e49\u5982\u4e0b\u89d2\u8272"}),Object(l.b)("strong",{parentName:"h2"},"DTP \u6a21\u578b\u5b9a\u4e49\u5982\u4e0b\u89d2\u8272")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"AP")," \uff08Application Program\uff09"),"\uff1a\u5373 ",Object(l.b)("em",{parentName:"li"},"\u5e94\u7528\u7a0b\u5e8f"),"\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4f7f\u7528 ",Object(l.b)("inlineCode",{parentName:"li"},"DTP")," \u5206\u5e03\u5f0f\u4e8b\u52a1\u7684\u7a0b\u5e8f"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"RM"),"\uff08Resource Manager\uff09"),"\uff1a\u5373 ",Object(l.b)("em",{parentName:"li"},"\u8d44\u6e90\u7ba1\u7406\u5668"),"\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e8b\u52a1\u53c2\u4e0e\u8005\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u662f\u6307\u4e00\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\uff0c\u901a\u8fc7\u8d44\u6e90\u7ba1\u7406\u5668\u5bf9\u8be5\u6570\u636e\u5e93\u8fdb\u884c\u63a7\u5236\uff0c\u8d44\u6e90\u7ba1\u7406\u5668\u63a7\u5236\u7740\u5206\u652f\u4e8b\u52a1"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"TM"),"\uff08Transaction Manager\uff09"),"\uff1a\u5373 ",Object(l.b)("em",{parentName:"li"},"\u4e8b\u52a1\u7ba1\u7406\u5668"),"\uff0c\u8d1f\u8d23\u534f\u8c03\u548c\u7ba1\u7406\u4e8b\u52a1\uff0c\u4e8b\u52a1\u7ba1\u7406\u5668\u63a7\u5236\u7740\u5168\u5c40\u4e8b\u52a1\uff0c\u7ba1\u7406\u4e8b\u52a1\u751f\u547d\u5468\u671f\uff0c\u5e76\u534f\u8c03\u5404\u4e2a ",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u3002",Object(l.b)("strong",{parentName:"li"},"\u5168\u5c40\u4e8b\u52a1")," \u662f\u6307\u5206\u5e03\u5f0f\u4e8b\u52a1\u5904\u7406\u73af\u5883\u4e2d\uff0c\u9700\u8981\u64cd\u4f5c\u591a\u4e2a\u6570\u636e\u5e93\u5171\u540c\u5b8c\u6210\u7684\u4e00\u4e2a\u5de5\u4f5c\uff0c\u8fd9\u4e2a\u5de5\u4f5c\u5373\u662f\u4e00\u4e2a\u5168\u5c40\u4e8b\u52a1"),Object(l.b)("li",{parentName:"ul"},"DTP \u6a21\u578b\u5b9a\u4e49 ",Object(l.b)("inlineCode",{parentName:"li"},"TM"),"\u3001",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u4e4b\u95f4\u901a\u8baf\u7684\u63a5\u53e3\u89c4\u8303\u53eb\u505a ",Object(l.b)("inlineCode",{parentName:"li"},"XA"),"\uff0c\u7b80\u5355\u7406\u89e3\u6210\u6570\u636e\u5e93\u63d0\u4f9b\u7684 2PC \u63a5\u53e3\u534f\u8bae\uff0c",Object(l.b)("strong",{parentName:"li"},"\u57fa\u4e8e\u6570\u636e\u5e93\u7684 XA \u534f\u8bae\u6765\u5b9e\u73b0 2PC \u53c8\u79f0\u4e3a ",Object(l.b)("inlineCode",{parentName:"strong"},"XA \u65b9\u6848")))),Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u4e09\u89d2\u8272\u4ea4\u4e92\u65b9\u5f0f"}),"\u4e09\u89d2\u8272\u4ea4\u4e92\u65b9\u5f0f"),Object(l.b)("ol",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"TM")," \u5411 ",Object(l.b)("inlineCode",{parentName:"li"},"AP")," \u63d0\u4f9b ",Object(l.b)("em",{parentName:"li"},"\u5e94\u7528\u7a0b\u5e8f\u7f16\u7a0b\u63a5\u53e3"),"\uff0c",Object(l.b)("inlineCode",{parentName:"li"},"AP")," \u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"li"},"TM")," \u63d0\u4ea4\u53ca\u56de\u6eda\u4e8b\u52a1"),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"TM")," \u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"li"},"XA")," \u63a5\u53e3\u6765\u901a\u77e5 ",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u6570\u636e\u5e93\u4e8b\u52a1\u5f00\u59cb\u3001\u7ed3\u675f\u3001\u63d0\u4ea4\u3001\u56de\u6eda\u7b49"))),Object(l.b)("blockquote",null,Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"xa-\u65b9\u6848\u7684\u7f3a\u9677"}),"XA \u65b9\u6848\u7684\u7f3a\u9677"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u9700\u8981\u6570\u636e\u5e93\u5c42\u9762\u652f\u6301 XA \u534f\u8bae\uff0c\u4e00\u822c\u9700\u8981\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93"),Object(l.b)("li",{parentName:"ul"},"\u5728\u6b63\u5f0f\u63d0\u4ea4\u524d\uff0c\u4f1a\u9501\u5b9a\u76f8\u5173\u8d44\u6e90\uff0c\u8d44\u6e90\u9501\u9700\u8981\u7b49\u5230\u4e24\u4e2a\u9636\u6bb5\u7ed3\u675f\u624d\u91ca\u653e\uff0c\u6027\u80fd\u8f83\u5dee"))),Object(l.b)("h3",{id:"seata-\u65b9\u6848"},"Seata \u65b9\u6848"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"\u4f20\u7edf 2PC \u5b58\u5728\u7684\u95ee\u9898\u5728 Seata \u4e2d\u5f97\u5230\u4e86\u89e3\u51b3\uff0c\u5b83\u901a\u8fc7",Object(l.b)("strong",{parentName:"p"},"\u5bf9\u672c\u5730\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5206\u652f\u4e8b\u52a1\u7684\u534f\u8c03"),"\u6765\u9a71\u52a8\u5b8c\u6210\u5168\u5c40\u4e8b\u52a1\uff0c\u662f\u5de5\u4f5c\u5728\u5e94\u7528\u5c42\u7684\u4e2d\u95f4\u4ef6"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u6027\u80fd\u8f83\u597d\uff0c\u4e0d\u4f1a\u957f\u65f6\u95f4\u5360\u7528\u8fde\u63a5\u8d44\u6e90"),Object(l.b)("li",{parentName:"ul"},"\u4ee5\u9ad8\u6548\u5e76\u4e14\u5bf9\u4e1a\u52a1\u96f6\u5165\u4fb5\u7684\u65b9\u5f0f\u89e3\u51b3\u5fae\u670d\u52a1\u573a\u666f\u4e0b\u9762\u4e34\u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\u95ee\u9898"),Object(l.b)("li",{parentName:"ul"},"\u76ee\u524d\u63d0\u4f9b ",Object(l.b)("inlineCode",{parentName:"li"},"AT\uff08\u5373 2PC\uff09")," \u6a21\u5f0f\u53ca ",Object(l.b)("inlineCode",{parentName:"li"},"TCC")," \u6a21\u5f0f\u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\u89e3\u51b3\u65b9\u6848"))),Object(l.b)("blockquote",null,Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"seata-\u8bbe\u8ba1\u601d\u60f3"}),"Seata \u8bbe\u8ba1\u601d\u60f3"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u5c06\u4e00\u4e2a\u5206\u5e03\u5f0f\u4e8b\u52a1\u7406\u89e3\u6210\u4e00\u4e2a ",Object(l.b)("strong",{parentName:"li"},"\u5305\u542b\u4e86\u82e5\u5e72 ",Object(l.b)("inlineCode",{parentName:"strong"},"\u5206\u652f\u4e8b\u52a1")," \u7684 ",Object(l.b)("inlineCode",{parentName:"strong"},"\u5168\u5c40\u4e8b\u52a1"))),Object(l.b)("li",{parentName:"ul"},"\u5168\u5c40\u4e8b\u52a1\u7684\u804c\u8d23\u662f\u534f\u8c03\u5176\u4e0b\u7ba1\u8f96\u7684\u5206\u652f\u4e8b\u52a1\u8fbe\u6210\u4e00\u81f4\uff0c\u8981\u4e48\u4e00\u8d77\u6210\u529f\u63d0\u4ea4\uff0c\u8981\u4e48\u4e00\u8d77\u5931\u8d25\u56de\u6eda"),Object(l.b)("li",{parentName:"ul"},"\u901a\u5e38\u5206\u652f\u4e8b\u52a1\u5c31\u662f\u4e00\u4e2a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u672c\u5730\u4e8b\u52a1")),Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"seata-\u4e09\u7ec4\u4ef6"}),"Seata \u4e09\u7ec4\u4ef6"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"Seata \u5b9a\u4e49\u4e86 ",Object(l.b)("inlineCode",{parentName:"li"},"3")," \u4e2a\u7ec4\u4ef6\u6765\u534f\u8c03\u5206\u5e03\u5f0f\u4e8b\u52a1\u7684\u5904\u7406\u8fc7\u7a0b")),Object(l.b)("br",null),Object(l.b)("img",{src:a(1188).default,style:{zoom:"40%",boxShadow:"5px 7px 28px #FFFFFF",borderRadius:"10px"}})," ",Object(l.b)("br",null),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"Transaction Coordinator TC")),"\uff1a\u4e8b\u52a1\u534f\u8c03\u5668\uff0c\u5b83\u662f\u72ec\u7acb\u7684\u4e2d\u95f4\u4ef6\uff0c\u9700\u8981\u72ec\u7acb\u90e8\u7f72\u8fd0\u884c\uff0c\u5b83\u7ef4\u62a4\u4e8b\u52a1\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u63a5\u6536 ",Object(l.b)("inlineCode",{parentName:"li"},"TM")," \u6307\u4ee4\u53d1\u8d77\u5168\u5c40\u4e8b\u52a1\u7684\u63d0\u4ea4\u548c\u56de\u6eda\uff0c\u8d1f\u8d23\u4e0e ",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u901a\u4fe1\u534f\u8c03\u5404\u4e2a\u5206\u652f\u4e8b\u52a1\u7684\u63d0\u4ea4\u548c\u56de\u6eda"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"Transaction Manager TM")),"\uff1a\u4e8b\u52a1\u7ba1\u7406\u5668\uff0c",Object(l.b)("inlineCode",{parentName:"li"},"TM")," \u9700\u8981\u5d4c\u5165\u5e94\u7528\u7a0b\u5e8f\u5de5\u4f5c\uff0c\u5b83\u8d1f\u8d23\u5f00\u542f\u4e00\u4e2a\u5168\u5c40\u4e8b\u52a1\uff0c\u5e76\u6700\u7ec8\u5411 ",Object(l.b)("inlineCode",{parentName:"li"},"TC")," \u53d1\u8d77\u5168\u5c40\u63d0\u4ea4\u6216\u5168\u5c40\u56de\u6eda\u6307\u4ee4"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},Object(l.b)("inlineCode",{parentName:"strong"},"Resource Manager RM")),"\uff1a\u63a7\u5236\u5206\u652f\u4e8b\u52a1\uff0c\u8d1f\u8d23\u5206\u652f\u6ce8\u518c\u3001\u72b6\u6001\u6c47\u62a5\uff0c\u5e76\u63a5\u6536\u4e8b\u52a1\u534f\u8c03\u5668 TC \u7684\u6307\u4ee4\uff0c\u9a71\u52a8\uff08\u672c\u5730\uff09\u4e8b\u52a1\u7684\u63d0\u4ea4\u548c\u56de\u6eda"))),Object(l.b)("blockquote",null,Object(l.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"seata-\u5b9e\u73b0-2pc-\u4e0e\u4f20\u7edf-2pc-\u5b9e\u73b0\u7684\u5dee\u522b\uff1a"}),"Seata \u5b9e\u73b0 2PC \u4e0e\u4f20\u7edf 2PC \u5b9e\u73b0\u7684\u5dee\u522b\uff1a"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u67b6\u6784\u5c42\u6b21\u65b9\u9762\uff1a"),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u4f20\u7edf 2PC \u65b9\u6848\uff1a ",Object(l.b)("inlineCode",{parentName:"li"},"RM")," \u5b9e\u9645\u4e0a\u5728\u6570\u636e\u5e93\u5c42\u9762\uff0cRM \u672c\u8d28\u4e0a\u5c31\u662f\u6570\u636e\u5e93\u81ea\u8eab\uff0c\u901a\u8fc7 XA \u534f\u8bae\u5b9e\u73b0"),Object(l.b)("li",{parentName:"ul"},"Seata\uff1aRM \u662f\u4ee5 ",Object(l.b)("inlineCode",{parentName:"li"},"Jar")," \u5305\u5f62\u5f0f\u4f5c\u4e3a\u4e2d\u95f4\u4ef6\u90e8\u7f72\u5728\u5e94\u7528\u7a0b\u5e8f\u4e00\u4fa7"))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u4e24\u9636\u6bb5\u63d0\u4ea4\u65b9\u9762\uff1a"),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u4f20\u7edf 2PC \u65b9\u6848\uff1a\u65e0\u8bba\u7b2c\u4e8c\u9636\u6bb5\u7684\u51b3\u8bae\u662f ",Object(l.b)("inlineCode",{parentName:"li"},"\u63d0\u4ea4")," \u8fd8\u662f ",Object(l.b)("inlineCode",{parentName:"li"},"\u56de\u6eda"),"\uff0c\u4e8b\u52a1\u6027\u8d44\u6e90\u7684\u9501\u90fd\u8981\u4fdd\u6301\u5230\u7b2c\u4e8c\u9636\u6bb5\u7ed3\u675f\u624d\u80fd\u91ca\u653e"),Object(l.b)("li",{parentName:"ul"},"Seata\uff1a\u5728\u7b2c\u4e00\u9636\u6bb5\u5c31\u63d0\u4ea4\u672c\u5730\u4e8b\u52a1\uff0c\u53ef\u4ee5\u7701\u53bb\u7b2c\u4e8c\u9636\u6bb5\u6301\u6709\u9501\u7684\u65f6\u95f4\uff0c\u63d0\u9ad8\u6574\u4f53\u6548\u7387"))))),Object(l.b)("br",null),Object(l.b)("h1",{id:"seata-\u6982\u8ff0"},"Seata \u6982\u8ff0"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"http://seata.io/zh-cn/"}),"http://seata.io/zh-cn/")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Simple Extensible Autonomous Transaction Architecture \u7b80\u5355\u53ef\u6269\u5c55\u81ea\u6cbb\u4e8b\u52a1\u6846\u67b6")))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Transaction ID XID \u2014\u2014 \u5168\u5c40\u552f\u4e00\u4e8b\u52a1 ID"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"3")," \u7ec4\u4ef6\uff1a",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Transaction Coordinator ",Object(l.b)("inlineCode",{parentName:"strong"},"TC")," \u4e8b\u52a1\u534f\u8c03\u5668"),"\uff1a\u7ef4\u62a4\u5168\u5c40\u548c\u5206\u652f\u4e8b\u52a1\u7684\u72b6\u6001\uff0c\u9a71\u52a8\u5168\u5c40\u4e8b\u52a1\u63d0\u4ea4\u6216\u56de\u6eda\u3002"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Transaction Manage ",Object(l.b)("inlineCode",{parentName:"strong"},"TM")," \u4e8b\u52a1\u7ba1\u7406\u5668"),"\uff1a\u5b9a\u4e49\u5168\u5c40\u4e8b\u52a1\u7684\u8303\u56f4\uff1a\u5f00\u59cb\u5168\u5c40\u4e8b\u52a1\u3001\u63d0\u4ea4\u6216\u56de\u6eda\u5168\u5c40\u4e8b\u52a1\u3002"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Resource Manager ",Object(l.b)("inlineCode",{parentName:"strong"},"RM")," \u8d44\u6e90\u7ba1\u7406\u5668"),"\uff1a\u7ba1\u7406\u5206\u652f\u4e8b\u52a1\u5904\u7406\u7684\u8d44\u6e90\uff0c\u4e0e ",Object(l.b)("inlineCode",{parentName:"li"},"TC")," \u4ea4\u8c08\u4ee5\u6ce8\u518c\u5206\u652f\u4e8b\u52a1\u548c\u62a5\u544a\u5206\u652f\u4e8b\u52a1\u7684\u72b6\u6001\uff0c\u5e76\u9a71\u52a8\u5206\u652f\u4e8b\u52a1\u63d0\u4ea4\u6216\u56de\u6eda\u3002")))),Object(l.b)("br",null),Object(l.b)("img",{src:a(1189).default,style:{zoom:"80%",boxShadow:"5px 7px 28px #FFFFFF",borderRadius:"10px"}})," ",Object(l.b)("br",null),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"TM")," \u5411 ",Object(l.b)("inlineCode",{parentName:"li"},"TC")," \u7533\u8bf7\u5f00\u542f\u4e00\u4e2a\u5168\u5c40\u4e8b\u52a1\uff0c\u5168\u5c40\u4e8b\u52a1\u521b\u5efa\u6210\u529f\u5e76\u751f\u6210\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u4e8b\u52a1 ID\u2014\u2014 ",Object(l.b)("inlineCode",{parentName:"li"},"XID")),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"XID")," \u5728\u5fae\u670d\u52a1\u8c03\u7528\u94fe\u8def\u7684\u4e0a\u4e0b\u6587\u4e2d\u4f20\u64ad"),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"RM")," \uff08\u6570\u636e\u5e93\uff09\u5411 ",Object(l.b)("inlineCode",{parentName:"li"},"TC")," \u6ce8\u518c\u5206\u652f\u4e8b\u52a1\uff0c",Object(l.b)("strong",{parentName:"li"},"\u672c\u5730\u5206\u652f\u4e8b\u52a1\u6267\u884c\u5e76\u63d0\u4ea4"),"\uff0c\u5206\u652f\u4e8b\u52a1\u7eb3\u5165 ",Object(l.b)("inlineCode",{parentName:"li"},"XID")," \u5bf9\u5e94\u5168\u5c40\u4e8b\u52a1\u7ba1\u8f96\u8303\u56f4"),Object(l.b)("li",{parentName:"ol"},"\u5404\u5206\u652f\u4e8b\u52a1\u63d0\u4ea4\u5b8c\u6bd5"),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"RM")," \uff08\u6570\u636e\u5e93\uff09\u5411 ",Object(l.b)("inlineCode",{parentName:"li"},"TC")," \u6cdb\u8d77\u9488\u5bf9 ",Object(l.b)("inlineCode",{parentName:"li"},"XID")," \u7684\u5168\u5c40\u63d0\u4ea4\u6216\u56de\u6eda\u51b3\u8bae"),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"TC")," \u8c03\u5ea6 ",Object(l.b)("inlineCode",{parentName:"li"},"XID")," \u4e0b\u7ba1\u8f96\u7684\u5168\u90e8\u5206\u652f\u4e8b\u52a1\u5b8c\u6210\u63d0\u4ea4\u6216\u56de\u6eda\u8bf7\u6c42")),Object(l.b)("br",null),Object(l.b)("h1",{id:"seata-\u4e0b\u8f7d\u5b89\u88c5"},"Seata \u4e0b\u8f7d\u5b89\u88c5"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"\u672c\u6b21\u91c7\u7528 ",Object(l.b)("inlineCode",{parentName:"li"},"seata-server 0.9.0")," \u7248\u672c\uff0c\u5b98\u7f51\u4e0b\u8f7d"),Object(l.b)("li",{parentName:"ol"},"\u4e0b\u8f7d\u540e\u89e3\u538b\uff0c\u8fdb\u5165 ",Object(l.b)("inlineCode",{parentName:"li"},"/conf")," \u76ee\u5f55\uff0c\u4fee\u6539 ",Object(l.b)("inlineCode",{parentName:"li"},"file.conf")," \u914d\u7f6e\u6587\u4ef6",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u4fee\u6539 ",Object(l.b)("strong",{parentName:"li"},"\u81ea\u5b9a\u4e49\u4e8b\u52a1\u7ec4\u540d\u79f0 + \u4e8b\u52a1\u65e5\u5fd7\u5b58\u50a8\u6a21\u5f0f\u4e3a ",Object(l.b)("inlineCode",{parentName:"strong"},"db")," + \u6570\u636e\u5e93\u8fde\u63a5\u4fe1\u606f")),Object(l.b)("li",{parentName:"ul"},"service \u6a21\u5757\u3001store \u6a21\u5757",Object(l.b)("blockquote",{parentName:"li"},Object(l.b)(r.a,{defaultValue:"1",values:[{label:"service \u6a21\u5757",value:"1"},{label:"store \u6a21\u5757",value:"2"}],mdxType:"Tabs"},Object(l.b)(i.a,{value:"1",mdxType:"TabItem"},Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u4fee\u6539\u4e00\u4e0b\u7ec4\u540d")),Object(l.b)("pre",{parentName:"blockquote"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),'service {\n #vgroup->rgroup\n vgroup_mapping.my_test_tx_group = "bsx_group" # \u4fee\u6539\u4e00\u4e0b\u8fd9\u4e2a\u540d\u5b57\u5373\u53ef\n #only support single node\n default.grouplist = "127.0.0.1:8091"\n #degrade current not support\n enableDegrade = false\n #disable\n disable = false\n #unit ms,s,m,h,d represents milliseconds, seconds, minutes, hours, days, default permanent\n max.commit.retry.timeout = "-1"\n max.rollback.retry.timeout = "-1"\n}\n'))),Object(l.b)(i.a,{value:"2",mdxType:"TabItem"},Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u4fee\u6539 ",Object(l.b)("inlineCode",{parentName:"li"},"mode")," \u4e3a ",Object(l.b)("inlineCode",{parentName:"li"},"db")," \u6a21\u5f0f"),Object(l.b)("li",{parentName:"ul"},"\u5728 ",Object(l.b)("inlineCode",{parentName:"li"},"db")," \u680f\u76ee\u4e0b\uff0c\u6dfb\u52a0\u81ea\u5df1\u7684\u6570\u636e\u5e93\u8fde\u63a5\u4fe1\u606f")),Object(l.b)("pre",{parentName:"blockquote"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),'## transaction log store\nstore {\n ## store mode: file\u3001db\n # mode = "file"\n mode = "db" # \u4fee\u6539\u4e3a\u4f7f\u7528\u6570\u636e\u5e93\u5b58\u50a8\n\n ## file store\n file {\n   dir = "sessionStore"\n\n   # branch session size , if exceeded first try compress lockkey, still exceeded throws exceptions\n   max-branch-session-size = 16384\n   # globe session size , if exceeded throws exceptions\n   max-global-session-size = 512\n   # file buffer size , if exceeded allocate new buffer\n   file-write-buffer-cache-size = 16384\n   # when recover batch read size\n   session.reload.read_size = 100\n   # async, sync\n   flush-disk-mode = async\n }\n\n ## database store\n db {\n   ## the implement of javax.sql.DataSource, such as DruidDataSource(druid)/BasicDataSource(dbcp) etc.\n   datasource = "dbcp"\n   ## mysql/oracle/h2/oceanbase etc.\n   db-type = "mysql"\n   driver-class-name = "com.mysql.jdbc.Driver"\n   url = "jdbc:mysql://127.0.0.1:3306/seata"\n   user = "root"\n   password = "111111"\n   min-conn = 1\n   max-conn = 3\n   global.table = "global_table"\n   branch.table = "branch_table"\n   lock-table = "lock_table"\n   query-limit = 100\n }\n}\n')))))))),Object(l.b)("li",{parentName:"ol"},"\u5728 MySQL 5.7 \u4e2d\u65b0\u5efa ",Object(l.b)("inlineCode",{parentName:"li"},"seata")," \u5e93"),Object(l.b)("li",{parentName:"ol"},"\u5728 ",Object(l.b)("inlineCode",{parentName:"li"},"seata")," \u5e93\u91cc\u5efa\u8868\uff0c\u811a\u672c\u5728 ",Object(l.b)("inlineCode",{parentName:"li"},"/conf/db_store.sql")),Object(l.b)("li",{parentName:"ol"},"\u4fee\u6539 ",Object(l.b)("inlineCode",{parentName:"li"},"/conf")," \u76ee\u5f55\u4e0b\u7684 ",Object(l.b)("inlineCode",{parentName:"li"},"registry.conf")," \u914d\u7f6e\u6587\u4ef6",Object(l.b)("blockquote",{parentName:"li"},Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u4fee\u6539\u4e3a ",Object(l.b)("inlineCode",{parentName:"li"},"nacos"))),Object(l.b)("pre",{parentName:"blockquote"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),'registry {\n  # file \u3001nacos \u3001eureka\u3001redis\u3001zk\u3001consul\u3001etcd3\u3001sofa\n  # type = "file"\n  type = "nacos" # \u4fee\u6539\u4e3a nacos\n\n  nacos {\n    serverAddr = "localhost:8848"\n    namespace = ""\n    cluster = "default"\n  }\n# \u7701\u7565\u4e4b\u540e\u7684\u4e1c\u897f\n')))),Object(l.b)("li",{parentName:"ol"},"\u542f\u52a8 ",Object(l.b)("inlineCode",{parentName:"li"},"Nacos8848")),Object(l.b)("li",{parentName:"ol"},"\u542f\u52a8 ",Object(l.b)("inlineCode",{parentName:"li"},"seata-server"),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"sh seata-server.sh")))),Object(l.b)("li",{parentName:"ol"},"\u67e5\u770b ",Object(l.b)("inlineCode",{parentName:"li"},"Nacos"),"\uff0c\u51fa\u73b0\u4e86\u4e00\u4e2a\u670d\u52a1\uff0c\u67e5\u770b\u8be6\u60c5\u53ef\u4ee5\u770b\u5230\u5176\u8fd0\u884c\u5728 ",Object(l.b)("inlineCode",{parentName:"li"},"8091")," \u7aef\u53e3\uff0c\u5373 ",Object(l.b)("inlineCode",{parentName:"li"},"seata-server"))),Object(l.b)("br",null),Object(l.b)("img",{src:a(1190).default,style:{zoom:"100%",boxShadow:"5px 7px 28px #333333",borderRadius:"10px"}})," ",Object(l.b)("br",null),Object(l.b)("img",{src:a(1191).default,style:{zoom:"100%",boxShadow:"5px 7px 28px #333333",borderRadius:"10px"}})," ",Object(l.b)("br",null))}m.isMDXComponent=!0},566:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return O}));var n=a(0),b=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,b=function(e,t){if(null==e)return{};var a,n,b={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(b[a]=e[a]);return b}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(b[a]=e[a])}return b}var o=b.a.createContext({}),p=function(e){var t=b.a.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=p(e.components);return b.a.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},u=b.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,r=e.parentName,o=c(e,["components","mdxType","originalType","parentName"]),s=p(a),u=n,O=s["".concat(r,".").concat(u)]||s[u]||m[u]||l;return a?b.a.createElement(O,i(i({ref:t},o),{},{components:a})):b.a.createElement(O,i({ref:t},o))}));function O(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,r=new Array(l);r[0]=u;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,r[1]=i;for(var o=2;o<l;o++)r[o]=a[o];return b.a.createElement.apply(null,r)}return b.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},567:function(e,t,a){"use strict";function n(e){var t,a,b="";if("string"==typeof e||"number"==typeof e)b+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(b&&(b+=" "),b+=a);else for(t in e)e[t]&&(b&&(b+=" "),b+=t);return b}t.a=function(){for(var e,t,a=0,b="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(b&&(b+=" "),b+=t);return b}},568:function(e,t,a){"use strict";var n=a(0);const b=Object(n.createContext)(void 0);t.a=b},569:function(e,t,a){"use strict";var n=a(0),b=a(568);t.a=function(){const e=Object(n.useContext)(b.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},570:function(e,t,a){"use strict";var n=a(0),b=a.n(n),l=a(569),r=a(567),i=a(47),c=a.n(i);const o=37,p=39;t.a=function(e){const{block:t,children:a,defaultValue:i,values:s,groupId:m}=e,{tabGroupChoices:u,setTabGroupChoices:O}=Object(l.a)(),[j,d]=Object(n.useState)(i),[N,f]=Object(n.useState)(!1);if(null!=m){const e=u[m];null!=e&&e!==j&&s.some(t=>t.value===e)&&d(e)}const C=e=>{d(e),null!=m&&O(m,e)},g=[],h=e=>{e.metaKey||e.altKey||e.ctrlKey||f(!0)},y=()=>{f(!1)};return Object(n.useEffect)(()=>{window.addEventListener("keydown",h),window.addEventListener("mousedown",y)},[]),b.a.createElement("div",null,b.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(r.a)("tabs",{"tabs--block":t})},s.map(({value:e,label:t})=>b.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":j===e,className:Object(r.a)("tabs__item",c.a.tabItem,{"tabs__item--active":j===e}),style:N?{}:{outline:"none"},key:e,ref:e=>g.push(e),onKeyDown:e=>{((e,t,a)=>{switch(a.keyCode){case p:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case o:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(g,e.target,e),h(e)},onFocus:()=>C(e),onClick:()=>{C(e),f(!1)},onPointerDown:()=>f(!1)},t))),b.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter(e=>e.props.value===j)[0]))}},571:function(e,t,a){"use strict";var n=a(0),b=a.n(n);t.a=function(e){return b.a.createElement("div",null,e.children)}}}]);