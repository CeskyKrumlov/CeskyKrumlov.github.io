(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{290:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return b})),t.d(n,"rightToc",(function(){return p})),t.d(n,"default",(function(){return s}));var a=t(2),r=t(6),i=(t(0),t(564)),o=t(568),l=t(569),c={id:"6.globalDynamicRefresh",title:"\u5168\u5c40\u5e7f\u64ad\u52a8\u6001\u5237\u65b0",hide_title:!0},b={unversionedId:"springcloud/\u914d\u7f6e\u4e2d\u5fc3/6.globalDynamicRefresh",id:"springcloud/\u914d\u7f6e\u4e2d\u5fc3/6.globalDynamicRefresh",isDocsHomePage:!1,title:"\u5168\u5c40\u5e7f\u64ad\u52a8\u6001\u5237\u65b0",description:"\u5168\u5c40\u5e7f\u64ad\u52a8\u6001\u5237\u65b0",source:"@site/docs/springcloud/\u914d\u7f6e\u4e2d\u5fc3/6.\u5168\u5c40\u5e7f\u64ad\u52a8\u6001\u5237\u65b0.mdx",slug:"/springcloud/\u914d\u7f6e\u4e2d\u5fc3/6.globalDynamicRefresh",permalink:"/docs/springcloud/\u914d\u7f6e\u4e2d\u5fc3/6.globalDynamicRefresh",version:"current",sidebar:"someSidebar",previous:{title:"Bus \u6d88\u606f\u603b\u7ebf\u6982\u8ff0",permalink:"/docs/springcloud/\u914d\u7f6e\u4e2d\u5fc3/5.springcloudBus"},next:{title:"Stream \u6982\u8ff0",permalink:"/docs/springcloud/\u6d88\u606f\u9a71\u52a8/1.stream"}},p=[{value:"\u5168\u5c40\u5e7f\u64ad\u52a8\u6001\u5237\u65b0",id:"\u5168\u5c40\u5e7f\u64ad\u52a8\u6001\u5237\u65b0",children:[]},{value:"\u5168\u5c40\u5e7f\u64ad\u8bbe\u8ba1\u601d\u60f3",id:"\u5168\u5c40\u5e7f\u64ad\u8bbe\u8ba1\u601d\u60f3",children:[]},{value:"\u6539\u9020 Config Server 3344",id:"\u6539\u9020-config-server-3344",children:[{value:"POM",id:"pom",children:[]},{value:"YAML",id:"yaml",children:[]}]},{value:"\u65b0\u5efa Config Client 3366",id:"\u65b0\u5efa-config-client-3366",children:[]},{value:"\u6539\u9020\u4e24\u4e2a Config Client",id:"\u6539\u9020\u4e24\u4e2a-config-client",children:[]},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",children:[]},{value:"\u5fae\u670d\u52a1\u5b9a\u70b9\u901a\u77e5",id:"\u5fae\u670d\u52a1\u5b9a\u70b9\u901a\u77e5",children:[]}],u={rightToc:p};function s(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},u,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"\u5168\u5c40\u5e7f\u64ad\u52a8\u6001\u5237\u65b0"},"\u5168\u5c40\u5e7f\u64ad\u52a8\u6001\u5237\u65b0"),Object(i.b)("h1",{id:"\u5168\u5c40\u5e7f\u64ad\u8bbe\u8ba1\u601d\u60f3"},"\u5168\u5c40\u5e7f\u64ad\u8bbe\u8ba1\u601d\u60f3"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"\u5229\u7528\u6d88\u606f\u603b\u7ebf\u89e6\u53d1\u4e00\u4e2a Config Client \u7684 ",Object(i.b)("inlineCode",{parentName:"li"},"/bus/refresh"),"\uff0c\u4ece\u800c\u5237\u65b0\u6240\u6709 Config Client \u7684\u914d\u7f6e"),Object(i.b)("li",{parentName:"ol"},"\u5229\u7528\u6d88\u606f\u603b\u7ebf\u89e6\u53d1\u4e00\u4e2a\u670d\u52a1\u7aef Config Server \u7684 ",Object(i.b)("inlineCode",{parentName:"li"},"/bus/refresh")," \uff0c\u4ece\u800c\u5237\u65b0\u6240\u6709 Config Client \u7684\u914d\u7f6e"),Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"\u89e6\u53d1\u670d\u52a1\u7aef Config Server \u7684\u65b9\u5f0f\u6bd4\u8f83\u597d"),"\uff0c\u56e0\u4e3a\u89e6\u53d1\u4e00\u4e2a ",Object(i.b)("inlineCode",{parentName:"li"},"Config Client")," \u7684 ",Object(i.b)("inlineCode",{parentName:"li"},"\u6a21\u5f0f")," \u5177\u6709\u4ee5\u4e0b",Object(i.b)("inlineCode",{parentName:"li"},"\u7f3a\u70b9"),"\uff1a",Object(i.b)("ol",{parentName:"li"},Object(i.b)("li",{parentName:"ol"},"\u6253\u7834\u4e86\u5fae\u670d\u52a1\u7684\u804c\u8d23\u5355\u4e00\u6027"),Object(i.b)("li",{parentName:"ol"},"\u7834\u574f\u4e86\u5fae\u670d\u52a1\u5404\u8282\u70b9\u7684\u5bf9\u7b49\u6027"),Object(i.b)("li",{parentName:"ol"},"\u6709\u4e00\u5b9a\u5c40\u9650\u6027\uff0c\u5fae\u670d\u52a1\u8fc1\u79fb\u65f6\uff0c\u8bb8\u591a\u914d\u7f6e\u5982\u7f51\u7edc\u5730\u5740\u4f1a\u53d1\u751f\u53d8\u5316")))),Object(i.b)("br",null),Object(i.b)("h1",{id:"\u6539\u9020-config-server-3344"},"\u6539\u9020 Config Server 3344"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"\u6539\u9020 ",Object(i.b)("inlineCode",{parentName:"strong"},"cloud-config-center-3344")," \u914d\u7f6e\u4e2d\u5fc3 ",Object(i.b)("inlineCode",{parentName:"strong"},"\u670d\u52a1\u7aef")," \u6dfb\u52a0\u6d88\u606f\u603b\u7ebf\u652f\u6301"))),Object(i.b)("h2",{id:"pom"},"POM"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u6dfb\u52a0 ",Object(i.b)("inlineCode",{parentName:"p"},"starter-bus-amqp")," RabbitMQ \u4f9d\u8d56"),Object(i.b)(o.a,{defaultValue:"single",values:[{label:"RabbitMQ\u4f9d\u8d56",value:"single"},{label:"\u5b8c\u6574\u4f9d\u8d56",value:"all"}],mdxType:"Tabs"},Object(i.b)(l.a,{value:"single",mdxType:"TabItem"},Object(i.b)("pre",{parentName:"blockquote"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),"\x3c!-- \u6dfb\u52a0\u6d88\u606f\u603b\u7ebfRabbitMQ\u652f\u6301--\x3e\n<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-bus-amqp</artifactId>\n</dependency>\n"))),Object(i.b)(l.a,{value:"all",mdxType:"TabItem"},Object(i.b)("pre",{parentName:"blockquote"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),"<dependencies>\n    \x3c!--config server--\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-config-server</artifactId>\n    </dependency>\n    \x3c!--eureka client--\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n    </dependency>\n    \x3c!-- \u6dfb\u52a0\u6d88\u606f\u603b\u7ebfRabbitMQ\u652f\u6301--\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-bus-amqp</artifactId>\n    </dependency>\n    <dependency>\x3c!-- \u5f15\u7528\u81ea\u5df1\u5b9a\u4e49\u7684api\u901a\u7528\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528Payment\u652f\u4ed8Entity --\x3e\n        <groupId>org.example</groupId>\n        <artifactId>cloud-api-commons</artifactId>\n        <version>1.0-SNAPSHOT</version>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n    \x3c!--\u76d1\u63a7--\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-actuator</artifactId>\n    </dependency>\n    \x3c!--\u70ed\u90e8\u7f72--\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-devtools</artifactId>\n        <scope>runtime</scope>\n        <optional>true</optional>\n    </dependency>\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n        <optional>true</optional>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-test</artifactId>\n        <scope>test</scope>\n    </dependency>\n</dependencies>\n"))))),Object(i.b)("h2",{id:"yaml"},"YAML"),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u589e\u52a0 ",Object(i.b)("inlineCode",{parentName:"li"},"RabbitMQ")," \u8bbe\u7f6e"),Object(i.b)("li",{parentName:"ul"},"\u589e\u52a0\u66b4\u9732 bus \u5237\u65b0\u914d\u7f6e\u7aef\u70b9\u8bbe\u7f6e")),Object(i.b)("pre",{parentName:"blockquote"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"server:\n  port: 3344\n\nspring:\n  application:\n    name: cloud-config-center\n  cloud:\n    config:\n      server:\n        git:\n          #uri: git@gitee.com:ceskykrumlov/springcloud-config.git # ssh\u65b9\u5f0f\uff0c\u4e0d\u652f\u6301openssh\n          uri: https://gitee.com/ceskykrumlov/springcloud-config.git\n          ##\u641c\u7d22\u76ee\u5f55.\u8fd9\u4e2a\u76ee\u5f55\u6307\u7684\u662fgithub\u4e0a\u7684\u76ee\u5f55\n          username: banbanzhichinimen@qq.com # \u4f60\u7684github / gitee \u8d26\u6237 \u914d\u5408 https\uff0cssh\u65b9\u5f0f\u4e0d\u9700\u8981\n          password: 680721sx  # \u4f60\u7684 github/gitee \u5bc6\u7801 \u914d\u5408 https\uff0cssh\u65b9\u5f0f\u4e0d\u9700\u8981\n          search-paths:\n            - sprincloud-config\n      ##\u8bfb\u53d6\u5206\u652f\n      label: master\n  #rabbit\u76f8\u5173\u914d\u7f6e 15672\u662fweb\u7ba1\u7406\u754c\u9762\u7684\u7aef\u53e3\uff0c5672\u662fMQ\u8bbf\u95ee\u7684\u7aef\u53e3\n  rabbitmq:\n    host: localhost\n    port: 5672\n    username: guest\n    password: guest\n\neureka:\n  client:\n    service-url:\n      defaultZone: http://eureka7001.com:7001/eureka/\n#rabbitmq\u76f8\u5173\u8bbe\u7f6e \uff0c\u66b4\u9732 bus\u5237\u65b0\u914d\u7f6e\u7684\u7aef\u70b9 actuator\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: 'bus-refresh'\n"))),Object(i.b)("br",null),Object(i.b)("h1",{id:"\u65b0\u5efa-config-client-3366"},"\u65b0\u5efa Config Client 3366"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u53c2\u7167 ",Object(i.b)("inlineCode",{parentName:"p"},"3355")," \u521b\u5efa\u4e00\u4e2a ",Object(i.b)("inlineCode",{parentName:"p"},"3366")),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"POM\u3001bootstrap.yml\u3001\u4e3b\u542f\u52a8\u7c7b\u3001Controller \u90fd\u6765\u4e00\u4efd"),Object(i.b)("li",{parentName:"ul"},"Controller \u65b9\u6cd5\u54cd\u5e94\u7684\u5b57\u7b26\u4e32\u4e2d\uff0c\u53ef\u4ee5\u52a0\u4e0a\u7aef\u53e3\u53f7\uff0c\u7528\u6765\u533a\u5206"))),Object(i.b)("br",null),Object(i.b)("h1",{id:"\u6539\u9020\u4e24\u4e2a-config-client"},"\u6539\u9020\u4e24\u4e2a Config Client"),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"3355"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"3366")," \u7684 pom \u90fd\u6dfb\u52a0 RabbitMQ Maven \u4f9d\u8d56"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"3355"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"3366")," \u90fd\u4fee\u6539 ",Object(i.b)("inlineCode",{parentName:"li"},"bootstrap.yml")," \u6dfb\u52a0 ",Object(i.b)("inlineCode",{parentName:"li"},"RabbitMq")," \u914d\u7f6e")),Object(i.b)(o.a,{defaultValue:"3355",values:[{label:"3355 bootstrap.yml",value:"3355"},{label:"3366 bootstrap.yml",value:"3366"}],mdxType:"Tabs"},Object(i.b)(l.a,{value:"3355",mdxType:"TabItem"},Object(i.b)("pre",{parentName:"blockquote"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml"}),'server:\n  port: 3355\n\nspring:\n  application:\n    name: config-client\n  cloud:\n    #Config\u5ba2\u6237\u7aef\u914d\u7f6e\n    config:\n      label: master #\u5206\u652f\u540d\u79f0\n      name: config #\u914d\u7f6e\u6587\u4ef6\u540d\u79f0\n      profile: dev #\u8bfb\u53d6\u540e\u7f00\u540d\u79f0 \u4e0a\u8bc93\u4e2a\u7efc\u5408\u5c31\u662f master\u5206\u652f\u4e0a config-dev.yml\n      uri: http://localhost:3344 # spring cloud config server uri\n  rabbitmq: \n    host: localhost\n    port: 5672\n    username: guest\n    password: guest\n    \neureka:\n  client:\n    service-url:\n      defaultZone: http://eureka7001.com:7001/eureka/\n\n#\u66b4\u9732 actuator \u76d1\u63a7\u7aef\u70b9 \u8ba9\u914d\u7f6e\u4fee\u6539\u53ef\u4ee5\u88ab\u76d1\u63a7\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n'))),Object(i.b)(l.a,{value:"3366",mdxType:"TabItem"},Object(i.b)("pre",{parentName:"blockquote"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml"}),'server:\n  port: 3366\n\nspring:\n  application:\n    name: config-client\n  cloud:\n    #Config\u5ba2\u6237\u7aef\u914d\u7f6e\n    config:\n      label: master #\u5206\u652f\u540d\u79f0\n      name: config #\u914d\u7f6e\u6587\u4ef6\u540d\u79f0\n      profile: dev #\u8bfb\u53d6\u540e\u7f00\u540d\u79f0 \u4e0a\u8bc93\u4e2a\u7efc\u5408\u5c31\u662f master\u5206\u652f\u4e0a config-dev.yml\n      uri: http://localhost:3344 # spring cloud config server uri\n  rabbitmq:\n    host: localhost\n    port: 5672\n    username: guest\n    password: guest\n    \neureka:\n  client:\n    service-url:\n      defaultZone: http://eureka7001.com:7001/eureka/\n\n#\u66b4\u9732 actuator \u76d1\u63a7\u7aef\u70b9 \u8ba9\u914d\u7f6e\u4fee\u6539\u53ef\u4ee5\u88ab\u76d1\u63a7\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n'))))),Object(i.b)("br",null),Object(i.b)("h1",{id:"\u6d4b\u8bd5"},"\u6d4b\u8bd5"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u542f\u52a8\u6ce8\u518c\u4e2d\u5fc3 ",Object(i.b)("inlineCode",{parentName:"li"},"7001")),Object(i.b)("li",{parentName:"ul"},"\u542f\u52a8\u914d\u7f6e\u4e2d\u5fc3\u670d\u52a1\u7aef ",Object(i.b)("inlineCode",{parentName:"li"},"3344")),Object(i.b)("li",{parentName:"ul"},"\u542f\u52a8\u914d\u7f6e\u5ba2\u6237\u7aef ",Object(i.b)("inlineCode",{parentName:"li"},"3355"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"3366")),Object(i.b)("li",{parentName:"ul"},"\u5728 ",Object(i.b)("inlineCode",{parentName:"li"},"Github / Gitee")," \u4e0a\u4fee\u6539\u8fdc\u7a0b\u914d\u7f6e\u6587\u4ef6 ",Object(i.b)("inlineCode",{parentName:"li"},"config-dev.yml")," \u628a\u7248\u672c\u53f7 ",Object(i.b)("inlineCode",{parentName:"li"},"version")," \u6539\u4e2a\u503c\uff0c\u63d0\u4ea4 \uff08\u8fd9\u91cc\u6211\u539f\u5148\u662f ",Object(i.b)("inlineCode",{parentName:"li"},"5"),"\uff0c\u6539\u6210 ",Object(i.b)("inlineCode",{parentName:"li"},"12"),"\uff09"),Object(i.b)("li",{parentName:"ul"},"\u5148\u67e5\u770b\u4e00\u6b21\u503c",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"http://config-3344.com:3344/master/config-dev.yaml")," \u67e5\u51fa\u6765\u662f ",Object(i.b)("inlineCode",{parentName:"li"},"12")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"localhost:3355/configInfo")," \u67e5\u51fa\u6765\u662f ",Object(i.b)("inlineCode",{parentName:"li"},"5")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"localhost:3366/configInfo")," \u67e5\u51fa\u6765\u662f ",Object(i.b)("inlineCode",{parentName:"li"},"5")))),Object(i.b)("li",{parentName:"ul"},"\u4f7f\u7528 ",Object(i.b)("inlineCode",{parentName:"li"},"POST")," \u8bf7\u6c42\u914d\u7f6e\u4e2d\u5fc3\u670d\u52a1\u7aef\uff0c\u8fdb\u884c\u5237\u65b0 ",Object(i.b)("inlineCode",{parentName:"li"},'curl -X POST "http://localhost:3344/actuator/bus-refresh"')," \uff0c\u6b64\u5904\u7684 path ",Object(i.b)("inlineCode",{parentName:"li"},"/bus-refresh")," \u5c31\u662f\u914d\u7f6e\u5728 3344 yml \u4e2d\u66b4\u9732\u7684\u5730\u5740"),Object(i.b)("li",{parentName:"ul"},"\u518d\u67e5\u770b\u4e00\u6b21\u503c",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"http://config-3344.com:3344/master/config-dev.yaml")," \u67e5\u51fa\u6765\u662f ",Object(i.b)("inlineCode",{parentName:"li"},"12")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"localhost:3355/configInfo")," \u67e5\u51fa\u6765\u662f ",Object(i.b)("inlineCode",{parentName:"li"},"12")," ",Object(i.b)("br",null)," \u54cd\u5e94\n",Object(i.b)("inlineCode",{parentName:"li"},"3355: master branch,springcloud-config/config-dev.yml version=12")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"localhost:3366/configInfo")," \u67e5\u51fa\u6765\u662f ",Object(i.b)("inlineCode",{parentName:"li"},"12")," ",Object(i.b)("br",null)," \u54cd\u5e94\n",Object(i.b)("inlineCode",{parentName:"li"},"3366: master branch,springcloud-config/config-dev.yml version=12")))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u5b9e\u73b0\u4e00\u6b21\u4fee\u6539\uff0c\u5e7f\u64ad\u901a\u77e5\uff0c\u5904\u5904\u751f\u6548\uff1a\u53ea\u9700\u8981\u5237\u4e00\u4e0b ",Object(i.b)("inlineCode",{parentName:"strong"},"3344"),"\uff0c\u5269\u4e0b\u7684 ",Object(i.b)("inlineCode",{parentName:"strong"},"3355"),"\u3001",Object(i.b)("inlineCode",{parentName:"strong"},"3366")," \u901a\u8fc7 BUS \u81ea\u52a8\u5c31\u5237\u65b0\u4e86"))),Object(i.b)("br",null),Object(i.b)("h1",{id:"\u5fae\u670d\u52a1\u5b9a\u70b9\u901a\u77e5"},"\u5fae\u670d\u52a1\u5b9a\u70b9\u901a\u77e5"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u9700\u6c42\u573a\u666f\uff1a\u53ea\u60f3\u66f4\u6539 ",Object(i.b)("inlineCode",{parentName:"p"},"3355"),"\uff0c\u4e0d\u60f3\u4fee\u6539  ",Object(i.b)("inlineCode",{parentName:"p"},"3366")),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u4f7f\u7528\u516c\u5f0f ",Object(i.b)("inlineCode",{parentName:"li"},"http://localhost:3344/actuator/bus-refresh/{destination}")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"/bus-refresh")," \u8bf7\u6c42\u4e0d\u518d\u53d1\u9001\u5230\u5177\u4f53\u7684\u5fae\u670d\u52a1\u5b9e\u4f8b\u4e0a\uff0c\u800c\u662f\u53d1\u9001\u7ed9 ",Object(i.b)("inlineCode",{parentName:"li"},"config server 3344"),"\uff0c\u901a\u8fc7 ",Object(i.b)("inlineCode",{parentName:"li"},"destination")," \u53c2\u6570\u6307\u5b9a\u9700\u8981\u66f4\u65b0\u914d\u7f6e\u7684\u670d\u52a1\u6216\u5b9e\u4f8b"),Object(i.b)("li",{parentName:"ul"},"\u4f8b\uff1a\u53ea\u60f3\u66f4\u6539 ",Object(i.b)("inlineCode",{parentName:"li"},"3355"),"\uff0c\u4e0d\u60f3\u4fee\u6539 ",Object(i.b)("inlineCode",{parentName:"li"},"3366"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"\u4f7f\u7528 POST \u8bf7\u6c42\uff1a",Object(i.b)("inlineCode",{parentName:"li"},'curl -X POST "http://localhost:3344/actuator/bus-refresh/config-client:3355"')),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"/config-client:3355")," \u662f\u7531 ",Object(i.b)("inlineCode",{parentName:"li"},"3355")," \u5fae\u670d\u52a1\u7684 YAML \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 ",Object(i.b)("inlineCode",{parentName:"li"},"spring.application.name")," \u5c5e\u6027 + ",Object(i.b)("inlineCode",{parentName:"li"},"server.port")," \u7aef\u53e3\u53f7 \u7ec4\u6210\u7684"))))))}s.isMDXComponent=!0},564:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return m}));var a=t(0),r=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var b=r.a.createContext({}),p=function(e){var n=r.a.useContext(b),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=p(e.components);return r.a.createElement(b.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),u=p(t),d=a,m=u["".concat(o,".").concat(d)]||u[d]||s[d]||i;return t?r.a.createElement(m,l(l({ref:n},b),{},{components:t})):r.a.createElement(m,l({ref:n},b))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var b=2;b<i;b++)o[b]=t[b];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},565:function(e,n,t){"use strict";function a(e){var n,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=a(e[n]))&&(r&&(r+=" "),r+=t);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}n.a=function(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=a(e))&&(r&&(r+=" "),r+=n);return r}},566:function(e,n,t){"use strict";var a=t(0);const r=Object(a.createContext)(void 0);n.a=r},567:function(e,n,t){"use strict";var a=t(0),r=t(566);n.a=function(){const e=Object(a.useContext)(r.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},568:function(e,n,t){"use strict";var a=t(0),r=t.n(a),i=t(567),o=t(565),l=t(47),c=t.n(l);const b=37,p=39;n.a=function(e){const{block:n,children:t,defaultValue:l,values:u,groupId:s}=e,{tabGroupChoices:d,setTabGroupChoices:m}=Object(i.a)(),[O,g]=Object(a.useState)(l),[f,j]=Object(a.useState)(!1);if(null!=s){const e=d[s];null!=e&&e!==O&&u.some(n=>n.value===e)&&g(e)}const N=e=>{g(e),null!=s&&m(s,e)},y=[],h=e=>{e.metaKey||e.altKey||e.ctrlKey||j(!0)},v=()=>{j(!1)};return Object(a.useEffect)(()=>{window.addEventListener("keydown",h),window.addEventListener("mousedown",v)},[]),r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":n})},u.map(({value:e,label:n})=>r.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":O===e,className:Object(o.a)("tabs__item",c.a.tabItem,{"tabs__item--active":O===e}),style:f?{}:{outline:"none"},key:e,ref:e=>y.push(e),onKeyDown:e=>{((e,n,t)=>{switch(t.keyCode){case p:((e,n)=>{const t=e.indexOf(n)+1;e[t]?e[t].focus():e[0].focus()})(e,n);break;case b:((e,n)=>{const t=e.indexOf(n)-1;e[t]?e[t].focus():e[e.length-1].focus()})(e,n)}})(y,e.target,e),h(e)},onFocus:()=>N(e),onClick:()=>{N(e),j(!1)},onPointerDown:()=>j(!1)},n))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(t).filter(e=>e.props.value===O)[0]))}},569:function(e,n,t){"use strict";var a=t(0),r=t.n(a);n.a=function(e){return r.a.createElement("div",null,e.children)}}}]);