<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.62">
<title data-react-helmet="true">Ubuntu1804_CUDA10.0_Cudnn7.6.3深度学习环境搭建 | Ban&#x27;s Java</title><meta data-react-helmet="true" property="og:title" content="Ubuntu1804_CUDA10.0_Cudnn7.6.3深度学习环境搭建 | Ban&#x27;s Java"><meta data-react-helmet="true" name="description" content="预备材料："><meta data-react-helmet="true" property="og:description" content="预备材料："><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/avatar.jpg"><link rel="stylesheet" href="/styles.f2fdc7cb.css">
<link rel="preload" href="/styles.c58146e3.js" as="script">
<link rel="preload" href="/runtime~main.66a1c0f1.js" as="script">
<link rel="preload" href="/main.7723c161.js" as="script">
<link rel="preload" href="/1.3abb7365.js" as="script">
<link rel="preload" href="/2.e11f32b4.js" as="script">
<link rel="preload" href="/3.b509c796.js" as="script">
<link rel="preload" href="/ccc49370.e3474c30.js" as="script">
<link rel="preload" href="/4974f931.f09010c3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/avatar.jpg" alt="My Site Logo"><strong class="navbar__title">主页</strong></a><a class="navbar__item navbar__link" href="/docs/">学习笔记</a><a class="navbar__item navbar__link" href="/datastructure/">算法与设计模式</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://gitee.com/ceskykrumlov" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Gitee</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/avatar.jpg" alt="My Site Logo"><strong class="navbar__title">主页</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">学习笔记</a></li><li class="menu__list-item"><a class="menu__link" href="/datastructure/">算法与设计模式</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">博客</a></li><li class="menu__list-item"><a href="https://gitee.com/ceskykrumlov" target="_blank" rel="noopener noreferrer" class="menu__link">Gitee</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">Ubuntu1804_CUDA10.0_Cudnn7.6.3深度学习环境搭建</h1><div class="margin-vert--md"><time datetime="2020-02-22T00:00:00.000Z" class="blogPostDate_3bQP">February 22, 2020  · 4 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://ceskykrumlov.gitee.io" target="_blank" rel="noreferrer noopener"><img src="/img/avatar.jpg" alt="Ban"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://ceskykrumlov.gitee.io" target="_blank" rel="noreferrer noopener">Ban</a></h4><small class="avatar__subtitle">ChangAn University</small></div></div></header><section class="markdown"><p><strong>预备材料：</strong></p><ul><li>Ubuntu 18.04</li></ul><p><strong>目标环境：</strong></p><ul><li>Anaconda 3</li><li>Python 3.6</li><li>Pytorch 1.3</li><li>Tensorflow-gpu 1.13.1</li><li>CUDA10.0</li><li>Cudnn 7.6.3</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="1-更换ubuntu源"></a>1. 更换Ubuntu源<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-更换ubuntu源" title="Direct link to heading">#</a></h1><p>更换<strong>阿里源</strong></p><p>左下角点开，找到<code>软件更新器</code> -&gt; 设置 -&gt; ubuntu软件 选项卡 -&gt; 下载自 -&gt; 其他源 -&gt; mirrors.aliyun.com/ubuntu
关闭窗口</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="2-安装nvidia显卡驱动"></a>2. 安装Nvidia显卡驱动<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-安装nvidia显卡驱动" title="Direct link to heading">#</a></h1><ul><li>官网下载驱动</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="21-安装之前先卸载已经存在的驱动版本"></a>2.1 安装之前先卸载已经存在的驱动版本<a aria-hidden="true" tabindex="-1" class="hash-link" href="#21-安装之前先卸载已经存在的驱动版本" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> remove --purge nvidia*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> /usr/bin/nvidia-uninstall</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> dkms build-essential linux-headers-generic</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="22-禁用-nouveau"></a>2.2 禁用 nouveau<a aria-hidden="true" tabindex="-1" class="hash-link" href="#22-禁用-nouveau" title="Direct link to heading">#</a></h2><ul><li><p>只有在禁用掉 nouveau 后才能顺利安装 NVIDIA 显卡驱动，禁用方法就是在 /etc/modprobe.d/blacklist-nouveau.conf 文件中添加一条禁用命令，首先需要打开该文件，通过以下命令打开:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> gedit /etc/modprobe.d/blacklist.conf</span></div></div></div></div></div></li></ul><p>在最后一行加上:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">blacklist nouveau </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">options nouveau </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">modeset</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span></div></div></div></div></div><p>将Ubuntu自带显卡驱动加入黑名单</p><p>使禁用生效</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> update-initramfs -u </span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="23-开始安装驱动"></a>2.3 开始安装驱动<a aria-hidden="true" tabindex="-1" class="hash-link" href="#23-开始安装驱动" title="Direct link to heading">#</a></h2><p>重启，不要登录，使用<code>Ctrl</code>+<code>ALt</code>+<code>F2</code>进入文字界面，输入<code>账户名</code>和<code>密码</code>登录；</p><ul><li><p>安装Lighdm</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> lightdm</span></div></div></div></div></div></li><li><p>关闭Lightdm</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"> lightdm stop</span></div></div></div></div></div></li><li><p>安装Nvidia驱动</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 修改驱动文件权限</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">777</span><span class="token plain"> NVIDIA-Linux-x86_64-430.xx.run</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#执行安装文件</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sh</span><span class="token plain"> ./NVIDIA-Linux-x86_64-430.xx.run –no-opengl-files</span></div></div></div></div></div></li><li><p>开启Lightdm</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"> lightdm start</span></div></div></div></div></div></li><li><p><code>Ctrl</code>+<code>F1</code>登录</p></li><li><p>验证安装</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> nvidia-smi</span></div></div></div></div></div></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3-安装cuda-100"></a>3. 安装CUDA 10.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-安装cuda-100" title="Direct link to heading">#</a></h1><ul><li>下载</li></ul><p><img alt="1" src="/assets/images/1-ca4cd27b88e525cc6c2afb0e154d2588.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="31-安装依赖"></a>3.1 安装依赖<a aria-hidden="true" tabindex="-1" class="hash-link" href="#31-安装依赖" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> freeglut3-dev libx11-dev libxmu-dev libxi-dev libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="32-安装cuda"></a>3.2 安装CUDA<a aria-hidden="true" tabindex="-1" class="hash-link" href="#32-安装cuda" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sh</span><span class="token plain"> cuda_10.0.130_410.48_linux.run </span></div></div></div></div></div><ul><li><p>根据提示安装：</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Do you accept the previously </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">read</span><span class="token plain"> EULA?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accept</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Install NVIDIA Accelerated Graphics Driver </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> Linux-x86_64 </span><span class="token number" style="color:rgb(247, 140, 108)">410.48</span><span class="token plain">?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">No</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Install the CUDA </span><span class="token number" style="color:rgb(247, 140, 108)">10.0</span><span class="token plain"> Toolkit?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yes</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Enter Toolkit Location</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">回车</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Do you want to </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> a symbolic </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> at /usr/local/cuda?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yes</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Install the CUDA </span><span class="token number" style="color:rgb(247, 140, 108)">10.0</span><span class="token plain"> Samples?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yes</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Enter CUDA Samples Location</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">回车</span></div></div></div></div></div></li><li><p>添加环境变量</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> gedit ~/.bashrc</span></div></div></div></div></div><p>在末尾添加：</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">export PATH=$PATH:/usr/local/cuda-10.0/bin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-10.0/lib64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">export LIBRARY_PATH=$LIBRARY_PATH:/usr/local/cuda-10.0/lib64</span></div></div></div></div></div><p>生效：</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 必须开启另一个终端执行</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> .bashrc</span></div></div></div></div></div></li><li><p>验证安装</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">nvcc -V</span></div></div></div></div></div><p>出现版本信息则安装成功</p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="4-安装cudnn-763"></a>4. 安装Cudnn 7.6.3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-安装cudnn-763" title="Direct link to heading">#</a></h1><p>搜索Cudnn官网，弄一个号进去，选择历史版本，选择7.6.3， 下载<code>libaray for linux</code>， 不要选ubuntu版本</p><ul><li><p>安装</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#cudnn安装（文件名自己换）</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> -zxvf cudnn-10.0-linux-x64-v7.5.0.56.tgz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#这三句不用换</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> cuda/include/cudnn.h /usr/local/cuda/include</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> cuda/lib64/libcudnn* /usr/local/cuda/lib64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*</span></div></div></div></div></div></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="5-安装anaconda"></a>5. 安装Anaconda<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-安装anaconda" title="Direct link to heading">#</a></h1><ul><li><p>下载</p><p>搜索<code>清华源</code>，进入清华大学镜像网站， 进入 <code>anaconda/archive</code></p><p>搜索<code>Anaconda3-2019.10-Linux-x86_64.sh</code></p></li><li><p>修改Anaconda文件夹权限</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> 用户名 anaconda3/ -R</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> 用户名 .conda/ -R</span></div></div></div></div></div></li><li><p>修改Anaconda为清华源</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">conda config --set show_channel_urls </span><span class="token function" style="color:rgb(130, 170, 255)">yes</span></div></div></div></div></div></li><li><p>创建名为py36的Python3.6虚拟环境</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">conda create -n py36 </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">python</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3.6</span></div></div></div></div></div></li><li><p>切换环境</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> activate py36</span></div></div></div></div></div></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="6-下载与设置pycharm"></a>6. 下载与设置Pycharm<a aria-hidden="true" tabindex="-1" class="hash-link" href="#6-下载与设置pycharm" title="Direct link to heading">#</a></h1><ul><li><p>下载Pycharm社区版</p></li><li><p>将Pycharm默认环境设置为py36</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* </span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    settings -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    Project Interpreter -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    右上角小齿轮 -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    add -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    conda Enviornment -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    Exisiting Environment -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    设置路径 -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  /home/你的用户名/anaconda3/envs/py36/bin/python3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    勾选 Make available to all projects</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*/</span></div></div></div></div></div></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="7-离线安装pytorch和torchvision"></a>7. 离线安装Pytorch和Torchvision<a aria-hidden="true" tabindex="-1" class="hash-link" href="#7-离线安装pytorch和torchvision" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="71-下载与安装"></a>7.1 下载与安装<a aria-hidden="true" tabindex="-1" class="hash-link" href="#71-下载与安装" title="Direct link to heading">#</a></h2><ul><li><p>进入清华源，进入<code>anaconda/cloud/pytorch</code></p></li><li><p>搜索pytorch1.3 py36 cuda100 linux</p></li><li><p>搜索torchvision 0.4.0</p></li><li><p>激活py36环境，用以下命令离线安装</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">conda </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> --offline XXXX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">tar.bz2</span></div></div></div></div></div></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="72-测试"></a>7.2 测试<a aria-hidden="true" tabindex="-1" class="hash-link" href="#72-测试" title="Direct link to heading">#</a></h2><p><strong>导入有错的话，解决方式请看附录</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> __future__ </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> print_function</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> torch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">rand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> torch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">torch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cuda</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">is_available</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="8-安装tensorflow-gpu-1131"></a>8. 安装tensorFlow-gpu 1.13.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#8-安装tensorflow-gpu-1131" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="81-激活py36环境，使用清华源安装"></a>8.1 激活py36环境，使用清华源安装<a aria-hidden="true" tabindex="-1" class="hash-link" href="#81-激活py36环境，使用清华源安装" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -i https://pypi.tuna.tsinghua.edu.cn/simple tensorflow-gpu</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token number" style="color:rgb(247, 140, 108)">1.13</span><span class="token plain">.1</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="82-测试"></a>8.2 测试<a aria-hidden="true" tabindex="-1" class="hash-link" href="#82-测试" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> tensorflow </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> tf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/cpu:0&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">constant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> shape</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    b </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">constant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> shape</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;b&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">device</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/gpu:1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    c </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> b</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 注意：allow_soft_placement=True表明：计算设备可自行选择，如果没有这个参数，会报错。</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 因为不是所有的操作都可以被放在GPU上，如果强行将无法放在GPU上的操作指定到GPU上，将会报错。</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sess </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ConfigProto</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">allow_soft_placement</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> log_device_placement</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sess</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">global_variables_initializer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">sess</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="附录"></a>附录<a aria-hidden="true" tabindex="-1" class="hash-link" href="#附录" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pip使用清华源"></a>pip使用清华源<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pip使用清华源" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple tensorflow-gpu==1.13.1(换你要装的包)</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pycharm内置pip更换清华源"></a>Pycharm内置pip更换清华源<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pycharm内置pip更换清华源" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://www.jianshu.com/p/21982f0f6b55</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pytorch与tensorflow各种导入问题"></a>Pytorch与TensorFlow各种导入问题<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pytorch与tensorflow各种导入问题" title="Direct link to heading">#</a></h2><ol><li><p>更新numpy</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip uninstall numpy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -i https://pypi.tuna.tsinghua.edu.cn/simple numpy</span></div></div></div></div></div></li><li><p>缺各种mkl文件的情况</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># libmkl_intel_lp64.so: cannot open shared object file: No such file or directory</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 通过命令查找文件位置</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token plain"> /home -name libmkl_intel_lp64.so</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 将查到的文件路径复制到usr/local/lib目录下</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /home/cesky001/anaconda3/lib/libmkl_intel_lp64.so /usr/local/lib/libmkl_intel_lp64.so </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> ldconfig</span></div></div></div></div></div></li><li><p>缺各种cuda文件的情况</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 将相应的库文件复制到/usr/lib（根据缺失文件自行修改）</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /usr/local/cuda-10.0/lib64/libcudnn.so.7 /usr/local/lib/libcudnn.so.7 </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> ldconfig</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#ldconfig命令是一个动态链接库管理命令，是为了让动态链接库为系统共享</span></div></div></div></div></div></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="设置ubuntu屏幕分辨率"></a>设置Ubuntu屏幕分辨率<a aria-hidden="true" tabindex="-1" class="hash-link" href="#设置ubuntu屏幕分辨率" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="1-查看工作模式"></a>1. 查看工作模式<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-查看工作模式" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">xrandr</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="2-生成modeline"></a>2. 生成Modeline<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-生成modeline" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cvt </span><span class="token number" style="color:rgb(247, 140, 108)">1920</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1080</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3-用modeline创建新的分辨率模式"></a>3. 用modeline创建新的分辨率模式<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-用modeline创建新的分辨率模式" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">xrandr --newmode </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1920x1080_60.00&quot;</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">173.00</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">1920</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2048</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2248</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2576</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">1080</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1083</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1088</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1120</span><span class="token plain"> -hsync +vsync</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="4-用addmode将模式添加在显示器上"></a>4. 用addmode将模式添加在显示器上<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-用addmode将模式添加在显示器上" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">xrandr --addmode VGA1 </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1920x1080_60.00&quot;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="5-调用分辨率"></a>5. 调用分辨率<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-调用分辨率" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">xrandr --output VGA1 --mode </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1920x1080_60.00&quot;</span></div></div></div></div></div></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/深度学习">深度学习</a><a class="margin-horiz--sm" href="/blog/tags/python">python</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/leetcodeLinked"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« LeetCode链表</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--2"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-更换ubuntu源" class="table-of-contents__link">1. 更换Ubuntu源</a></li><li><a href="#2-安装nvidia显卡驱动" class="table-of-contents__link">2. 安装Nvidia显卡驱动</a><ul><li><a href="#21-安装之前先卸载已经存在的驱动版本" class="table-of-contents__link">2.1 安装之前先卸载已经存在的驱动版本</a></li><li><a href="#22-禁用-nouveau" class="table-of-contents__link">2.2 禁用 nouveau</a></li><li><a href="#23-开始安装驱动" class="table-of-contents__link">2.3 开始安装驱动</a></li></ul></li><li><a href="#3-安装cuda-100" class="table-of-contents__link">3. 安装CUDA 10.0</a><ul><li><a href="#31-安装依赖" class="table-of-contents__link">3.1 安装依赖</a></li><li><a href="#32-安装cuda" class="table-of-contents__link">3.2 安装CUDA</a></li></ul></li><li><a href="#4-安装cudnn-763" class="table-of-contents__link">4. 安装Cudnn 7.6.3</a></li><li><a href="#5-安装anaconda" class="table-of-contents__link">5. 安装Anaconda</a></li><li><a href="#6-下载与设置pycharm" class="table-of-contents__link">6. 下载与设置Pycharm</a></li><li><a href="#7-离线安装pytorch和torchvision" class="table-of-contents__link">7. 离线安装Pytorch和Torchvision</a><ul><li><a href="#71-下载与安装" class="table-of-contents__link">7.1 下载与安装</a></li><li><a href="#72-测试" class="table-of-contents__link">7.2 测试</a></li></ul></li><li><a href="#8-安装tensorflow-gpu-1131" class="table-of-contents__link">8. 安装tensorFlow-gpu 1.13.1</a><ul><li><a href="#81-激活py36环境，使用清华源安装" class="table-of-contents__link">8.1 激活py36环境，使用清华源安装</a></li><li><a href="#82-测试" class="table-of-contents__link">8.2 测试</a></li></ul></li><li><a href="#附录" class="table-of-contents__link">附录</a><ul><li><a href="#pip使用清华源" class="table-of-contents__link">pip使用清华源</a></li><li><a href="#pycharm内置pip更换清华源" class="table-of-contents__link">Pycharm内置pip更换清华源</a></li><li><a href="#pytorch与tensorflow各种导入问题" class="table-of-contents__link">Pytorch与TensorFlow各种导入问题</a></li><li><a href="#设置ubuntu屏幕分辨率" class="table-of-contents__link">设置Ubuntu屏幕分辨率</a><ul><li><a href="#1-查看工作模式" class="table-of-contents__link">1. 查看工作模式</a></li><li><a href="#2-生成modeline" class="table-of-contents__link">2. 生成Modeline</a></li><li><a href="#3-用modeline创建新的分辨率模式" class="table-of-contents__link">3. 用modeline创建新的分辨率模式</a></li><li><a href="#4-用addmode将模式添加在显示器上" class="table-of-contents__link">4. 用addmode将模式添加在显示器上</a></li><li><a href="#5-调用分辨率" class="table-of-contents__link">5. 调用分辨率</a></li></ul></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2022 Ban ShaoXiong From ChangAn University. Built with Docusaurus 2.</div></div></div></footer></div>
<script src="/styles.c58146e3.js"></script>
<script src="/runtime~main.66a1c0f1.js"></script>
<script src="/main.7723c161.js"></script>
<script src="/1.3abb7365.js"></script>
<script src="/2.e11f32b4.js"></script>
<script src="/3.b509c796.js"></script>
<script src="/ccc49370.e3474c30.js"></script>
<script src="/4974f931.f09010c3.js"></script>
</body>
</html>