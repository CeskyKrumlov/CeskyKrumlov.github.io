(window.webpackJsonp=window.webpackJsonp||[]).push([[291],{348:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return s})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return o})),t.d(n,"default",(function(){return b}));var a=t(2),r=t(6),l=(t(0),t(520)),s={id:"10.bootstrap",title:"\u524d\u540e\u7aef\u5206\u79bb\u2014\u2014Vue\u7ed3\u5408BootStrap\u4e0eSpringBoot",hide_title:!0},c={unversionedId:"front/vue/10.bootstrap",id:"front/vue/10.bootstrap",isDocsHomePage:!1,title:"\u524d\u540e\u7aef\u5206\u79bb\u2014\u2014Vue\u7ed3\u5408BootStrap\u4e0eSpringBoot",description:"10. \u524d\u540e\u7aef\u5206\u79bb\u2014\u2014Vue\u7ed3\u5408BootStrap\u4e0eSpringBoot",source:"@site/docs/front/vue/10.Vue\u7ed3\u5408BootStrap.md",slug:"/front/vue/10.bootstrap",permalink:"/docs/front/vue/10.bootstrap",version:"current",sidebar:"someSidebar",previous:{title:"Vue\u751f\u547d\u5468\u671f",permalink:"/docs/front/vue/9.lifeCycle"},next:{title:"Vue\u7ec4\u4ef6\u2014\u2014Component",permalink:"/docs/front/vue/11.component"}},o=[{value:"10. \u524d\u540e\u7aef\u5206\u79bb\u2014\u2014Vue\u7ed3\u5408BootStrap\u4e0eSpringBoot",id:"10-\u524d\u540e\u7aef\u5206\u79bbvue\u7ed3\u5408bootstrap\u4e0espringboot",children:[{value:"10.1 \u57fa\u672c\u9875\u9762",id:"101-\u57fa\u672c\u9875\u9762",children:[]},{value:"10.2 \u67e5\u8be2\u6240\u6709",id:"102-\u67e5\u8be2\u6240\u6709",children:[]},{value:"10.3 \u6dfb\u52a0",id:"103-\u6dfb\u52a0",children:[]},{value:"10.4 \u5220\u9664",id:"104-\u5220\u9664",children:[{value:"10.4.1 \u8868\u5355\u91cd\u7f6e\u6309\u94ae",id:"1041-\u8868\u5355\u91cd\u7f6e\u6309\u94ae",children:[]},{value:"10.4.2 \u5220\u9664\u7528\u6237",id:"1042-\u5220\u9664\u7528\u6237",children:[]}]},{value:"10.5 \u4fee\u6539",id:"105-\u4fee\u6539",children:[]},{value:"10.6 \u641c\u7d22",id:"106-\u641c\u7d22",children:[]},{value:"10.7 \u5b8c\u6574\u4ee3\u7801",id:"107-\u5b8c\u6574\u4ee3\u7801",children:[]}]}],i={rightToc:o};function b(e){var n=e.components,s=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},i,s,{components:n,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"10-\u524d\u540e\u7aef\u5206\u79bbvue\u7ed3\u5408bootstrap\u4e0espringboot"},"10. \u524d\u540e\u7aef\u5206\u79bb\u2014\u2014Vue\u7ed3\u5408BootStrap\u4e0eSpringBoot"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u4e00\u4e2a\u5b8c\u6574\u7684\u524d\u540e\u7aef\u5206\u79bb\u6848\u4f8b")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\u65b0\u5efaSpringBoot\u9879\u76ee")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\u4e0b\u8f7dVue\u3001Bootstrap\u548caxios")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\u5220\u9664",Object(l.b)("inlineCode",{parentName:"p"},"resources"),"\u76ee\u5f55\u4e0b\u7684",Object(l.b)("inlineCode",{parentName:"p"},"static"),"\u548c",Object(l.b)("inlineCode",{parentName:"p"},"templates"),"\u6587\u4ef6\u5939")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\u65b0\u5efa",Object(l.b)("inlineCode",{parentName:"p"},"/src/main/webapp"),"\u6587\u4ef6\u5939")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\u5728\u9879\u76ee\u4e2d\uff0c\u5f15\u5165Vue.js\u3001axios.js\uff0cBootStrap\u7684css\u548cfonts")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\u5bfc\u5165fastjson"),Object(l.b)("pre",{parentName:"li"},Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),"<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>fastjson</artifactId>\n    <version>1.2.45</version>\n</dependency>\n"))))),Object(l.b)("p",null,Object(l.b)("img",{alt:"image-20200509225543264",src:t(977).default})),Object(l.b)("h2",{id:"101-\u57fa\u672c\u9875\u9762"},"10.1 \u57fa\u672c\u9875\u9762"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("inlineCode",{parentName:"p"},"users.html"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<!DOCTYPE html>\n<html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        <title>\u7528\u6237\u7ba1\u7406\u754c\u9762</title>\n        \x3c!--    \u5f15\u5165bootstrap--\x3e\n        <link rel="stylesheet" href="./bootvue/css/bootstrap.css">\n        <link rel="stylesheet" href="./bootvue/css/bootstrap-theme.css">\n    </head>\n    <body>\n        <nav class="navbar navbar-default">\n            <div class="container-fluid">\n                \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n                <div class="navbar-header">\n                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"\n                     aria-expanded="false">\n                        <span class="sr-only">Toggle navigation</span>\n                        <span class="icon-bar"></span>\n                        <span class="icon-bar"></span>\n                        <span class="icon-bar"></span>\n                    </button>\n                    <a class="navbar-brand" href="#">\u7528\u6237\u7ba1\u7406\u7cfb\u7edf</a>\n                </div>\n\n                <ul class="nav navbar-nav navbar-right">\n                    <li><a href="#">\u6b22\u8fcexx\u8fdb\u5165\u7cfb\u7edf</a></li>\n                </ul>\n            </div>\x3c!-- /.navbar-collapse --\x3e\n        </nav>\n\n        \x3c!--        \u4e2d\u5fc3\u5e03\u5c40--\x3e\n        <div class="container-fluid">\n\n            \x3c!--    \u641c\u7d22--\x3e\n            <div class="row">\n                <div class="col-md-8 col-md-offset-1">\n                    <form class="form-inline">\n                        <div class="form-group">\n                            <label for="searchName">\u59d3\u540d</label>\n                            <input type="text" class="form-control" id="searchName" placeholder="\u8bf7\u8f93\u5165\u59d3\u540d">\n                        </div>\n                        <div class="form-group">\n                            <label for="searchId">ID</label>\n                            <input type="text" class="form-control" id="searchId" placeholder="\u8bf7\u8f93\u5165id">\n                        </div>\n                        <button type="submit" class="btn btn-info">\u641c\u7d22</button>\n                    </form>\n                </div>\n            </div>\n\n            \x3c!--    \u8868\u683c--\x3e\n            <div class="row" style="margin-top: 20px">\n                <div class="col-md-8">\n                    \x3c!--                    \u7528\u6237\u4fe1\u606f\u5c55\u793a--\x3e\n                    <table class="table table-hover table-striped">\n                        <tr>\n                            <th>ID</th>\n                            <th>\u59d3\u540d</th>\n                            <th>\u5bc6\u7801</th>\n                            <th>\u64cd\u4f5c</th>\n                        </tr>\n                        <tr>\n                            <td>1</td>\n                            <td>Alice</td>\n                            <td>123456</td>\n                            <td>\n                                <button class="btn btn-primary btn-sm">\u4fee\u6539</button>&nbsp;&nbsp;<button class="btn btn-danger btn-sm">\u5220\u9664\n                                </button>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                \x3c!--\u53f3\u4fa7--\x3e\n                <div class="col-md-4">\n                    <form>\n                        <div class="form-group">\n                            <label for="name">\u59d3\u540d</label>\n                            <input type="text" class="form-control" id="name" placeholder="\u59d3\u540d">\n                        </div>\n                        <div class="form-group">\n                            <label for="password">password</label>\n                            <input type="text" class="form-control" id="password" placeholder="password">\n                        </div>\n                        <button type="button" class="btn btn-info">\u63d0\u4ea4</button>\n                        <button type="button" class="btn btn-danger">\u91cd\u7f6e</button>\n                    </form>\n                </div>\n                \x3c!--\u53f3\u4fa7--\x3e\n            </div>\n        </div>\n        \x3c!--        \u4e2d\u5fc3\u5e03\u5c40--\x3e\n\n\n        \x3c!--\u5f15\u5165vue--\x3e\n        \x3c!--\u5f15\u5165axios--\x3e\n        <script src="./bootvue/js/vue.js"><\/script>\n        <script src="./bootvue/js/axios.min.js"><\/script>\n    </body>\n</html>\n')),Object(l.b)("p",null,Object(l.b)("img",{alt:"image-20200510002935829",src:t(978).default})),Object(l.b)("h2",{id:"102-\u67e5\u8be2\u6240\u6709"},"10.2 \u67e5\u8be2\u6240\u6709"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"\u5c06\u9875\u9762\u8981\u5c55\u793a\u7684\u4fe1\u606f\u7ed1\u5b9a\u5230Vue\u4e2d\uff0c\u5c06\u6574\u4e2a\u9875\u9762\u4ece\u5bfc\u822a\u5230\u672b\u5c3e\u7528\u4e00\u4e2a\u65b0",Object(l.b)("inlineCode",{parentName:"p"},"div"),"\u6807\u7b7e\u5305\u88f9\u8d77\u6765")),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("inlineCode",{parentName:"p"},"\u5f53\u9875\u9762\u4e00\u52a0\u8f7d\u5b8c"),"\uff0c\u6211\u4eec\u5c31\u5e0c\u671b\u524d\u7aef\u5411\u540e\u7aefController\u8bf7\u6c42\u6570\u636e\uff0c\u5e76\u628a\u54cd\u5e94\u663e\u793a\u5728\u9875\u9762\u4e0a"),Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("inlineCode",{parentName:"p"},"users"),"\u6570\u636e\u590d\u5236\u5e94\u8be5\u6765\u6e90\u4e8e\u540e\u7aef\u670d\u52a1\u63a5\u53e3\uff0c\u5e76\u518d\u9875\u9762\u52a0\u8f7d\u5b8c\u4e4b\u540e",Object(l.b)("inlineCode",{parentName:"p"},"users"),"\u4e2d\u5305\u542b\u6570\u636e"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u751f\u547d\u5468\u671f"),Object(l.b)("inlineCode",{parentName:"li"},"created"),Object(l.b)("strong",{parentName:"li"},"\u9636\u6bb5"),"\u2014\u2014\u6b64\u65f6\u53ef\u8bbf\u95ee\u5230data\u4e2d\u7684\u6570\u636e"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<!DOCTYPE html>\n<html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        <title>\u7528\u6237\u7ba1\u7406\u754c\u9762</title>\n        \x3c!--    \u5f15\u5165bootstrap--\x3e\n        <link rel="stylesheet" href="./bootvue/css/bootstrap.css">\n        <link rel="stylesheet" href="./bootvue/css/bootstrap-theme.css">\n    </head>\n    <body>\n        <div id="app">\n            <nav class="navbar navbar-default">\n                <div class="container-fluid">\n                    \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n                    <div class="navbar-header">\n                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"\n                                aria-expanded="false">\n                            <span class="sr-only">Toggle navigation</span>\n                            <span class="icon-bar"></span>\n                            <span class="icon-bar"></span>\n                            <span class="icon-bar"></span>\n                        </button>\n                        <a class="navbar-brand" href="#">\u7528\u6237\u7ba1\u7406\u7cfb\u7edf</a>\n                    </div>\n\n                    <ul class="nav navbar-nav navbar-right">\n                        <li><a href="#">\u6b22\u8fcexx\u8fdb\u5165\u7cfb\u7edf</a></li>\n                    </ul>\n                </div>\x3c!-- /.navbar-collapse --\x3e\n            </nav>\n\n            \x3c!--        \u4e2d\u5fc3\u5e03\u5c40--\x3e\n            <div class="container-fluid">\n\n                \x3c!--    \u641c\u7d22--\x3e\n                <div class="row">\n                    <div class="col-md-8 col-md-offset-1">\n                        <form class="form-inline">\n                            <div class="form-group">\n                                <label for="searchName">\u59d3\u540d</label>\n                                <input type="text" class="form-control" id="searchName" placeholder="\u8bf7\u8f93\u5165\u59d3\u540d">\n                            </div>\n                            <div class="form-group">\n                                <label for="searchId">ID</label>\n                                <input type="text" class="form-control" id="searchId" placeholder="\u8bf7\u8f93\u5165id">\n                            </div>\n                            <button type="submit" class="btn btn-info">\u641c\u7d22</button>\n                        </form>\n                    </div>\n                </div>\n\n                \x3c!--    \u8868\u683c--\x3e\n                <div class="row" style="margin-top: 20px">\n                    <div class="col-md-8">\n                        \x3c!--                    \u7528\u6237\u4fe1\u606f\u5c55\u793a--\x3e\n                        <table class="table table-hover table-striped">\n                            <tr>\n                                <th>ID</th>\n                                <th>\u59d3\u540d</th>\n                                <th>\u5bc6\u7801</th>\n                                <th>\u64cd\u4f5c</th>\n                            </tr>\n                            <tr v-for="u in users" :key="u.id">\n                                <td>{ {u.id} }</td>\n                                <td>{ {u.name} }</td>\n                                <td>{ {u.password} }</td>\n                                <td>\n                                    <button class="btn btn-primary btn-sm">\u4fee\u6539</button>&nbsp;&nbsp;<button class="btn btn-danger btn-sm">\u5220\u9664\n                                    </button>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                    \x3c!--\u53f3\u4fa7--\x3e\n                    <div class="col-md-4">\n                        <form>\n                            <div class="form-group">\n                                <label for="name">\u59d3\u540d</label>\n                                <input type="text" class="form-control" id="name" placeholder="\u59d3\u540d">\n                            </div>\n                            <div class="form-group">\n                                <label for="password">password</label>\n                                <input type="text" class="form-control" id="password" placeholder="password">\n                            </div>\n                            <button type="button" class="btn btn-info">\u63d0\u4ea4</button>\n                            <button type="button" class="btn btn-danger">\u91cd\u7f6e</button>\n                        </form>\n                    </div>\n                    \x3c!--\u53f3\u4fa7--\x3e\n                </div>\n            </div>\n            \x3c!--        \u4e2d\u5fc3\u5e03\u5c40--\x3e\n        </div>\n\n        \x3c!--\u5f15\u5165vue--\x3e\n        \x3c!--\u5f15\u5165axios--\x3e\n        <script src="./bootvue/js/vue.js"><\/script>\n        <script src="./bootvue/js/axios.min.js"><\/script>\n        <script>\n            const vue = new Vue({\n                el: "#app",\n                data: {\n                    users: [] // \u4ece\u540e\u7aef\u8bf7\u6c42\u7136\u540e\u586b\u5145\n                },\n                methods: {},\n                //\u751f\u547d\u5468\u671f\u51fd\u6570created\n                created() {\n                    //\u53d1\u9001\u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u64cd\u4f5c\n                    axios.get("")\n                        .then(function(response) {\n                        console.log(response);\n                    })\n                        .catch(function(error) {\n                        console.log(error);\n                    })\n                }\n            })\n        <\/script>\n    </body>\n</html>\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"\u65b0\u5efa\u6570\u636e\u5e93\u8868")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"CREATE TABLE USER(\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    NAME VARCHAR(30) DEFAULT NULL,\n    PASSWORD VARCHAR(20) DEFAULT NULL\n)ENGINE=INNODB DEFAULT CHARSET=utf8;\n")),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"SpringBoot\u6574\u5408Mybatis\u3001Druid (\u5177\u4f53\u770bSpringBoot\u7b14\u8bb0)")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"pom.xml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),"<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>druid</artifactId>\n    <version>1.1.21</version>\n</dependency>\n<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n    <optional>true</optional>\n</dependency>\n<dependency>\n    <groupId>org.mybatis.spring.boot</groupId>\n    <artifactId>mybatis-spring-boot-starter</artifactId>\n    <version>2.1.2</version>\n</dependency>\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"application.yaml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"spring:\n  datasource:\n    username: root\n    password: root\n    #?serverTimezone=UTC\u89e3\u51b3\u65f6\u533a\u7684\u62a5\u9519\n    url: jdbc:mysql://localhost:3306/test?serverTimezone=UTC&useUnicode=true&characterEncoding=utf-8\n    driver-class-name: com.mysql.jdbc.Driver\n    type: com.alibaba.druid.pool.DruidDataSource # \u914d\u7f6e\u4f7f\u7528Druid\u6570\u636e\u6e90\n\n    #Spring Boot \u9ed8\u8ba4\u662f\u4e0d\u6ce8\u5165\u8fd9\u4e9b\u5c5e\u6027\u503c\u7684\uff0c\u9700\u8981\u81ea\u5df1\u7ed1\u5b9a\n    #druid \u6570\u636e\u6e90\u4e13\u6709\u914d\u7f6e\n    initialSize: 5\n    minIdle: 5\n    maxActive: 20\n    maxWait: 60000\n    timeBetweenEvictionRunsMillis: 60000\n    minEvictableIdleTimeMillis: 300000\n    validationQuery: SELECT 1 FROM DUAL\n    testWhileIdle: true\n    testOnBorrow: false\n    testOnReturn: false\n    poolPreparedStatements: true\n\n    #\u914d\u7f6e\u76d1\u63a7\u7edf\u8ba1\u62e6\u622a\u7684filters\uff0cstat:\u76d1\u63a7\u7edf\u8ba1\u3001log4j\uff1a\u65e5\u5fd7\u8bb0\u5f55\u3001wall\uff1a\u9632\u5fa1sql\u6ce8\u5165\n    #\u5982\u679c\u5141\u8bb8\u65f6\u62a5\u9519  java.lang.ClassNotFoundException: org.apache.log4j.Priority\n    #\u5219\u5bfc\u5165 log4j \u4f9d\u8d56\u5373\u53ef\uff0cMaven \u5730\u5740\uff1ahttps://mvnrepository.com/artifact/log4j/log4j\n    filters: stat,wall,log4j\n    maxPoolPreparedStatementPerConnectionSize: 20\n    useGlobalDataSourceStat: true\n    connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500\n")),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"\u5b9e\u4f53\u7c7b")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Accessors(chain = true)\npublic class User {\n    private Integer id;\n    private String name;\n    private String password;\n}\n")),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"mapper & mapper.xml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Mapper\n@Repository\npublic interface UserMapper {\n    //\u67e5\u8be2\u6240\u6709\n    List<User> findAll();\n}\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.example.demo.dao.UserMapper">\n    <select id="findAll" resultType="com.example.demo.pojo.User">\n      SELECT * FROM USER;\n    </select>\n</mapper>\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"Service & ServiceImpl")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"public interface UserService {\n    //\u67e5\u8be2\u6240\u6709\u7528\u6237\n    List<User> findAll();\n}\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Service\n@Transactional  //\u4e8b\u52a1\npublic class UserServiceImpl implements UserService{\n\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public List<User> findAll() {\n        return userMapper.findAll();\n    }\n}\n")),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"Controller"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u6ca1\u6709\u6a21\u677f\u5f15\u64ce\u7684\u60c5\u51b5\u4e0b\uff0c\u7eafHTML\u8bbf\u95ee\u540e\u7aef\u63a5\u53e3\uff0c\u9700\u8981\u5f00\u542f\u8de8\u57df"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'@RestController\n@RequestMapping("/user")\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping("/findAll")\n    @CrossOrigin  // \u8de8\u57df\n    public List<User> findAll(){\n        List<User> users = userService.findAll();\n        return users;\n    }\n}\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"\u524d\u7aef\u9875\u9762\uff1a"),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u4fee\u6539",Object(l.b)("inlineCode",{parentName:"li"},"axios"),"\u90e8\u5206\u4ee3\u7801\uff0c\u5c06\u5f02\u6b65\u8bf7\u6c42\u8def\u5f84\u8bbe\u4e3a\u540e\u7aef\u5b9a\u4e49\u7684URL"),Object(l.b)("li",{parentName:"ul"},"\u83b7\u53d6\u540e\u7aef\u54cd\u5e94\uff0c\u5c06\u54cd\u5e94\u7684",Object(l.b)("inlineCode",{parentName:"li"},"data"),"\u57df\u8d4b\u503c\u5230Vue\u7684",Object(l.b)("inlineCode",{parentName:"li"},"data"),"\u57df"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<script>\n    const vue = new Vue({\n        el: "#app",\n        data: {\n            users: [] // \u4ece\u540e\u7aef\u8bf7\u6c42\u7136\u540e\u586b\u5145\n        },\n        methods: {},\n        //\u751f\u547d\u5468\u671f\u51fd\u6570created\n        created() {\n            //\u53d1\u9001\u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u64cd\u4f5c\n            axios.get("http://localhost:8080/user/findAll")\n                .then(function(response) {\n                vue.users = response.data;\n            })\n                .catch(function(error) {\n                console.log(error);\n            })\n        }\n    })\n<\/script>\n')),Object(l.b)("p",null,Object(l.b)("img",{alt:"image-20200513054555883",src:t(979).default})),Object(l.b)("h2",{id:"103-\u6dfb\u52a0"},"10.3 \u6dfb\u52a0"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u524d\u7aef\uff1a")),Object(l.b)("ol",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ol"},"\u4e3a\u63d0\u4ea4\u6309\u94ae\u7ed1\u5b9a\u5355\u51fb\u4e8b\u4ef6",Object(l.b)("inlineCode",{parentName:"li"},"saveUserInfo")),Object(l.b)("li",{parentName:"ol"},"\u83b7\u53d6\u8868\u5355\u6570\u636e",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u5728",Object(l.b)("inlineCode",{parentName:"li"},"data"),"\u57df\u5355\u72ec\u5b9a\u4e49\u4e00\u4e2a",Object(l.b)("inlineCode",{parentName:"li"},"user"),"\u5bf9\u8c61"),Object(l.b)("li",{parentName:"ul"},"\u7528",Object(l.b)("inlineCode",{parentName:"li"},"v-model"),"\u6765\u5b8c\u6210\u6570\u636e\u53cc\u5411\u7ed1\u5b9a",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'v-model="user.id"')),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'v-model="user.name"')),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'v-model="user.password"')))),Object(l.b)("li",{parentName:"ul"},"\u5728",Object(l.b)("inlineCode",{parentName:"li"},"saveUserInfo"),"\u65b9\u6cd5\u4e2d\u53d1\u9001",Object(l.b)("inlineCode",{parentName:"li"},"axios.post"),"\u8bf7\u6c42\u5230\u540e\u7aef\u670d\u52a1\u5668\uff0c\u4f20\u9012",Object(l.b)("inlineCode",{parentName:"li"},"data"),"\u4e2d\u7684",Object(l.b)("inlineCode",{parentName:"li"},"user"),"\u5bf9\u8c61"))))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<!DOCTYPE html>\n<html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        <title>\u7528\u6237\u7ba1\u7406\u754c\u9762</title>\n        \x3c!--    \u5f15\u5165bootstrap--\x3e\n        <link rel="stylesheet" href="./bootvue/css/bootstrap.css">\n        <link rel="stylesheet" href="./bootvue/css/bootstrap-theme.css">\n    </head>\n    <body>\n        <div id="app">\n            <nav class="navbar navbar-default">\n                <div class="container-fluid">\n                    \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n                    <div class="navbar-header">\n                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"\n                                aria-expanded="false">\n                            <span class="sr-only">Toggle navigation</span>\n                            <span class="icon-bar"></span>\n                            <span class="icon-bar"></span>\n                            <span class="icon-bar"></span>\n                        </button>\n                        <a class="navbar-brand" href="#">\u7528\u6237\u7ba1\u7406\u7cfb\u7edf</a>\n                    </div>\n\n                    <ul class="nav navbar-nav navbar-right">\n                        <li><a href="#">\u6b22\u8fcexx\u8fdb\u5165\u7cfb\u7edf</a></li>\n                    </ul>\n                </div>\x3c!-- /.navbar-collapse --\x3e\n            </nav>\n\n            \x3c!--        \u4e2d\u5fc3\u5e03\u5c40--\x3e\n            <div class="container-fluid">\n\n                \x3c!--    \u641c\u7d22--\x3e\n                <div class="row">\n                    <div class="col-md-8 col-md-offset-1">\n                        <form class="form-inline">\n                            <div class="form-group">\n                                <label for="searchName">\u59d3\u540d</label>\n                                <input type="text" class="form-control" id="searchName" placeholder="\u8bf7\u8f93\u5165\u59d3\u540d">\n                            </div>\n                            <div class="form-group">\n                                <label for="searchId">ID</label>\n                                <input type="text" class="form-control" id="searchId" placeholder="\u8bf7\u8f93\u5165id">\n                            </div>\n                            <button type="submit" class="btn btn-info">\u641c\u7d22</button>\n                        </form>\n                    </div>\n                </div>\n\n                \x3c!--    \u8868\u683c--\x3e\n                <div class="row" style="margin-top: 20px">\n                    <div class="col-md-8">\n                        \x3c!--                    \u7528\u6237\u4fe1\u606f\u5c55\u793a--\x3e\n                        <table class="table table-hover table-striped">\n                            <tr>\n                                <th>ID</th>\n                                <th>\u59d3\u540d</th>\n                                <th>\u5bc6\u7801</th>\n                                <th>\u64cd\u4f5c</th>\n                            </tr>\n                            <tr v-for="u in users" :key="u.id">\n                                <td>{ {u.id} }</td>\n                                <td>{ {u.name} }</td>\n                                <td>{ {u.password} }</td>\n                                <td>\n                                    <button class="btn btn-primary btn-sm">\u4fee\u6539</button>&nbsp;&nbsp;<button class="btn btn-danger btn-sm">\u5220\u9664\n                                    </button>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                    \x3c!--\u53f3\u4fa7--\x3e\n                    <div class="col-md-4">\n                        <form>\n                            <div class="form-group">\n                                <label for="name">\u59d3\u540d</label>\n                                <input type="text" class="form-control" id="name" placeholder="\u59d3\u540d" v-model="user.name">\n                            </div>\n                            <div class="form-group">\n                                <label for="password">password</label>\n                                <input type="text" class="form-control" id="password" placeholder="\u5bc6\u7801" v-model="user.password">\n                            </div>\n                            <button type="button" class="btn btn-info" @click="saveUserInfo">\u63d0\u4ea4</button>\n                            <button type="button" class="btn btn-danger">\u91cd\u7f6e</button>\n                        </form>\n                    </div>\n                    \x3c!--\u53f3\u4fa7--\x3e\n                </div>\n            </div>\n            \x3c!--        \u4e2d\u5fc3\u5e03\u5c40--\x3e\n        </div>\n\n        \x3c!--\u5f15\u5165vue--\x3e\n        \x3c!--\u5f15\u5165axios--\x3e\n        <script src="./bootvue/js/vue.js"><\/script>\n        <script src="./bootvue/js/axios.min.js"><\/script>\n        <script>\n            const vue = new Vue({\n                el: "#app",\n                data: {\n                    users: [], // \u4ece\u540e\u7aef\u8bf7\u6c42\u7136\u540e\u586b\u5145\n                    user: {}\n                },\n                methods: {\n                    saveUserInfo() {\n                        axios.post("http://localhost:8080/user/save", this.user)\n                            .then(function(response) {\n                            console.log(response.data);\n                        })\n                            .catch(function(error) {\n                            console.log(error);\n                        });\n                    }\n                },\n                //\u751f\u547d\u5468\u671f\u51fd\u6570created\n                created() {\n                    //\u53d1\u9001\u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u64cd\u4f5c\n                    axios.get("http://localhost:8080/user/findAll")\n                        .then(function(response) {\n                        vue.users = response.data;\n                    })\n                        .catch(function(error) {\n                        console.log(error);\n                    })\n                }\n            })\n        <\/script>\n    </body>\n</html>\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u540e\u7aef\uff1a")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"mapper\u5b9a\u4e49\u4fdd\u5b58\u7528\u6237\u62bd\u8c61\u65b9\u6cd5"),Object(l.b)("li",{parentName:"ul"},"mapper.xml\u5b9a\u4e49sql\u8bed\u53e5"),Object(l.b)("li",{parentName:"ul"},"service\u5c42"),Object(l.b)("li",{parentName:"ul"},"\u6dfb\u52a0",Object(l.b)("inlineCode",{parentName:"li"},"/save"),"\u8def\u7531\uff0c\u63a5\u53d7",Object(l.b)("inlineCode",{parentName:"li"},"user"),"\u5bf9\u8c61\uff0c\u63d2\u5165\u6570\u636e\u5e93"),Object(l.b)("li",{parentName:"ul"},"\u5411\u524d\u7aef\u54cd\u5e94\u4e00\u4e2aMap\uff0c\u5305\u542b",Object(l.b)("inlineCode",{parentName:"li"},"success"),"\u952e\u5305\u542b",Object(l.b)("inlineCode",{parentName:"li"},"boolean"),"\u7c7b\u578b\u503c\u8bf4\u660e\u6dfb\u52a0\u6210\u529f\u6216\u5931\u8d25\uff1b",Object(l.b)("inlineCode",{parentName:"li"},"message"),"\u952e\u5305\u542b\u8bf4\u660e\u4fe1\u606f"))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Mapper\n@Repository\npublic interface UserMapper {\n    //\u67e5\u8be2\u6240\u6709\n    List<User> findAll();\n\n    int save(User user);\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper.xml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'    <insert id="save" parameterType="com.example.demo.pojo.User">\n        insert into user (id, name, password) values (null, #{name}, #{password})\n    </insert>\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Service")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"public interface UserService {\n\n    //\u67e5\u8be2\u6240\u6709\u7528\u6237\n    List<User> findAll();\n\n    int save(User user);\n}\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Service\n@Transactional  //\u4e8b\u52a1\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public List<User> findAll() {\n        return userMapper.findAll();\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public int save(User user) {\n        return userMapper.save(user);\n    }\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Controller")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'@PostMapping("/save")\n@CrossOrigin\npublic Map<String, Object> save(@RequestBody User user) {\n    Map<String, Object> map = new HashMap<>();\n    try {\n        userService.save(user);\n        map.put("success", true);\n        map.put("message","\u7528\u6237\u4fdd\u5b58\u6210\u529f");\n    } catch (Exception e) {\n        map.put("success", false);\n        map.put("message","\u7528\u6237\u4fdd\u5b58\u5931\u8d25");\n    }\n    return map;\n}\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u524d\u7aef\uff1a")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u5c06",Object(l.b)("inlineCode",{parentName:"li"},"\u67e5\u8be2\u6240\u6709"),"\u7684\u4ee3\u7801\u5c01\u88c5\u4e3a\u72ec\u7acb\u65b9\u6cd5",Object(l.b)("inlineCode",{parentName:"li"},"findAll")),Object(l.b)("li",{parentName:"ul"},"\u6839\u636e\u540e\u7aef\u54cd\u5e94\u7684",Object(l.b)("inlineCode",{parentName:"li"},"scuccess"),"\u952e\uff0c\u51b3\u5b9a\u662f\u5426\u8c03\u7528",Object(l.b)("inlineCode",{parentName:"li"},"findAll"),"\u65b9\u6cd5\u5237\u65b0\u9875\u9762\u5217\u8868"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<script>\n    const vue = new Vue({\n        el: "#app",\n        data: {\n            users: [], // \u4ece\u540e\u7aef\u8bf7\u6c42\u7136\u540e\u586b\u5145\n            user: {}\n        },\n        methods: {\n            saveUserInfo() {\n                axios.post("http://localhost:8080/user/save", this.user)\n                    .then(function(response) {\n                    if (response.data.success) {\n                        this.findAll();\n                    } else {\n                        alert(response.data.message);\n                    }\n                })\n                    .catch(function(error) {\n                    console.log(error);\n                });\n            },\n            findAll() {\n                axios.get("http://localhost:8080/user/findAll")\n                    .then(function(response) {\n                    vue.users = response.data;\n                })\n                    .catch(function(error) {\n                    console.log(error);\n                })\n            }\n        },\n        //\u751f\u547d\u5468\u671f\u51fd\u6570created\n        created() {\n            //\u53d1\u9001\u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u64cd\u4f5c\n            this.findAll();\n        }\n    })\n<\/script>\n')),Object(l.b)("p",null,Object(l.b)("img",{src:t(980).default})),Object(l.b)("h2",{id:"104-\u5220\u9664"},"10.4 \u5220\u9664"),Object(l.b)("h3",{id:"1041-\u8868\u5355\u91cd\u7f6e\u6309\u94ae"},"10.4.1 \u8868\u5355\u91cd\u7f6e\u6309\u94ae"),Object(l.b)("blockquote",null,Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u5728",Object(l.b)("inlineCode",{parentName:"li"},"\u91cd\u7f6e"),"\u6309\u94ae\u4e0a\u6dfb\u52a0\u5355\u51fb\u4e8b\u4ef6"),Object(l.b)("li",{parentName:"ul"},"\u5728\u4e8b\u4ef6\u4e2d\u5c06",Object(l.b)("inlineCode",{parentName:"li"},"data"),"\u57df\u4e2d\u7684",Object(l.b)("inlineCode",{parentName:"li"},"user"),"\u5bf9\u8c61\u7f6e\u4e3a",Object(l.b)("inlineCode",{parentName:"li"},"{}")))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<button type="button" class="btn btn-danger" @click="reset">\u91cd\u7f6e</button>\n')),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"reset() {\n    this.user = {};\n}\n")),Object(l.b)("h3",{id:"1042-\u5220\u9664\u7528\u6237"},"10.4.2 \u5220\u9664\u7528\u6237"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u524d\u7aef")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u5355\u51fb",Object(l.b)("inlineCode",{parentName:"li"},"\u5220\u9664"),"\u6309\u94ae\uff0c\u7ed1\u5b9a\u5355\u51fb\u4e8b\u4ef6\uff0c\u4e8b\u4ef6\u89e6\u53d1\u65f6\u4f20\u9012",Object(l.b)("inlineCode",{parentName:"li"},"id")),Object(l.b)("li",{parentName:"ul"},"\u5728\u4e8b\u4ef6\u4e2d\u5411\u540e\u7aef\u53d1\u9001",Object(l.b)("inlineCode",{parentName:"li"},"delete"),"\u8bf7\u6c42\uff0c\u4f20\u9012\u7528\u6237",Object(l.b)("inlineCode",{parentName:"li"},"id")),Object(l.b)("li",{parentName:"ul"},"\u63a5\u6536\u540e\u7aef\u54cd\u5e94",Object(l.b)("inlineCode",{parentName:"li"},"success"),"\uff0c\u4ee5\u6b64\u51b3\u5b9a\u662f\u5426\u6267\u884c",Object(l.b)("inlineCode",{parentName:"li"},"findAll"),"\u5237\u65b0\u9875\u9762\u5217\u8868"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'//\u7701\u7565\u6dfb\u52a0\u5355\u51fb\u4e8b\u4ef6\u7684\u4ee3\u7801\nconst vue = new Vue({\n    el: "#app",\n    data: {\n        users: [], // \u4ece\u540e\u7aef\u8bf7\u6c42\u7136\u540e\u586b\u5145\n        user: {}\n    },\n    methods: {\n        saveUserInfo() {\n            axios.post("http://localhost:8080/user/save", this.user)\n                .then(function(response) {\n                if (response.data.success) {\n                    vue.findAll();\n                } else {\n                    alert(response.data.message);\n                }\n            })\n                .catch(function(error) {\n                console.log(error);\n            });\n        },\n        findAll() {\n            axios.get("http://localhost:8080/user/findAll")\n                .then(function(response) {\n                vue.users = response.data;\n            })\n                .catch(function(error) {\n                console.log(error);\n            })\n        },\n        reset() {\n            this.user = {};\n        },\n        deleteUser(id) {\n            axios.delete("http://localhost:8080/user/delete/" + id)\n                .then(function(response) {\n                if (response.data.success) {\n                    vue.findAll();\n                } else {\n                    alert(response.data.message);\n                }\n            });\n        }\n    },\n    //\u751f\u547d\u5468\u671f\u51fd\u6570created\n    created() {\n        //\u53d1\u9001\u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u64cd\u4f5c\n        this.findAll();\n    }\n})\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u540e\u7aef")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u63a5\u53d7\u524d\u7aef\u53d1\u9001\u7684",Object(l.b)("inlineCode",{parentName:"li"},"id")),Object(l.b)("li",{parentName:"ul"},"\u6839\u636e",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\u5220\u9664\u6570\u636e\u5e93\u5bf9\u5e94\u8bb0\u5f55"),Object(l.b)("li",{parentName:"ul"},"\u5411\u524d\u7aef\u54cd\u5e94\u7ed3\u679c\u4fe1\u606f",Object(l.b)("inlineCode",{parentName:"li"},"success")))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Mapper")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Mapper\n@Repository\npublic interface UserMapper {\n    //\u67e5\u8be2\u6240\u6709\n    List<User> findAll();\n\n    int save(User user);\n    \n    void delete(Integer id);\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper.xml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<delete id="delete">\n    delete from user where id = #{id}\n</delete>\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"service")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"public interface UserService {\n\n    //\u67e5\u8be2\u6240\u6709\u7528\u6237\n    List<User> findAll();\n\n    int save(User user);\n    \n    void delete(Integer id);\n}\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Service\n@Transactional  //\u4e8b\u52a1\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public List<User> findAll() {\n        return userMapper.findAll();\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public int save(User user) {\n        return userMapper.save(user);\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public void delete(Integer id) {\n        userMapper.delete(id);\n    }\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"controller")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'@DeleteMapping("/delete/{id}")\npublic Map<String, Object> delete(@PathVariable("id") Integer id) {\n    Map<String, Object> map = new HashMap<>();\n    try {\n        userService.delete(id);\n        map.put("success", true);\n    } catch (Exception e) {\n        map.put("success", false);\n        map.put("message", "\u5220\u9664\u5931\u8d25");\n    }\n    return null;\n}\n')),Object(l.b)("p",null,Object(l.b)("img",{src:t(981).default})),Object(l.b)("h2",{id:"105-\u4fee\u6539"},"10.5 \u4fee\u6539"),Object(l.b)("blockquote",null,Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u5f53\u5355\u51fb",Object(l.b)("inlineCode",{parentName:"li"},"\u4fee\u6539"),"\u6309\u94ae\u65f6\uff0c\u5c06\u5bf9\u5e94\u7528\u6237\u4fe1\u606f\u663e\u793a\u5728\u9875\u9762\u53f3\u4fa7\u8f93\u5165\u6846\u4e2d"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"\u63d0\u4ea4"),"\u884c\u4e3a\u6839\u636e\u8868\u5355\u4e2d\u6709\u6ca1\u6709",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\u5c5e\u6027\u6765\u51b3\u5b9a\u5177\u4f53\u884c\u4e3a",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u6709",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\uff1a\u5355\u51fb",Object(l.b)("inlineCode",{parentName:"li"},"\u63d0\u4ea4"),"\u8fdb\u884c",Object(l.b)("strong",{parentName:"li"},"\u4fee\u6539")),Object(l.b)("li",{parentName:"ul"},"\u65e0",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\uff1a\u5355\u51fb",Object(l.b)("inlineCode",{parentName:"li"},"\u63d0\u4ea4"),"\u8fdb\u884c",Object(l.b)("strong",{parentName:"li"},"\u6dfb\u52a0")))))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<button class="btn btn-primary btn-sm" @click="findOneUser(u)">\u4fee\u6539</button>\n')),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'const vue = new Vue({\n    el: "#app",\n    data: {\n        users: [], // \u4ece\u540e\u7aef\u8bf7\u6c42\u7136\u540e\u586b\u5145\n        user: {}\n    },\n    methods: {\n        saveUserInfo() {\n            axios.post("http://localhost:8080/user/save", this.user)\n                .then(function(response) {\n                if (response.data.success) {\n                    vue.findAll();\n                    vue.reset();\n                } else {\n                    alert(response.data.message);\n                }\n            })\n                .catch(function(error) {\n                console.log(error);\n            });\n        },\n        findAll() {\n            axios.get("http://localhost:8080/user/findAll")\n                .then(function(response) {\n                vue.users = response.data;\n            })\n                .catch(function(error) {\n                console.log(error);\n            })\n        },\n        reset() {\n            this.user = {};\n        },\n        deleteUser(id) {\n            axios.delete("http://localhost:8080/user/delete/" + id)\n                .then(function(response) {\n                if (response.data.success) {\n                    vue.findAll();\n                } else {\n                    alert(response.data.message);\n                }\n            });\n        },\n        findOneUser(u) {\n            this.user = u;\n        }\n    },\n    //\u751f\u547d\u5468\u671f\u51fd\u6570created\n    created() {\n        //\u53d1\u9001\u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u64cd\u4f5c\n        this.findAll();\n    }\n})\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u540e\u7aef\uff1a")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u5b9a\u4e49\u6839\u636e",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\u4fee\u6539\u7528\u6237\u4fe1\u606f\u7684\u65b9\u6cd5"))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Mapper\n@Repository\npublic interface UserMapper {\n    //\u67e5\u8be2\u6240\u6709\n    List<User> findAll();\n    //\u4fee\u6539\u4e00\u4e2a\u4eba\n    void update(User user);\n\n    int save(User user);\n\n    void delete(Integer id);\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper.xml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<update id="update" parameterType="com.example.demo.pojo.User">\n    update user set name = #{name}, password = #{password} where id = #{id}\n</update>\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"service")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"public interface UserService {\n\n    //\u67e5\u8be2\u6240\u6709\u7528\u6237\n    List<User> findAll();\n\n    int save(User user);\n\n    void delete(Integer id);\n    \n    void update(User user);\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"ServiceImpl")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Override    \n@Transactional(propagation = Propagation.SUPPORTS)\npublic void update(User user) {\n    userMapper.update(user);\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"controller\n\u4fee\u6539",Object(l.b)("inlineCode",{parentName:"li"},"/save"),"\u8def\u7531\uff0c\u5224\u65ad\u4f20\u8fdb\u6765\u7684user\u5bf9\u8c61\u662f\u5426\u6709",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\u5c5e\u6027",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u6709",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\uff1a\u4fee\u6539"),Object(l.b)("li",{parentName:"ul"},"\u6ca1",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\uff1a\u6dfb\u52a0")))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'@PostMapping("/save")\npublic Map<String, Object> save(@RequestBody User user) {\n    Map<String, Object> map = new HashMap<>();\n    try {\n        if (null != user.getId()) {\n            userService.update(user);\n        } else {\n            userService.save(user);\n        }\n        map.put("success", true);\n    } catch (Exception e) {\n        map.put("success", false);\n        map.put("message", "\u64cd\u4f5c\u5931\u8d25");\n    }\n    return map;\n}\n')),Object(l.b)("h2",{id:"106-\u641c\u7d22"},"10.6 \u641c\u7d22"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"\u6839\u636e",Object(l.b)("inlineCode",{parentName:"p"},"\u59d3\u540d"),"\u6216\u8005",Object(l.b)("inlineCode",{parentName:"p"},"id"),"\u8fdb\u884c\u6a21\u7cca\u641c\u7d22")),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u540e\u7aef")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u4f7f\u7528\u52a8\u6001SQL\u5b9e\u73b0\u6a21\u7cca\u67e5\u8be2"),Object(l.b)("li",{parentName:"ul"},"\u54cd\u5e94\u67e5\u8be2\u7528\u6237\u5217\u8868\u7ed9\u524d\u7aef"))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'//\u6839\u636e\u59d3\u540d\u6216\u8005id\u8fdb\u884c\u6a21\u7cca\u641c\u7d22\nList<User> searchByNameOrId(@Param("name") String name,@Param("id") Integer id);\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper.xml\n\u5728mybatis\u4e2d\u6a21\u7cca\u67e5\u8be2\u4f7f\u7528",Object(l.b)("inlineCode",{parentName:"li"},"concat"),"\u8868\u8fbe\u5f0f")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),"\x3c!--\u6a21\u7cca\u641c\u7d22--\x3e\n<select id=\"searchByNameOrId\" resultType=\"com.example.demo.pojo.User\">\n    SELECT * FROM USER\n    <where>\n        <if test=\"name!='' and name!=null\">\n            NAME LIKE concat('%', #{name}, '%')\n        </if>\n        <if test=\"id!='' and id!=null\">\n            OR id LIKE concat('%', #{id}, '%')\n        </if>\n    </where>\n</select>\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"service")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"//\u6839\u636e\u59d3\u540d\u6216\u8005id\u8fdb\u884c\u6a21\u7cca\u641c\u7d22\nList<User> searchByNameOrId(String name, Integer id);\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"serviceImpl")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Override\n@Transactional(propagation = Propagation.SUPPORTS)\npublic List<User> searchByNameOrId(String name, Integer id) {\n    return userMapper.searchByNameOrId(name, id);\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"controller",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u5229\u7528",Object(l.b)("inlineCode",{parentName:"li"},"fastJson"),"\u7684",Object(l.b)("inlineCode",{parentName:"li"},"JSONObject"),"\u7c7b\u63a5\u6536json\u7c7b\u578b\u7684\u8bf7\u6c42\u53c2\u6570")))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'//\u6a21\u7cca\u641c\u7d22 \u5229\u7528fastJson\u63a5\u6536json\u683c\u5f0f\u7684\u53c2\u6570\n@PostMapping("/search")\npublic List<User> searchByNameOrId(@RequestBody JSONObject jsonParams) {\n    String name = jsonParams.get("name") + "";\n    Integer id;\n    if (null == jsonParams.get("id") || "".equals(jsonParams.get("id"))) {\n        id = null;\n    } else {\n        id = Integer.parseInt(jsonParams.get("id").toString());\n    }\n\n    return userService.searchByNameOrId(name, id);\n}\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"\u524d\u7aef")),Object(l.b)("ul",{parentName:"blockquote"},Object(l.b)("li",{parentName:"ul"},"\u7ed9",Object(l.b)("inlineCode",{parentName:"li"},"\u641c\u7d22"),"\u6309\u94ae\u7ed1\u5b9a\u5355\u51fb\u4e8b\u4ef6\uff0c\u4f7f\u7528\u5bf9\u8c61",Object(l.b)("inlineCode",{parentName:"li"},"searchObj"),"\u5c01\u88c5",Object(l.b)("inlineCode",{parentName:"li"},"name"),"\u548c",Object(l.b)("inlineCode",{parentName:"li"},"id")),Object(l.b)("li",{parentName:"ul"},"POST\u65b9\u5f0f\u63d0\u4ea4",Object(l.b)("inlineCode",{parentName:"li"},"name"),"\uff0c",Object(l.b)("inlineCode",{parentName:"li"},"id"),"\u503c\u5230",Object(l.b)("inlineCode",{parentName:"li"},"/search"),"\u8def\u7531"),Object(l.b)("li",{parentName:"ul"},"\u5c06\u540e\u7aef\u54cd\u5e94\u7684\u7528\u6237\u5217\u8868\u8fdb\u884c\u663e\u793a"))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u641c\u7d22\u7ec4\u4ef6\u4e0e\u5355\u51fb\u4e8b\u4ef6")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'\x3c!--    \u641c\u7d22--\x3e\n<div class="row">\n    <div class="col-md-8 col-md-offset-1">\n        <form class="form-inline">\n            <div class="form-group">\n                <label for="searchName">\u59d3\u540d</label>\n                <input type="text" v-model="searchObj.name" class="form-control" id="searchName" placeholder="\u8bf7\u8f93\u5165\u59d3\u540d">\n            </div>\n            <div class="form-group">\n                <label for="searchId">ID</label>\n                <input type="text" v-model="searchObj.id" class="form-control" id="searchId" placeholder="\u8bf7\u8f93\u5165id">\n            </div>\n            <button type="button" class="btn btn-info" @click="search">\u641c\u7d22</button>\n        </form>\n    </div>\n</div>\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u4e8b\u4ef6\u51fd\u6570")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'search() { //\u641c\u7d22\u65b9\u6cd5\n    axios.post("http://localhost:8080/user/search", this.searchObj)\n        .then(function(response) {\n        vue.users = response.data;\n    })\n        .catch(function(error) {\n        console.log(error);\n    })\n}\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"data"),"\u57df\u6dfb\u52a0",Object(l.b)("inlineCode",{parentName:"li"},"searchObj"))),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"data: {\n    users: [], // \u4ece\u540e\u7aef\u8bf7\u6c42\u7136\u540e\u586b\u5145\n    user: {},\n    searchObj: {} // \u641c\u7d22\u5b9e\u4f53\n},\n")),Object(l.b)("p",null,Object(l.b)("img",{src:t(982).default})),Object(l.b)("h2",{id:"107-\u5b8c\u6574\u4ee3\u7801"},"10.7 \u5b8c\u6574\u4ee3\u7801"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"\u524d\u7aef")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<!DOCTYPE html>\n<html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        <title>\u7528\u6237\u7ba1\u7406\u754c\u9762</title>\n        \x3c!--    \u5f15\u5165bootstrap--\x3e\n        <link rel="stylesheet" href="./bootvue/css/bootstrap.css">\n        <link rel="stylesheet" href="./bootvue/css/bootstrap-theme.css">\n    </head>\n    <body>\n        <div id="app">\n            <nav class="navbar navbar-default">\n                <div class="container-fluid">\n                    \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n                    <div class="navbar-header">\n                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"\n                                aria-expanded="false">\n                            <span class="sr-only">Toggle navigation</span>\n                            <span class="icon-bar"></span>\n                            <span class="icon-bar"></span>\n                            <span class="icon-bar"></span>\n                        </button>\n                        <a class="navbar-brand" href="#">\u7528\u6237\u7ba1\u7406\u7cfb\u7edf</a>\n                    </div>\n\n                    <ul class="nav navbar-nav navbar-right">\n                        <li><a href="#">\u6b22\u8fcexx\u8fdb\u5165\u7cfb\u7edf</a></li>\n                    </ul>\n                </div>\x3c!-- /.navbar-collapse --\x3e\n            </nav>\n\n            \x3c!--        \u4e2d\u5fc3\u5e03\u5c40--\x3e\n            <div class="container-fluid">\n\n                \x3c!--    \u641c\u7d22--\x3e\n                <div class="row">\n                    <div class="col-md-8 col-md-offset-1">\n                        <form class="form-inline">\n                            <div class="form-group">\n                                <label for="searchName">\u59d3\u540d</label>\n                                <input type="text" v-model="searchObj.name" class="form-control" id="searchName" placeholder="\u8bf7\u8f93\u5165\u59d3\u540d">\n                            </div>\n                            <div class="form-group">\n                                <label for="searchId">ID</label>\n                                <input type="text" v-model="searchObj.id" class="form-control" id="searchId" placeholder="\u8bf7\u8f93\u5165id">\n                            </div>\n                            <button type="button" class="btn btn-info" @click="search">\u641c\u7d22</button>\n                        </form>\n                    </div>\n                </div>\n\n                \x3c!--    \u8868\u683c--\x3e\n                <div class="row" style="margin-top: 20px">\n                    <div class="col-md-8">\n                        \x3c!--                    \u7528\u6237\u4fe1\u606f\u5c55\u793a--\x3e\n                        <table class="table table-hover table-striped">\n                            <tr>\n                                <th>ID</th>\n                                <th>\u59d3\u540d</th>\n                                <th>\u5bc6\u7801</th>\n                                <th>\u64cd\u4f5c</th>\n                            </tr>\n                            <tr v-for="u in users" :key="u.id">\n                                <td>{ {u.id} }</td>\n                                <td>{ {u.name} }</td>\n                                <td>{ {u.password} }</td>\n                                <td>\n                                    <button class="btn btn-primary btn-sm" @click="findOneUser(u)">\u4fee\u6539</button>&nbsp;&nbsp;<button class="btn btn-danger btn-sm"\n                                                                                                                                  @click="deleteUser(u.id)">\u5220\u9664\n                                    </button>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                    \x3c!--\u53f3\u4fa7--\x3e\n                    <div class="col-md-4">\n                        <form>\n                            <div class="form-group">\n                                <label for="name">\u59d3\u540d</label>\n                                <input type="text" class="form-control" id="name" placeholder="\u59d3\u540d" v-model="user.name">\n                            </div>\n                            <div class="form-group">\n                                <label for="password">password</label>\n                                <input type="text" class="form-control" id="password" placeholder="\u5bc6\u7801" v-model="user.password">\n                            </div>\n                            <button type="button" class="btn btn-info" @click="saveUserInfo">\u63d0\u4ea4</button>\n                            <button type="button" class="btn btn-danger" @click="reset">\u91cd\u7f6e</button>\n                        </form>\n                    </div>\n                    \x3c!--\u53f3\u4fa7--\x3e\n                </div>\n            </div>\n            \x3c!--        \u4e2d\u5fc3\u5e03\u5c40--\x3e\n        </div>\n\n        \x3c!--\u5f15\u5165vue--\x3e\n        \x3c!--\u5f15\u5165axios--\x3e\n        <script src="./bootvue/js/vue.js"><\/script>\n        <script src="./bootvue/js/axios.min.js"><\/script>\n        <script>\n            const vue = new Vue({\n                el: "#app",\n                data: {\n                    users: [], // \u4ece\u540e\u7aef\u8bf7\u6c42\u7136\u540e\u586b\u5145\n                    user: {},\n                    searchObj: {} // \u641c\u7d22\u5b9e\u4f53\n                },\n                methods: {\n                    saveUserInfo() {\n                        axios.post("http://localhost:8080/user/save", this.user)\n                            .then(function(response) {\n                            if (response.data.success) {\n                                vue.findAll();\n                                vue.reset();\n                            } else {\n                                alert(response.data.message);\n                            }\n                        })\n                            .catch(function(error) {\n                            console.log(error);\n                        });\n                    },\n                    findAll() {\n                        axios.get("http://localhost:8080/user/findAll")\n                            .then(function(response) {\n                            vue.users = response.data;\n                        })\n                            .catch(function(error) {\n                            console.log(error);\n                        })\n                    },\n                    reset() {\n                        this.user = {};\n                    },\n                    deleteUser(id) {\n                        axios.delete("http://localhost:8080/user/delete/" + id)\n                            .then(function(response) {\n                            if (response.data.success) {\n                                vue.findAll();\n                            } else {\n                                alert(response.data.message);\n                            }\n                        });\n                    },\n                    findOneUser(u) {\n                        this.user = u;\n                    },\n                    search() { //\u641c\u7d22\u65b9\u6cd5\n                        axios.post("http://localhost:8080/user/search", this.searchObj)\n                            .then(function(response) {\n                            vue.users = response.data;\n                        })\n                            .catch(function(error) {\n                            console.log(error);\n                        })\n                    }\n                },\n                //\u751f\u547d\u5468\u671f\u51fd\u6570created\n                created() {\n                    //\u53d1\u9001\u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u64cd\u4f5c\n                    this.findAll();\n                }\n            })\n        <\/script>\n    </body>\n</html>\n')),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"\u540e\u7aef")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"pom.xml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.2.7.RELEASE</version>\n        <relativePath/> \x3c!-- lookup parent from repository --\x3e\n    </parent>\n    <groupId>com.example</groupId>\n    <artifactId>demo</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <name>demo</name>\n    <description>Demo project for Spring Boot</description>\n\n    <properties>\n        <java.version>1.8</java.version>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-jdbc</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.mybatis.spring.boot</groupId>\n            <artifactId>mybatis-spring-boot-starter</artifactId>\n            <version>2.1.2</version>\n        </dependency>\n\n        <dependency>\n            <groupId>com.alibaba</groupId>\n            <artifactId>druid</artifactId>\n            <version>1.1.21</version>\n        </dependency>\n\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.47</version>\n            <scope>runtime</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n            <optional>true</optional>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n            <exclusions>\n                <exclusion>\n                    <groupId>org.junit.vintage</groupId>\n                    <artifactId>junit-vintage-engine</artifactId>\n                </exclusion>\n            </exclusions>\n        </dependency>\n\n        <dependency>\n            <groupId>com.alibaba</groupId>\n            <artifactId>fastjson</artifactId>\n            <version>1.2.45</version>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"application.yaml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"spring:\n  datasource:\n    username: root\n    password: root\n    #?serverTimezone=UTC\u89e3\u51b3\u65f6\u533a\u7684\u62a5\u9519\n    url: jdbc:mysql://localhost:3306/test?serverTimezone=UTC&useUnicode=true&characterEncoding=utf-8\n    driver-class-name: com.mysql.jdbc.Driver\n    type: com.alibaba.druid.pool.DruidDataSource # \u914d\u7f6e\u4f7f\u7528Druid\u6570\u636e\u6e90\n\n    #Spring Boot \u9ed8\u8ba4\u662f\u4e0d\u6ce8\u5165\u8fd9\u4e9b\u5c5e\u6027\u503c\u7684\uff0c\u9700\u8981\u81ea\u5df1\u7ed1\u5b9a\n    #druid \u6570\u636e\u6e90\u4e13\u6709\u914d\u7f6e\n    initialSize: 5\n    minIdle: 5\n    maxActive: 20\n    maxWait: 60000\n    timeBetweenEvictionRunsMillis: 60000\n    minEvictableIdleTimeMillis: 300000\n    validationQuery: SELECT 1 FROM DUAL\n    testWhileIdle: true\n    testOnBorrow: false\n    testOnReturn: false\n    poolPreparedStatements: true\n\n    #\u914d\u7f6e\u76d1\u63a7\u7edf\u8ba1\u62e6\u622a\u7684filters\uff0cstat:\u76d1\u63a7\u7edf\u8ba1\u3001log4j\uff1a\u65e5\u5fd7\u8bb0\u5f55\u3001wall\uff1a\u9632\u5fa1sql\u6ce8\u5165\n    #\u5982\u679c\u5141\u8bb8\u65f6\u62a5\u9519  java.lang.ClassNotFoundException: org.apache.log4j.Priority\n    #\u5219\u5bfc\u5165 log4j \u4f9d\u8d56\u5373\u53ef\uff0cMaven \u5730\u5740\uff1ahttps://mvnrepository.com/artifact/log4j/log4j\n    filters: stat,wall,log4j\n    maxPoolPreparedStatementPerConnectionSize: 20\n    useGlobalDataSourceStat: true\n    connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'@Mapper\n@Repository\npublic interface UserMapper {\n    //\u67e5\u8be2\u6240\u6709\n    List<User> findAll();\n    //\u4fee\u6539\u4e00\u4e2a\u4eba\n    void update(User user);\n\n    int save(User user);\n\n    void delete(Integer id);\n    //\u6839\u636e\u59d3\u540d\u6216\u8005id\u8fdb\u884c\u6a21\u7cca\u641c\u7d22\n    List<User> searchByNameOrId(@Param("name") String name,@Param("id") Integer id);\n}\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"mapper.xml")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.example.demo.dao.UserMapper">\n    <select id="findAll" resultType="com.example.demo.pojo.User">\n      SELECT * FROM USER;\n    </select>\n\n    <insert id="save" parameterType="com.example.demo.pojo.User">\n        insert into user (id, name, password) values (null, #{name}, #{password})\n    </insert>\n\n    <delete id="delete">\n        delete from user where id = #{id}\n    </delete>\n\n    <update id="update" parameterType="com.example.demo.pojo.User">\n        update user set name = #{name}, password = #{password} where id = #{id}\n    </update>\n    \x3c!--\u6a21\u7cca\u641c\u7d22--\x3e\n    <select id="searchByNameOrId" resultType="com.example.demo.pojo.User">\n        SELECT * FROM USER\n        <where>\n        <if test="name!=\'\' and name!=null">\n            NAME LIKE concat(\'%\', #{name}, \'%\')\n        </if>\n        <if test="id!=\'\' and id!=null">\n            OR id LIKE concat(\'%\', #{id}, \'%\')\n        </if>\n        </where>\n    </select>\n</mapper>\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"service")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"public interface UserService {\n\n    //\u67e5\u8be2\u6240\u6709\u7528\u6237\n    List<User> findAll();\n\n    int save(User user);\n\n    void delete(Integer id);\n\n    void update(User user);\n\n    //\u6839\u636e\u59d3\u540d\u6216\u8005id\u8fdb\u884c\u6a21\u7cca\u641c\u7d22\n    List<User> searchByNameOrId(String name, Integer id);\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"serviceImpl")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Service\n@Transactional  //\u4e8b\u52a1\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public List<User> findAll() {\n        return userMapper.findAll();\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public int save(User user) {\n        return userMapper.save(user);\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public void delete(Integer id) {\n        userMapper.delete(id);\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public void update(User user) {\n        userMapper.update(user);\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.SUPPORTS)\n    public List<User> searchByNameOrId(String name, Integer id) {\n        return userMapper.searchByNameOrId(name, id);\n    }\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Controller")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'@CrossOrigin\n@RestController\n@RequestMapping("/user")\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping("/findAll")\n    public List<User> findAll() {\n        List<User> users = userService.findAll();\n        return users;\n    }\n\n    @PostMapping("/save")\n    public Map<String, Object> save(@RequestBody User user) {\n        Map<String, Object> map = new HashMap<>();\n        try {\n            if (null != user.getId()) {\n                userService.update(user);\n            } else {\n                userService.save(user);\n            }\n            map.put("success", true);\n        } catch (Exception e) {\n            map.put("success", false);\n            map.put("message", "\u64cd\u4f5c\u5931\u8d25");\n        }\n        return map;\n    }\n\n    @DeleteMapping("/delete/{id}")\n    public Map<String, Object> delete(@PathVariable("id") Integer id) {\n        Map<String, Object> map = new HashMap<>();\n        try {\n            userService.delete(id);\n            map.put("success", true);\n        } catch (Exception e) {\n            map.put("success", false);\n            map.put("message", "\u5220\u9664\u5931\u8d25");\n        }\n        return map;\n    }\n\n    //\u6a21\u7cca\u641c\u7d22 \u5229\u7528fastJson\u63a5\u6536json\u683c\u5f0f\u7684\u53c2\u6570\n    @PostMapping("/search")\n    public List<User> searchByNameOrId(@RequestBody JSONObject jsonParams) {\n        String name = jsonParams.get("name") + "";\n        Integer id;\n        if (null == jsonParams.get("id") || "".equals(jsonParams.get("id"))) {\n            id = null;\n        } else {\n            id = Integer.parseInt(jsonParams.get("id").toString());\n        }\n\n        return userService.searchByNameOrId(name, id);\n    }\n}\n')))}b.isMDXComponent=!0},520:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return m}));var a=t(0),r=t.n(a);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=r.a.createContext({}),b=function(e){var n=r.a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},p=function(e){var n=b(e.components);return r.a.createElement(i.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),p=b(t),d=a,m=p["".concat(s,".").concat(d)]||p[d]||u[d]||l;return t?r.a.createElement(m,c(c({ref:n},i),{},{components:t})):r.a.createElement(m,c({ref:n},i))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,s=new Array(l);s[0]=d;var c={};for(var o in n)hasOwnProperty.call(n,o)&&(c[o]=n[o]);c.originalType=e,c.mdxType="string"==typeof e?e:a,s[1]=c;for(var i=2;i<l;i++)s[i]=t[i];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},977:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/7-e25315d8b30393b5b7db9629a3db86d0.png"},978:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/8-e2f0a23ef6403b4c23d7bd639910a96e.png"},979:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/9-6fbae978dfc84dfad8a4e1d286f2ba54.png"},980:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/12-48cbcce7ceb01eec324369a26092f9da.gif"},981:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/13-129e3a0d0bca03d4a3985e00504a5600.gif"},982:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/15-7274a644e6b706d51b0b52f8ef6b0766.gif"}}]);