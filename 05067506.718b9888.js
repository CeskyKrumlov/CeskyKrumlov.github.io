(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{561:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O}));var a=n(0),l=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var c=l.a.createContext({}),d=function(e){var t=l.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=d(e.components);return l.a.createElement(c.Provider,{value:t},e.children)},N={inlineCode:"code",wrapper:function(e){var t=e.children;return l.a.createElement(l.a.Fragment,{},t)}},m=l.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,b=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=d(n),m=a,O=p["".concat(b,".").concat(m)]||p[m]||N[m]||i;return n?l.a.createElement(O,r(r({ref:t},c),{},{components:n})):l.a.createElement(O,r({ref:t},c))}));function O(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,b=new Array(i);b[0]=m;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r.mdxType="string"==typeof e?e:a,b[1]=r;for(var c=2;c<i;c++)b[c]=n[c];return l.a.createElement.apply(null,b)}return l.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},628:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/1-37b303c9d74b4cf630bcbd85cf79c9bc.png"},629:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/2-5e796f53b729dd635a993014116deef9.png"},630:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/3-edd915cb79ac0dff286da9ef46e430d2.png"},631:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/4-46edd35b159720482a738d1ecccc80bf.png"},632:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/5-7979a479cde11d59ca01e642497685cb.png"},633:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/6-9fea4efb4231a7fa9b59684de4e9e02c.png"},634:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/7-a914b7195dd1d7be47c1256d0a7cc3f0.png"},635:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/8-33ada5d12264af64f9c497021e63ca27.png"},636:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/9-b87ed4c5472ab91a443072def93153db.png"},637:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/10-64e6ec93c7f251a8896c8433166d0cc2.png"},638:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/11-9a9710289515a10c0770eac1e1d73504.png"},639:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/12-d6914ec298dcc51a7c2c93fa5b465756.png"},640:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/17-67ad14bd23498bbbad988350875f87a3.png"},641:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/13-4e53ae5f13edee32ef4eb2b8c63bfd38.png"},642:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/14-e056deb3e209c37f28e5bc3d51d84e06.png"},643:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/15-989a62a16cc17ebb2bec7157fd895ab2.png"},644:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/16-8677f320f54deae889c9032df894a206.png"},77:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return b})),n.d(t,"metadata",(function(){return r})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return d}));var a=n(2),l=n(6),i=(n(0),n(561)),b={id:"3.avlTree",title:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\u2014\u2014AVL\u6811",hide_title:!0},r={unversionedId:"sf/\u6811/3.avlTree",id:"sf/\u6811/3.avlTree",isDocsHomePage:!1,title:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\u2014\u2014AVL\u6811",description:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811",source:"@site/datastructure/sf/\u6811/\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811avl.md",slug:"/sf/\u6811/3.avlTree",permalink:"/datastructure/sf/\u6811/3.avlTree",version:"current",sidebar:"docs2",previous:{title:"\u4e8c\u53c9\u6811\u904d\u5386",permalink:"/datastructure/sf/\u6811/3.binaryTreeIterate"},next:{title:"B\u6811",permalink:"/datastructure/sf/\u6811/4.bTree"}},o=[{value:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811",id:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811",children:[]},{value:"\u5e73\u8861\uff08Balance\uff09",id:"\u5e73\u8861\uff08balance\uff09",children:[{value:"\u7406\u60f3\u5e73\u8861",id:"\u7406\u60f3\u5e73\u8861",children:[]}]},{value:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811",id:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811-1",children:[]},{value:"AVL\u6811",id:"avl\u6811",children:[{value:"\u6dfb\u52a0\u5bfc\u81f4\u7684\u5931\u8861",id:"\u6dfb\u52a0\u5bfc\u81f4\u7684\u5931\u8861",children:[]},{value:"\u65cb\u8f6c",id:"\u65cb\u8f6c",children:[{value:"LL\u2014\u2014\u53f3\u65cb\u8f6c\uff08\u5355\u65cb\uff09",id:"ll\u53f3\u65cb\u8f6c\uff08\u5355\u65cb\uff09",children:[]},{value:"RR\u2014\u2014\u5de6\u65cb\u8f6c\uff08\u5355\u65cb\uff09",id:"rr\u5de6\u65cb\u8f6c\uff08\u5355\u65cb\uff09",children:[]},{value:"LR \u2014\u2014 RR\u5de6\u65cb\u8f6c\u3001LL\u53f3\u65cb\u8f6c\uff08\u53cc\u65cb\uff09",id:"lr--rr\u5de6\u65cb\u8f6c\u3001ll\u53f3\u65cb\u8f6c\uff08\u53cc\u65cb\uff09",children:[]},{value:"RL \u2014\u2014 LL\u53f3\u65cb\u8f6c\u3001RR\u5de6\u65cb\u8f6c\uff08\u53cc\u65cb\uff09",id:"rl--ll\u53f3\u65cb\u8f6c\u3001rr\u5de6\u65cb\u8f6c\uff08\u53cc\u65cb\uff09",children:[]}]},{value:"\u5e73\u8861\u65f6\u673a\u2014\u2014\u9002\u65f6\u8c03\u7528afterAdd\u65b9\u6cd5",id:"\u5e73\u8861\u65f6\u673a\u9002\u65f6\u8c03\u7528afteradd\u65b9\u6cd5",children:[{value:"\u8ba1\u7b97\u5e73\u8861\u56e0\u5b50",id:"\u8ba1\u7b97\u5e73\u8861\u56e0\u5b50",children:[]}]},{value:"afterAdd\u65b9\u6cd5",id:"afteradd\u65b9\u6cd5",children:[{value:"\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6",id:"\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6",children:[]},{value:"\u5e73\u8861\u64cd\u4f5c",id:"\u5e73\u8861\u64cd\u4f5c",children:[]},{value:"\u5e73\u8861\u64cd\u4f5c1\u2014\u2014\u5206\u79bb\u5f0f\u65cb\u8f6c\u5b9e\u73b0",id:"\u5e73\u8861\u64cd\u4f5c1\u5206\u79bb\u5f0f\u65cb\u8f6c\u5b9e\u73b0",children:[]},{value:"\u5e73\u8861\u64cd\u4f5c2\u2014\u2014\u7edf\u4e00\u5f0f\u65cb\u8f6c\u64cd\u4f5c",id:"\u5e73\u8861\u64cd\u4f5c2\u7edf\u4e00\u5f0f\u65cb\u8f6c\u64cd\u4f5c",children:[]}]},{value:"\u5220\u9664\u5bfc\u81f4\u7684\u5931\u8861",id:"\u5220\u9664\u5bfc\u81f4\u7684\u5931\u8861",children:[{value:"LL\u5de6\u65cb",id:"ll\u5de6\u65cb",children:[]},{value:"RR\u53f3\u65cb",id:"rr\u53f3\u65cb",children:[]},{value:"LR \u5de6\u65cb\u2014\u2014\u53f3\u65cb",id:"lr-\u5de6\u65cb\u53f3\u65cb",children:[]},{value:"RL \u53f3\u65cb\u2014\u2014\u5de6\u65cb",id:"rl-\u53f3\u65cb\u5de6\u65cb",children:[]}]},{value:"afterRemove\u65b9\u6cd5",id:"afterremove\u65b9\u6cd5",children:[]},{value:"\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6",id:"\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6",children:[]}]}],c={rightToc:o};function d(e){var t=e.components,b=Object(l.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},c,b,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811"},"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u590d\u6742\u5ea6\u5206\u6790")),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:"center"}),"\u65b9\u6cd5"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:"center"}),"\u590d\u6742\u5ea6"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"\u6dfb\u52a0 \u4e8c\u5206\u641c\u7d22"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"O(\u6811\u9ad8) = O(logn)")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"\u5220\u9664 \u4e8c\u5206\u641c\u7d22"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"O(\u6811\u9ad8) = O(logn)")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"\u641c\u7d22 \u4e8c\u5206\u641c\u7d22"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"O(\u6811\u9ad8) = O(logn)")))),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"\u6781\u7aef\u60c5\u51b5\uff1a"),Object(i.b)("p",{parentName:"div"},"\u5982\u679c\u6811\u4e0a\u8282\u70b9\u9664\u4e86\u6839\u8282\u70b9\u4ee5\u5916\uff0c\u5168\u90e8\u4e3a\u5de6\u8282\u70b9\u6216\u5168\u90e8\u4e3a\u53f3\u8282\u70b9\uff0c\u5219\u6811\u9000\u5316\u4e3a",Object(i.b)("inlineCode",{parentName:"p"},"\u7ebf\u6027\u8868"),"\uff0c\u90a3\u4e48\u641c\u7d22\u7684\u590d\u6742\u5ea6\u4e0a\u5347\u4e3a",Object(i.b)("inlineCode",{parentName:"p"},"O(n)")),Object(i.b)("ul",{parentName:"div"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u5e94\u5f53\u91c7\u53d6\u4e00\u79cd\u529e\u6cd5\uff0c\u9632\u6b62\u4e8c\u53c9\u641c\u7d22\u6811\u9000\u5316\u4e3a\u7ebf\u6027\u8868\uff0c\u8ba9\u6dfb\u52a0\u3001\u5220\u9664\u3001\u641c\u7d22\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u7ef4\u6301\u5728O(logn)\u6c34\u5e73"))))),Object(i.b)("h1",{id:"\u5e73\u8861\uff08balance\uff09"},"\u5e73\u8861\uff08Balance\uff09"),Object(i.b)("hr",null),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u5f53\u8282\u70b9\u7684\u6570\u91cf\u56fa\u5b9a\u65f6\uff0c\u5de6\u53f3\u5b50\u6811\u9ad8\u5ea6\u8d8a\u63a5\u8fd1\uff0c\u5219\u79f0\u8fd9\u9897\u4e8c\u53c9\u6811\u8d8a\u5e73\u8861\uff0c\u4e5f\u5373\u6811\u9ad8\u5ea6\u8d8a\u4f4e")))),Object(i.b)("h2",{id:"\u7406\u60f3\u5e73\u8861"},"\u7406\u60f3\u5e73\u8861"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u6700\u7406\u60f3\u7684\u5e73\u8861\uff0c\u5c31\u662f\u50cf",Object(i.b)("inlineCode",{parentName:"li"},"\u5b8c\u5168\u4e8c\u53c9\u6811"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"\u6ee1\u4e8c\u53c9\u6811"),"\u90a3\u6837\uff0c\u6811",Object(i.b)("inlineCode",{parentName:"li"},"\u9ad8"),"\u5ea6\u5c3d\u53ef\u80fd\u7684",Object(i.b)("inlineCode",{parentName:"li"},"\u5c0f"))),Object(i.b)("h1",{id:"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811-1"},"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u6539\u8fdb\u4e8c\u53c9\u641c\u7d20\u6570")),Object(i.b)("hr",null),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u8282\u70b9\u7684\u6dfb\u52a0\u3001\u5220\u9664\u987a\u5e8f\u662f\u65e0\u6cd5\u9650\u5236\u7684\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u662f\u968f\u673a\u7684"),Object(i.b)("li",{parentName:"ul"},"\u6545\uff0c\u5728\u8282\u70b9\u6dfb\u52a0\u3001\u5220\u9664\u64cd\u4f5c\u4e4b\u540e\uff0c\u60f3\u529e\u6cd5\u8ba9\u4e8c\u53c9\u641c\u7d22\u6811\u6062\u590d\u5e73\u8861\uff0c\u5373\u51cf\u5c11\u6811\u9ad8\u5ea6")),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201103101230571",src:n(628).default})),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"\u95ee\u9898")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("ul",{parentName:"div"},Object(i.b)("li",{parentName:"ul"},"\u7ee7\u7eed\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u8c03\u6574\u8282\u70b9\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5b8c\u5168\u8fbe\u5230\u7406\u60f3\u5e73\u8861\uff0c\u4f46\u4ed8\u51fa\u7684\u7b97\u529b\u4ee3\u4ef7\u6bd4\u8f83\u5927"),Object(i.b)("li",{parentName:"ul"},"\u82e5\u8c03\u6574\u6b21\u6570\u8fc7\u591a\uff0c\u53ef\u80fd\u53cd\u800c\u589e\u52a0\u4e86\u65f6\u95f4\u590d\u6742\u5ea6"),Object(i.b)("li",{parentName:"ul"},"\u6545\uff0c\u901a\u5e38\u4f7f\u7528\u5c3d\u91cf\u5c11\u7684\u8c03\u6574\u6b21\u6570\uff0c\u8fbe\u5230\u9002\u5ea6\u7684\u5e73\u8861\u5373\u53ef"),Object(i.b)("li",{parentName:"ul"},"\u4e00\u9897\u8fbe\u5230\u9002\u5ea6\u5e73\u8861\u7684\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u79f0\u4e3a",Object(i.b)("inlineCode",{parentName:"li"},"\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\uff08Balanced Binary Search Tree\uff09BBST"))))),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u7ecf\u5178\u5e38\u89c1\u7684\u5e73\u8861\u4e8c\u53c9\u6811\u6709",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"AVL\u6811"),"\u2014\u2014\u5e7f\u6cdb\u5e94\u7528\u4e8eWindows NT\u5185\u6838\u4e2d"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"\u7ea2\u9ed1\u6811"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"C++ STL\u5e93\u4e2d\u7684map\u3001set\u7b49"),Object(i.b)("li",{parentName:"ul"},"Java\u4e2d\u7684TreeMap\u3001TreeSet\u3001HashMap\u3001HashSet"),Object(i.b)("li",{parentName:"ul"},"Linux\u7684\u8fdb\u7a0b\u8c03\u5ea6"),Object(i.b)("li",{parentName:"ul"},"Nginx\u7684timer\u7ba1\u7406"))),Object(i.b)("li",{parentName:"ul"},"\u4e00\u822c\u4e5f\u79f0\u4f5c\uff1a",Object(i.b)("inlineCode",{parentName:"li"},"\u81ea\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\uff08Self-Balancing Binary Search Tree\uff09"))))),Object(i.b)("hr",null),Object(i.b)("h1",{id:"avl\u6811"},"AVL\u6811"),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"AVL\u6811\u662f\u6700\u65e9\u53d1\u660e\u7684\u81ea\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\u4e4b\u4e00"))),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"AVL\u53d6\u540d\u5b50\u4e24\u540d\u53d1\u660e\u8005\u7684\u540d\u5b57",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"G. M. ",Object(i.b)("inlineCode",{parentName:"li"},"A"),"delson-",Object(i.b)("inlineCode",{parentName:"li"},"V"),"elsky\u548c E. M. ",Object(i.b)("inlineCode",{parentName:"li"},"L"),"andis")))),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"\u5e73\u8861\u56e0\u5b50\uff08Balance Factor\uff09"),"\uff1a\u67d0\u8282\u70b9\u7684\u5de6\u53f3\u5b50\u6811\u7684",Object(i.b)("inlineCode",{parentName:"li"},"\u9ad8\u5ea6\u5dee"),"\uff0c",Object(i.b)("inlineCode",{parentName:"li"},"\u5de6h - \u53f3h")),Object(i.b)("li",{parentName:"ul"},"\u4e3a\u4e86\u8ba1\u7b97",Object(i.b)("inlineCode",{parentName:"li"},"\u5e73\u8861\u56e0\u5b50"),"\uff0c\u9700\u8981\u5728\u6811\u8282\u70b9\u7c7b",Object(i.b)("inlineCode",{parentName:"li"},"Node<E>"),"\u4e2d\u6dfb\u52a0",Object(i.b)("inlineCode",{parentName:"li"},"\u9ad8\u5ea6height"),"\u5c5e\u6027"))),Object(i.b)("img",{src:n(629).default,style:{zoom:"50%",border:"0px black solid"}}),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"AVL\u6811\u7684\u7279\u70b9"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"\u6bcf\u4e2a\u8282\u70b9\u7684\u5e73\u8861\u56e0\u5b50\u53ea\u53ef\u80fd\u662f",Object(i.b)("inlineCode",{parentName:"li"},"1"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"0"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"-1"),"\uff08\u7edd\u5bf9\u503c\u22641\uff0c\u5982\u679c\u8d85\u8fc71\uff0c\u79f0\u4e3a",Object(i.b)("inlineCode",{parentName:"li"},"\u5931\u8861"),"\uff09"),Object(i.b)("li",{parentName:"ul"},"\u5373\u6bcf\u4e2a\u8282\u70b9\u7684\u5de6\u53f3\u5b50\u6811\u9ad8\u5ea6\u5dee\u4e0d\u8d85\u8fc7",Object(i.b)("inlineCode",{parentName:"li"},"1")),Object(i.b)("li",{parentName:"ul"},"\u6dfb\u52a0\u3001\u5220\u9664\u3001\u641c\u7d22\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u7ef4\u6301\u5728",Object(i.b)("inlineCode",{parentName:"li"},"O(logn)"))))),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201103104700847",src:n(630).default})),Object(i.b)("h2",{id:"\u6dfb\u52a0\u5bfc\u81f4\u7684\u5931\u8861"},"\u6dfb\u52a0\u5bfc\u81f4\u7684\u5931\u8861"),Object(i.b)("img",{src:n(631).default,style:{zoom:"50%",border:"0px black solid"}}),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u65b0\u6dfb\u52a013\u8282\u70b9\uff0c\u5bfc\u81f414\u8282\u70b9\u5931\u8861\uff0c\u7ee7\u800c\u5bfc\u81f415\u8282\u70b9\u5931\u8861\uff0c\u518d\u5bfc\u81f49\u8282\u70b9\u5931\u8861\uff0c\u63a5\u77409\u8282\u70b9\u7684\u7236\u8282\u70b9\u4e5f\u4f1a\u5931\u8861"),Object(i.b)("li",{parentName:"ul"},"\u6700\u574f\u60c5\u51b5\uff1a\u53ef\u80fd\u5bfc\u81f4\u6240\u6709",Object(i.b)("inlineCode",{parentName:"li"},"\u7956\u5148\u8282\u70b9"),Object(i.b)("strong",{parentName:"li"},"\uff08\u4e0d\u5305\u62ec\u7236\u8282\u70b9\uff09"),"\u90fd",Object(i.b)("inlineCode",{parentName:"li"},"\u5931\u8861")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u7236\u8282\u70b9\u3001\u975e\u7956\u5148\u8282\u70b9\uff0c\u4e0d\u53ef\u80fd\u5931\u8861")))),Object(i.b)("h2",{id:"\u65cb\u8f6c"},"\u65cb\u8f6c"),Object(i.b)("h3",{id:"ll\u53f3\u65cb\u8f6c\uff08\u5355\u65cb\uff09"},"LL\u2014\u2014\u53f3\u65cb\u8f6c\uff08\u5355\u65cb\uff09"),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"n"),"\uff1anode \u8282\u70b9"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"p"),"\uff1aparent \u7236\u8282\u70b9"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"g"),"\uff1agrand parent \u7956\u7236\u8282\u70b9"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"T0 ~ T3"),"\uff1a\u5b50\u6811"))),Object(i.b)("img",{src:n(632).default,style:{zoom:"50%",border:"0px black solid"}}),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u5728\u8282\u70b9",Object(i.b)("inlineCode",{parentName:"li"},"n"),"\u6dfb\u52a0\u4e00\u9897\u5b50\u6811"),Object(i.b)("li",{parentName:"ul"},"\u5219\uff0c\u8282\u70b9",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u53d1\u751f\u5931\u8861"),Object(i.b)("li",{parentName:"ul"},"\u7531\u4e8e",Object(i.b)("inlineCode",{parentName:"li"},"n"),"\u662f",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u8282\u70b9\u7684",Object(i.b)("inlineCode",{parentName:"li"},"left"),"\u53c8",Object(i.b)("inlineCode",{parentName:"li"},"left"),"\uff0c\u6240\u4ee5\u79f0\u4e3a",Object(i.b)("inlineCode",{parentName:"li"},"LL")),Object(i.b)("li",{parentName:"ul"},"\u5c06\u8282\u70b9",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u901a\u8fc7",Object(i.b)("inlineCode",{parentName:"li"},"\u5355\u6b21\u53f3\u65cb\u8f6c"),"\uff0c\u53ef\u4ee5\u6062\u590d\u5e73\u8861")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u53f3\u65cb\u8f6c"),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"g.left = p.right")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"p.right = g")),Object(i.b)("li",{parentName:"ul"},"\u4ee4",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u6210\u4e3a\u8fd9\u68f5",Object(i.b)("inlineCode",{parentName:"li"},"\u5b50\u6811"),"\u7684",Object(i.b)("inlineCode",{parentName:"li"},"\u6839"),"\u8282\u70b9"))),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201103115526860",src:n(633).default})),Object(i.b)("p",null,"\u6700\u7ec8\uff1a"),Object(i.b)("img",{src:n(634).default,style:{zoom:"50%",border:"0px black solid"}}),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u4ecd\u7136\u662f\u4e00\u68f5\u4e8c\u53c9\u641c\u7d22\u6811\uff1a",Object(i.b)("inlineCode",{parentName:"strong"},"T0")," < ",Object(i.b)("inlineCode",{parentName:"strong"},"n")," < ",Object(i.b)("inlineCode",{parentName:"strong"},"T1")," < ",Object(i.b)("inlineCode",{parentName:"strong"},"p")," < ",Object(i.b)("inlineCode",{parentName:"strong"},"T2")," < ",Object(i.b)("inlineCode",{parentName:"strong"},"g")," < ",Object(i.b)("inlineCode",{parentName:"strong"},"T3")))),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"\u8fd8\u9700\u8981\u7ef4\u62a4\u7684\u5185\u5bb9\u2014\u2014\u7236\u8282\u70b9")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("ul",{parentName:"div"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u7684\u7236\u8282\u70b9\u53d8\u4e3a\u539f\u5148",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u7684\u7236\u8282\u70b9"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u7684\u7236\u8282\u70b9\u53d8\u4e3a",Object(i.b)("inlineCode",{parentName:"li"},"p")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"T2"),"\u7684\u7236\u8282\u70b9\u7531",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u53d8\u4e3a",Object(i.b)("inlineCode",{parentName:"li"},"g"))))),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"\u8fd8\u9700\u8981\u7ef4\u62a4\u7684\u5185\u5bb9\u2014\u2014\u8282\u70b9\u9ad8\u5ea6")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"\u5148\u540e\u66f4\u65b0",Object(i.b)("inlineCode",{parentName:"p"},"g"),"\u3001",Object(i.b)("inlineCode",{parentName:"p"},"p"),"\u8282\u70b9\u7684\u9ad8\u5ea6"))),Object(i.b)("h3",{id:"rr\u5de6\u65cb\u8f6c\uff08\u5355\u65cb\uff09"},"RR\u2014\u2014\u5de6\u65cb\u8f6c\uff08\u5355\u65cb\uff09"),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"g.right = p.left")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"p.left = g")),Object(i.b)("li",{parentName:"ul"},"\u8ba9",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u6210\u4e3a\u8fd9\u9897\u5b50\u6811\u7684\u6839\u8282\u70b9"))),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"T1"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u7684\u7236\u8282\u70b9\u8fdb\u884c\u66f4\u65b0"),Object(i.b)("li",{parentName:"ul"},"\u5148\u540e\u66f4\u65b0g\u3001p\u8282\u70b9\u7684\u9ad8\u5ea6"))),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201103125805388",src:n(635).default})),Object(i.b)("h3",{id:"lr--rr\u5de6\u65cb\u8f6c\u3001ll\u53f3\u65cb\u8f6c\uff08\u53cc\u65cb\uff09"},"LR \u2014\u2014 RR\u5de6\u65cb\u8f6c\u3001LL\u53f3\u65cb\u8f6c\uff08\u53cc\u65cb\uff09"),Object(i.b)("blockquote",null,Object(i.b)("ol",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ol"},"\u5148\u5bf9",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u8fdb\u884c\u5de6\u65cb\u8f6c"),Object(i.b)("li",{parentName:"ol"},"\u518d\u5bf9",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u8fdb\u884c\u53f3\u65cb\u8f6c"),Object(i.b)("li",{parentName:"ol"},"\u8ba9\u8282\u70b9",Object(i.b)("inlineCode",{parentName:"li"},"n"),"\u79f0\u4e3a\u5b50\u6811\u7684\u6839\u8282\u70b9"))),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201103131127145",src:n(636).default})),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"\u6ce8\u610f")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"\u6ce8\u610f\u7ef4\u62a4\u8282\u70b9\u7684\u7236\u8282\u70b9\u3001\u9ad8\u5ea6\u5c5e\u6027"))),Object(i.b)("h3",{id:"rl--ll\u53f3\u65cb\u8f6c\u3001rr\u5de6\u65cb\u8f6c\uff08\u53cc\u65cb\uff09"},"RL \u2014\u2014 LL\u53f3\u65cb\u8f6c\u3001RR\u5de6\u65cb\u8f6c\uff08\u53cc\u65cb\uff09"),Object(i.b)("blockquote",null,Object(i.b)("ol",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ol"},"\u5148\u5bf9",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u8fdb\u884c\u53f3\u65cb\u8f6c"),Object(i.b)("li",{parentName:"ol"},"\u518d\u5bf9",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u8fdb\u884c\u5de6\u65cb\u8f6c"),Object(i.b)("li",{parentName:"ol"},"\u4ee4\u8282\u70b9",Object(i.b)("inlineCode",{parentName:"li"},"n"),"\u53d8\u4e3a\u5b50\u6811\u6839\u8282\u70b9"))),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201103132351507",src:n(637).default})),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"\u6ce8\u610f")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"\u6ce8\u610f\u7ef4\u62a4\u8282\u70b9\u7684\u7236\u8282\u70b9\u3001\u9ad8\u5ea6\u5c5e\u6027"))),Object(i.b)("h2",{id:"\u5e73\u8861\u65f6\u673a\u9002\u65f6\u8c03\u7528afteradd\u65b9\u6cd5"},"\u5e73\u8861\u65f6\u673a\u2014\u2014\u9002\u65f6\u8c03\u7528afterAdd\u65b9\u6cd5"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u5728",Object(i.b)("strong",{parentName:"p"},"\u6dfb\u52a0"),"\u64cd\u4f5c\u6267\u884c\u5b8c\u65f6\uff0c\u8fdb\u884c\u5e73\u8861\u64cd\u4f5c")),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u4fee\u6539",Object(i.b)("inlineCode",{parentName:"li"},"MyBinarySearchTree"),"\uff0c\u5728\u5176\u4e2d\u6dfb\u52a0",Object(i.b)("inlineCode",{parentName:"li"},"afterAdd(Node<E> node)"),"\u65b9\u6cd5\uff0c\u4ec0\u4e48\u4e5f\u4e0d\u5199\uff0c\u5ef6\u8fdf\u5230\u5b50\u7c7b\u4e2d\u5b9e\u73b0"),Object(i.b)("li",{parentName:"ul"},"\u4fee\u6539",Object(i.b)("inlineCode",{parentName:"li"},"MyBinarySearchTree"),"\u4e2d\u7684",Object(i.b)("inlineCode",{parentName:"li"},"add"),"\u65b9\u6cd5\uff0c\u5728\u5176\u4e2d\u6dfb\u52a0\u5bf9",Object(i.b)("inlineCode",{parentName:"li"},"afterAdd"),"\u65b9\u6cd5\u7684\u8c03\u7528"))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="afterAdd\u65b9\u6cd5\uff0c\u4fee\u6539add\u65b9\u6cd5"',title:'"afterAdd\u65b9\u6cd5\uff0c\u4fee\u6539add\u65b9\u6cd5"'}),"protected void afterAdd(Node<E> node) {\n    // \u5916\u90e8\u4e0d\u80fd\u8bbf\u95ee\uff0c\u5b50\u7c7b\u53ef\u4ee5\u8bbf\u95ee\n}\n\npublic void add(E element) {\n    // \u975e\u7a7a\u5224\u65ad\n    elementNotNullCheck(element);\n\n    // \u5224\u65ad\u6839\u8282\u70b9\u662f\u5426\u5b58\u5728\n    if (this.rootNode == null) {\n        this.rootNode = new Node<>(element, null);\n        size++;\n        afterAdd(rootNode); // \u5e73\u8861\n        return;\n    }\n\n    // \u6839\u8282\u70b9\u5df2\u7ecf\u5b58\u5728\n    // 1. \u627e\u5230\u7236\u8282\u70b9\n    Node<E> currentNode = rootNode; // \u5f53\u524d\u6b63\u5728\u6bd4\u8f83\u7684\u6811\u8282\u70b9\n    Node<E> parentNode = null; // \u8bb0\u5f55\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9\n    int compareResult = 0; // \u6bd4\u8f83\u5927\u5c0f\u7684\u7ed3\u679c\n    // \u4e00\u76f4\u5f80\u4e0b\u627e\n    while (currentNode != null) {\n        compareResult = compare(element, currentNode.element); // \u6bd4\u8f83\u5927\u5c0f\n        // \u5728currentNode\u5411\u4e0b\u8fed\u4ee3\u4e4b\u524d\uff0c\u5148\u8bb0\u5f55\u5b83\uff0c\u7b49current\u8fed\u4ee3\u4e4b\u540e\uff0c\u8fd9\u4e2a\u8bb0\u5f55\u503c\u5c31\u6210\u4e86current\u7684parent\n        parentNode = currentNode;\n\n        if (compareResult < 0) { // element < \u5f53\u524d\u8282\u70b9\n            // \u627e\u5de6\u8282\u70b9\n            currentNode = currentNode.leftNode;\n        } else if (compareResult > 0) { // element > \u5f53\u524d\u8282\u70b9\n            // \u627e\u53f3\u8282\u70b9\n            currentNode = currentNode.rightNode;\n        } else { // \u76f8\u7b49 \u8986\u76d6\u65e7\u8282\u70b9\n            currentNode.element = element;\n            return;\n        }\n    }\n    // \u8df3\u51fa\u5faa\u73af\uff0c\u5df2\u7ecf\u8d70\u5230\u4e86\u6811\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u6b64\u65f6currentNode\u4e00\u5b9a\u6307\u5411null\uff0cparent\u5c31\u662fcurrent\u7684\u7238\u7238\n    // 2. \u521b\u5efa\u65b0\u8282\u70b9\n    Node<E> newNode = new Node<>(element, parentNode);\n    // 3. parent.left \u6216 parent.right\u6307\u5411\u521b\u5efa\u7684\u8282\u70b9\n    if (compareResult > 0) // \u63d2\u5165\u5230\u7236\u8282\u70b9\u7684\u53f3\n        parentNode.rightNode = newNode;\n    else // \u63d2\u5165\u5230\u7236\u8282\u70b9\u7684\u5de6\n        parentNode.leftNode = newNode;\n\n    size++;\n    afterAdd(newNode); // \u5e73\u8861\n}\n")),Object(i.b)("h3",{id:"\u8ba1\u7b97\u5e73\u8861\u56e0\u5b50"},"\u8ba1\u7b97\u5e73\u8861\u56e0\u5b50"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u4e3a\u4e86\u8ba1\u7b97\u5e73\u8861\u56e0\u5b50\uff0c\u9700\u8981\u7ef4\u62a4",Object(i.b)("inlineCode",{parentName:"p"},"\u8282\u70b9"),"\u7684",Object(i.b)("inlineCode",{parentName:"p"},"\u9ad8\u5ea6"),"\u5c5e\u6027\uff0c\u4f46\u8be5\u5c5e\u6027\u5b9a\u4e49\u5728\u666e\u901a\u7684\u4e8c\u53c9\u6811\u8282\u70b9\u7c7b\u4e2d\u4e0d\u5408\u9002\uff0c\u56e0\u4e3a\u5b83\u4e0d\u5177\u6709\u8db3\u591f\u7684\u666e\u904d\u6027"),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u5728AVL\u6811\u7684\u7c7b\u4e2d\u5b9a\u4e49\u4e00\u4e2a",Object(i.b)("inlineCode",{parentName:"li"},"AVLNode"),"\u7c7b\uff0c\u7ee7\u627f\u4e8c\u53c9\u6811\u7684\u8282\u70b9\u7c7b\uff0c\u6dfb\u52a0",Object(i.b)("inlineCode",{parentName:"li"},"height"),"\u5c5e\u6027\uff0c",Object(i.b)("inlineCode",{parentName:"li"},"\u9ed8\u8ba4"),"\u7b49\u4e8e",Object(i.b)("inlineCode",{parentName:"li"},"1"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u5411AVL\u6811\u4e2d\u6dfb\u52a0\u8282\u70b9\u65f6\uff0c\u6dfb\u52a0\u8fdb\u53bb\u7684\u65b0\u8282\u70b9\u5fc5\u5b9a\u662f\u53f6\u5b50\u8282\u70b9\uff0c\u800c\u53f6\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\u5c31\u662f1")))),Object(i.b)("li",{parentName:"ul"},"\u5728AVL\u8282\u70b9\u7c7b\u4e2d\u6dfb\u52a0\u8ba1\u7b97\u5e73\u8861\u56e0\u5b50\u7684\u65b9\u6cd5",Object(i.b)("inlineCode",{parentName:"li"},"getBalanceFactor")),Object(i.b)("li",{parentName:"ul"},"\u5728AVL\u6811\u7c7b\u4e2d\u6dfb\u52a0\u79c1\u6709\u65b9\u6cd5",Object(i.b)("inlineCode",{parentName:"li"},"isBalanced(Node<E> node)"),"\uff0c\u8fd4\u56de\u8282\u70b9\u662f\u5426\u5e73\u8861"),Object(i.b)("li",{parentName:"ul"},"\u5728",Object(i.b)("inlineCode",{parentName:"li"},"BinarySearchTree"),"\u7c7b\u4e2d\uff0c\u6dfb\u52a0",Object(i.b)("inlineCode",{parentName:"li"},"creatNode(E element, Node<E> parentNode)"),"\u65b9\u6cd5\uff0c\u4f9b\u5b50\u7c7b\u6dfb\u52a0\u8282\u70b9\u4f7f\u7528"))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="AVLNode<E>\uff0c\u6dfb\u52a0\u9ad8\u5ea6\u5c5e\u6027\uff0c\u8ba1\u7b97\u5e73\u8861\u56e0\u5b50"',title:'"AVLNode<E>\uff0c\u6dfb\u52a0\u9ad8\u5ea6\u5c5e\u6027\uff0c\u8ba1\u7b97\u5e73\u8861\u56e0\u5b50"'}),"/**\n * AVL\u6811\u8282\u70b9\n */\nprivate static class AVLNode<E> extends Node<E> {\n    int height = 1; // \u6dfb\u52a0\u7684\u4e00\u5b9a\u662f\u53f6\u5b50\u8282\u70b9\uff0c\u53f6\u5b50\u8282\u70b9\u7684\u9ad8\u5ea6\u5c31\u662f1\n\n    public AVLNode(E element, Node<E> parentNode) {\n        super(element, parentNode);\n    }\n\n    /**\n     * \u83b7\u53d6\u67d0\u8282\u70b9\u5e73\u8861\u56e0\u5b50\n     * e\n     *\n     * @return \u8ba1\u7b97\u51fa\u7684\u5e73\u8861\u56e0\u5b50\n     */\n    public int getBalanceFactor() { // \u5de6\u5b50\u6811\u9ad8\u5ea6 - \u53f3\u5b50\u6811\u9ad8\u5ea6\n        int leftHeight = leftNode == null ? 0 : ((AVLNode<E>) leftNode).height;\n        int rightHeight = rightNode == null ? 0 : ((AVLNode<E>) rightNode).height;\n        return leftHeight - rightHeight;\n    }\n  \n    public void updateHeight() {\n      int leftHeight = leftNode == null ? 0 : ((AVLNode<E>) leftNode).height;\n      int rightHeight = rightNode == null ? 0 : ((AVLNode<E>) rightNode).height;\n      height = Math.max(leftHeight, rightHeight) + 1;\n    }\n}\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u4f20\u5165\u8282\u70b9\uff0c\u5224\u65ad\u8282\u70b9\u662f\u5426\u5e73\u8861"',title:'"\u4f20\u5165\u8282\u70b9\uff0c\u5224\u65ad\u8282\u70b9\u662f\u5426\u5e73\u8861"'}),"private boolean isBalanced(Node<E> node) {\n    // \u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u7edd\u5bf9\u503c\u5c0f\u4e8e\u7b49\u4e8e1\u5219\u5e73\u8861\n    return Math.abs(((AVLNode<E>) node).getBalanceFactor()) <= 1; \n}\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u521b\u5efa\u8282\u70b9\u65b9\u6cd5\uff0c\u7ed9\u51fa\u9ed8\u8ba4\u5b9e\u73b0\uff0c\u5b50\u7c7b\u5982AVL\u6811\u7c7b\uff0c\u53ef\u4ee5\u91cd\u5199\u521b\u5efaAVL\u6811\u8282\u70b9"',title:'"\u521b\u5efa\u8282\u70b9\u65b9\u6cd5\uff0c\u7ed9\u51fa\u9ed8\u8ba4\u5b9e\u73b0\uff0c\u5b50\u7c7b\u5982AVL\u6811\u7c7b\uff0c\u53ef\u4ee5\u91cd\u5199\u521b\u5efaAVL\u6811\u8282\u70b9"'}),"protected Node<E> createNode(E element, Node<E> parentNode) {\n    return new Node<E>(element, parentNode);\n}\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="AVL\u7c7b\uff0c\u91cd\u5199\u521b\u5efa\u8282\u70b9\u7684\u65b9\u6cd5\uff0c\u521b\u5efa\u7684\u8282\u70b9\u4ece\u901a\u7528Node\u66f4\u6362\u4e3aAVLNode"',title:'"AVL\u7c7b\uff0c\u91cd\u5199\u521b\u5efa\u8282\u70b9\u7684\u65b9\u6cd5\uff0c\u521b\u5efa\u7684\u8282\u70b9\u4ece\u901a\u7528Node\u66f4\u6362\u4e3aAVLNode"'}),"@Override\nprotected Node<E> createNode(E element, Node<E> parentNode) {\n    return new AVLNode<>(element, parentNode);\n}\n")),Object(i.b)("h2",{id:"afteradd\u65b9\u6cd5"},"afterAdd\u65b9\u6cd5"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u5148\u642d\u5efa\u4e00\u4e2a\u57fa\u672c\u6846\u67b6"),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u6dfb\u52a0\u65b0\u8282\u70b9\u540e\uff0c\u5224\u65ad\u63d2\u5165\u65b0\u8282\u70b9\u7684\u7956\u7236\u8282\u70b9\u662f\u5426\u5e73\u8861",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"\u5e73\u8861\uff1a\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6",Object(i.b)("strong",{parentName:"li"},"\uff08\u63d2\u5165\u8282\u70b9\u7684\u6240\u6709\u7236\u8f88\u8282\u70b9\u7684\u9ad8\u5ea6\uff09")),Object(i.b)("li",{parentName:"ul"},"\u5931\u8861\uff1a\u5c1d\u8bd5\u5e73\u8861"))),Object(i.b)("li",{parentName:"ul"},"\u4ece\u53f6\u5b50\u8282\u70b9\u51fa\u53d1\uff0c\u627e\u5230\u6700\u5148\u5931\u8861\u7684\u8282\u70b9\uff08\u6709\u53ef\u80fd\u6dfb\u52a0\u540e\u4e0d\u5931\u8861\uff0c\u90a3\u4e48\u4f1a\u4e00\u8def\u627e\u5230\u6839\u8282\u70b9\uff09"))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="afterAdd\u65b9\u6cd5\u57fa\u672c\u6846\u67b6"',title:'"afterAdd\u65b9\u6cd5\u57fa\u672c\u6846\u67b6"'}),"@Override\nprotected void afterAdd(Node<E> newNode) {\n    while ((newNode = newNode.parentNode) != null) {\n        if (isBalanced(newNode)) { // \u82e5\u8282\u70b9\u5e73\u8861\n           \n        } else { // \u82e5\u8282\u70b9\u5931\u8861\n\n        }\n    }\n}\n")),Object(i.b)("h3",{id:"\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6"},"\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u7ef4\u62a4\u9ad8\u5ea6\uff1a"),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"\u9ad8\u5ea6 = max(\u5de6\u5b50\u6811\u9ad8\u5ea6\uff0c\u53f3\u5b50\u6811\u9ad8\u5ea6) + 1")))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u4e4b\u524d\u5728AVL\u8282\u70b9\u7c7b\u4e2d\uff0c\u5b9a\u4e49\u4e86\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6\u7684\u65b9\u6cd5"',title:'"\u4e4b\u524d\u5728AVL\u8282\u70b9\u7c7b\u4e2d\uff0c\u5b9a\u4e49\u4e86\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6\u7684\u65b9\u6cd5"'}),"public void updateHeight() {\n    int leftHeight = leftNode == null ? 0 : ((AVLNode<E>) leftNode).height;\n    int rightHeight = rightNode == null ? 0 : ((AVLNode<E>) rightNode).height;\n    height = Math.max(leftHeight, rightHeight) + 1;\n}\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="updateHeight(Node<E> node)\u65b9\u6cd5\uff0c\u7528\u4e8e\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6"',title:'"updateHeight(Node<E>','node)\u65b9\u6cd5\uff0c\u7528\u4e8e\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6"':!0}),"/**\n * \u7ef4\u62a4\u9ad8\u5ea6\n */\nprivate void updateHeight(Node<E> node) {\n    ((AVLNode<E>) node).updateHeight();\n}\n")),Object(i.b)("h3",{id:"\u5e73\u8861\u64cd\u4f5c"},"\u5e73\u8861\u64cd\u4f5c"),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u5230\u8fbe\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u662f\u65cb\u8f6c\u64cd\u4f5c\u4e2d\u7684",Object(i.b)("inlineCode",{parentName:"li"},"g")),Object(i.b)("li",{parentName:"ul"},"\u627e\u5230",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u548c",Object(i.b)("inlineCode",{parentName:"li"},"n"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"p"),"\uff1a",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u7684\u5de6\u53f3\u5b50\u6811\u4e2d\uff0c\u9ad8\u5ea6\u6700\u9ad8\u7684\u90a3\u4e2a\u8282\u70b9"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"n"),"\uff1a",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u7684\u5de6\u53f3\u5b50\u6811\u4e2d\uff0c\u9ad8\u5ea6\u6700\u9ad8\u7684\u90a3\u4e2a\u8282\u70b9"))))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u5224\u65ad\u67d0\u8282\u70b9\u65f6\u5176\u7236\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\u8fd8\u662f\u53f3\u5b50\u8282\u70b9"',title:'"\u5224\u65ad\u67d0\u8282\u70b9\u65f6\u5176\u7236\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\u8fd8\u662f\u53f3\u5b50\u8282\u70b9"'}),"public boolean isLeftChild() {\n    return parentNode != null && this == parentNode.leftNode;\n}\n\npublic boolean isRightChild() {\n    return parentNode != null && this == parentNode.rightNode;\n}\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="tallerChild\u65b9\u6cd5\uff0c\u8fd4\u56de\u67d0\u8282\u70b9\u5de6\u53f3\u5b50\u6811\u4e2d\u9ad8\u5ea6\u6700\u9ad8\u7684\u8282\u70b9"',title:'"tallerChild\u65b9\u6cd5\uff0c\u8fd4\u56de\u67d0\u8282\u70b9\u5de6\u53f3\u5b50\u6811\u4e2d\u9ad8\u5ea6\u6700\u9ad8\u7684\u8282\u70b9"'}),"public AVLNode<E> tallerChild() {\n    int leftHeight = leftNode == null ? 0 : ((AVLNode<E>) leftNode).height;\n    int rightHeight = rightNode == null ? 0 : ((AVLNode<E>) rightNode).height;\n\n    if (leftHeight > rightHeight)\n        return (AVLNode<E>) leftNode;\n    if (leftHeight < rightHeight)\n        return (AVLNode<E>) rightNode;\n    // \u5de6\u53f3\u5b50\u6811\u9ad8\u5ea6\u76f8\u7b49\uff0c\u8fd4\u56de\u540c\u65b9\u5411\u8282\u70b9\n    // \u5f53\u524d\u8282\u70b9\u65f6\u7236\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\uff0c\u5c31\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\n    // \u5f53\u524d\u8282\u70b9\u65f6\u7236\u8282\u70b9\u7684\u53f3\u5b50\u8282\u70b9\uff0c\u5c31\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u53f3\u5b50\u8282\u70b9\n    return isLeftChild() ? (AVLNode<E>) leftNode : (AVLNode<E>) rightNode;\n}\n")),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u5224\u65ad\u65cb\u8f6c\u7c7b\u578b",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"LL\u2014\u2014\u5bf9g\u8fdb\u884c\u53f3\u65cb"),Object(i.b)("li",{parentName:"ul"},"RR\u2014\u2014\u5bf9g\u8fdb\u884c\u5de6\u65cb"),Object(i.b)("li",{parentName:"ul"},"LR\u2014\u2014\u5bf9p\u8fdb\u884c\u5de6\u65cb\uff0cg\u8fdb\u884c\u53f3\u65cb"),Object(i.b)("li",{parentName:"ul"},"RL\u2014\u2014\u5bf9p\u8fdb\u884c\u53f3\u65cb\uff0cg\u8fdb\u884c\u5de6\u65cb"))))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u5728AVL\u4e2d\uff0c\u91cd\u5199\u4e8c\u53c9\u641c\u7d22\u6811\u4e2d\u5b9a\u4e49\u7684afterAdd\u65b9\u6cd5\uff0c\u5b9e\u73b0\u5e73\u8861\u64cd\u4f5c"',title:'"\u5728AVL\u4e2d\uff0c\u91cd\u5199\u4e8c\u53c9\u641c\u7d22\u6811\u4e2d\u5b9a\u4e49\u7684afterAdd\u65b9\u6cd5\uff0c\u5b9e\u73b0\u5e73\u8861\u64cd\u4f5c"'}),"/**\n * \u5e73\u8861\n *\n * @param grandParentNode \u9ad8\u5ea6\u6700\u4f4e\u7684\u4e0d\u5e73\u8861\u8282\u70b9\n */\nprivate void rebalance(Node<E> grandParentNode) {\n    AVLNode<E> g = (AVLNode<E>) grandParentNode; // aka grandParentNode\n    AVLNode<E> p = g.tallerChild(); // aka parentNode\n    AVLNode<E> n = p.tallerChild(); // aka current new insert node\n\n    if (p.isLeftChild()) { // \u5de6L\n        if (n.isLeftChild()) { // \u5de6\u5de6LL\n            rotateRight(g);\n        } else { // \u5de6\u53f3LR\n            rotateLeft(p);\n            rotateRight(g);\n        }\n    } else { // \u53f3R\n        if (n.isLeftChild()) { // \u53f3\u5de6RL\n            rotateRight(p);\n            rotateLeft(g);\n        } else { // \u53f3\u53f3RR\n            rotateLeft(g);\n        }\n    }\n}\n")),Object(i.b)("h3",{id:"\u5e73\u8861\u64cd\u4f5c1\u5206\u79bb\u5f0f\u65cb\u8f6c\u5b9e\u73b0"},"\u5e73\u8861\u64cd\u4f5c1\u2014\u2014\u5206\u79bb\u5f0f\u65cb\u8f6c\u5b9e\u73b0"),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u7ef4\u62a4\u8282\u70b9\u5de6\u53f3\u5173\u7cfb"),Object(i.b)("li",{parentName:"ul"},"\u7ef4\u62a4\u8282\u70b9\u7236\u8282\u70b9"),Object(i.b)("li",{parentName:"ul"},"\u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6"))),Object(i.b)("h4",{id:"\u5de6\u65cb"},"\u5de6\u65cb"),Object(i.b)("blockquote",null,Object(i.b)("ol",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"\u5f53\u524d\u8282\u70b9"),"\u7684",Object(i.b)("inlineCode",{parentName:"li"},"\u53f3"),"\u5b50\u6811\u6307\u5411",Object(i.b)("inlineCode",{parentName:"li"},"\u53f3\u5b50\u8282\u70b9"),"\u7684\u5de6\u5b50\u6811 \uff08",Object(i.b)("inlineCode",{parentName:"li"},"g.right = p.left"),"\uff09"),Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"\u5b50\u8282\u70b9"),"\u7684\u5de6\u5b50\u6811\u6307\u5411",Object(i.b)("inlineCode",{parentName:"li"},"\u5f53\u524d\u8282\u70b9")," \uff08",Object(i.b)("inlineCode",{parentName:"li"},"p.left = g"),"\uff09"),Object(i.b)("li",{parentName:"ol"},"\u8ba9",Object(i.b)("inlineCode",{parentName:"li"},"\u5b50\u8282\u70b9"),"\u6210\u4e3a\u8fd9\u9897",Object(i.b)("inlineCode",{parentName:"li"},"\u5b50\u6811\u7684\u6839"),"\u8282\u70b9  (",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u6210\u4e3a\u5b50\u6811\u6839\u8282\u70b9)")),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u7ef4\u62a4\u76f8\u5173\u8282\u70b9\u7684\u7236\u8282\u70b9\u2014\u2014",Object(i.b)("inlineCode",{parentName:"li"},"T1"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u7684",Object(i.b)("inlineCode",{parentName:"li"},"parent"),"\u5c5e\u6027"),Object(i.b)("li",{parentName:"ul"},"\u7ef4\u62a4\u76f8\u5173\u8282\u70b9\u7684\u9ad8\u5ea6\u2014\u2014\u5148\u540e\u66f4\u65b0",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"p"),"\u7684\u9ad8\u5ea6"))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u5de6\u65cb"',title:'"\u5de6\u65cb"'}),"//\u65cb\u8f6c\nprivate void rotateLeft(AVLNode<E> g) { // \u53ef\u8ba4\u4e3a\u662fg\n    AVLNode<E> p = (AVLNode<E>) g.rightNode; // aka p\n    g.rightNode = p.leftNode; // 1.\n    p.leftNode = g; // 2.\n    // 3. p \u79f0\u4e3a\u5b50\u6811\u6839\u8282\u70b9\n    if (g.isLeftChild())\n        g.parentNode.leftNode = p;\n    else if (g.isRightChild())\n        g.parentNode.rightNode = p;\n    else // \u4e0d\u662f\u5de6\u4e5f\u4e0d\u662f\u53f3\uff0c\u8bf4\u660eg.parentNode\u4e0d\u5b58\u5728\uff0cg\u662f\u6839\u8282\u70b9\uff0c\u5219p\u4e0d\u662f\u6210\u4e3a\u5b50\u6811\u6839\u8282\u70b9\n        rootNode = p;// \u800c\u662f\u6210\u4e3a\u6574\u68f5\u6811\u7684\u6839\u8282\u70b9\n\n    // \u7ef4\u62a4\u76f8\u5173\u8282\u70b9\u7684\u7236\u8282\u70b9\u2014\u2014`T1`\u3001`p`\u3001`g`\u7684`parent`\u5c5e\u6027\n    p.parentNode = g.parentNode;\n    g.parentNode = p; // aka g.parent = p\n    if (g.rightNode != null) // \u9632\u6b62\u7a7a\u6307\u9488\u5f02\u5e38\n        g.rightNode.parentNode = g;\n    // \u7ef4\u62a4\u76f8\u5173\u8282\u70b9\u7684\u9ad8\u5ea6\u2014\u2014\u5148\u540e\u66f4\u65b0`g`\u3001`p`\u7684\u9ad8\u5ea6\n    g.updateHeight(); // \u5148\u66f4\u65b0\u9ad8\u5ea6\u4f4e\u7684\n    p.updateHeight(); // \u518d\u66f4\u65b0\u9ad8\u5ea6\u9ad8\u7684\uff0c\u56e0\u4e3a\u9ad8\u5ea6\u9ad8\u7684\u4f1a\u8c03\u7528\u4f4e\u8282\u70b9\u9ad8\u5ea6\u6765\u8ba1\u7b97\u81ea\u5df1\u7684\u9ad8\u5ea6\n}\n")),Object(i.b)("h4",{id:"\u53f3\u65cb"},"\u53f3\u65cb"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// \u53f3\u65cb\u8f6c\nprivate void rotateRight(AVLNode<E> g) {\n    AVLNode<E> p = (AVLNode<E>) g.leftNode;\n    g.leftNode = p.rightNode;\n    p.rightNode = g;\n    // p \u6210\u4e3a\u5b50\u6811\u6839\u8282\u70b9\n    if (g.isLeftChild())\n        g.parentNode.leftNode = p;\n    else if (g.isRightChild())\n        g.parentNode.rightNode = p;\n    else\n        rootNode = p; // p\u6210\u4e3a\u6574\u68f5\u6811\u7684\u6839\u8282\u70b9\n    // \u7ef4\u62a4\u7236\u8282\u70b9 T2\u3001g\u3001p\n    p.parentNode = g.parentNode;\n    g.parentNode = p;\n    if (g.leftNode != null)// aka t2\n        g.leftNode.parentNode = g;\n    // \u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6\n    g.updateHeight();\n    p.updateHeight();\n}\n")),Object(i.b)("h4",{id:"\u62bd\u79bb\u65cb\u8f6c\u516c\u5171\u4ee3\u7801"},"\u62bd\u79bb\u65cb\u8f6c\u516c\u5171\u4ee3\u7801"),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\uff0c\u5de6\u65cb\u548c\u53f3\u65cb\u540e\u534a\u90e8\u5206\u4ee3\u7801\u5b8c\u5168\u4e00\u81f4\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u516c\u5171\u90e8\u5206\u62bd\u79bb\u6210\u4e00\u4e2a\u65b0\u65b9\u6cd5",Object(i.b)("inlineCode",{parentName:"p"},"afterRotate")))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="afterRotate"',title:'"afterRotate"'}),"private void afterRotate(AVLNode<E> g, AVLNode<E> p, AVLNode<E> child) {\n    // p \u6210\u4e3a\u5b50\u6811\u6839\u8282\u70b9\n    if (g.isLeftChild())\n        g.parentNode.leftNode = p;\n    else if (g.isRightChild())\n        g.parentNode.rightNode = p;\n    else\n        rootNode = p; // p\u6210\u4e3a\u6574\u68f5\u6811\u7684\u6839\u8282\u70b9\n    // \u7ef4\u62a4\u7236\u8282\u70b9 T2\u3001g\u3001p\n    p.parentNode = g.parentNode;\n    g.parentNode = p;\n    if (child != null)// aka t2\n        child.parentNode = g;\n    // \u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6\n    g.updateHeight();\n    p.updateHeight();\n}\n")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u91cd\u6784\u540e\u7684\u5de6\u53f3\u65cb\u8f6c")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"//\u65cb\u8f6c\nprivate void rotateLeft(AVLNode<E> g) { // \u53ef\u8ba4\u4e3a\u662fg\n    AVLNode<E> p = (AVLNode<E>) g.rightNode; // aka p\n//        g.rightNode = p.leftNode; // 1.\n    AVLNode<E> child = (AVLNode<E>) p.leftNode;\n    g.rightNode = child; // 1.\n    p.leftNode = g; // 2.\n    afterRotate(g, p, child);\n}\n\n// \u53f3\u65cb\u8f6c\nprivate void rotateRight(AVLNode<E> g) {\n    AVLNode<E> p = (AVLNode<E>) g.leftNode;\n//        g.leftNode = p.rightNode;\n    AVLNode<E> child = (AVLNode<E>) p.rightNode;\n    g.leftNode = child;\n    p.rightNode = g;\n    afterRotate(g, p, child);\n}\n")),Object(i.b)("h4",{id:"\u6d4b\u8bd5"},"\u6d4b\u8bd5"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u5411bst\u548cavl\u4e2d\u6dfb\u52a0\u540c\u6837\u7684\u5143\u7d20\uff0c\u89c2\u5bdf\u6811\u7ed3\u6784\u7684\u533a\u522b"',title:'"\u5411bst\u548cavl\u4e2d\u6dfb\u52a0\u540c\u6837\u7684\u5143\u7d20\uff0c\u89c2\u5bdf\u6811\u7ed3\u6784\u7684\u533a\u522b"'}),'private static void basicTest() {\n    Integer[] data = new Integer[]{\n            85, 19, 69, 3, 7, 99, 95, 2, 1, 70, 44, 58, 11, 21, 14, 93, 57, 4, 56\n    };\n\n    MyBinarySearchTree<Integer> bst = new MyBinarySearchTree<>();\n    MyAVL<Integer> avl = new MyAVL<>();\n    // \u6dfb\u52a0\n    for (Integer d : data) {\n        avl.add(d);\n        bst.add(d);\n    }\n\n    BinaryTrees.println(bst);\n    System.out.println("---------------");\n    BinaryTrees.println(avl);\n}\n')),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js",metastring:'title="\u8fd0\u884c\u7ed3\u679c"',title:'"\u8fd0\u884c\u7ed3\u679c"'}),"            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u250085\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502                  \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u250019\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u250099\n    \u2502              \u2502         \u2502\n  \u250c\u25003\u2500\u2510          \u250c\u250069\u2500\u2510   \u250c\u250095\n  \u2502   \u2502          \u2502    \u2502   \u2502\n\u250c\u25002 \u250c\u25007\u2500\u2510     \u250c\u250044\u2500\u2510  70 93\n\u2502   \u2502   \u2502     \u2502    \u2502\n1   4   11\u2500\u2510 21  \u250c\u250058\n           \u2502     \u2502\n           14 \u250c\u250057\n              \u2502\n             56\n----------------------------------------------\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u250019\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502                  \u2502\n  \u250c\u25007\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u250069\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502   \u2502         \u2502             \u2502\n\u250c\u25002\u2500\u2510 11\u2500\u2510   \u250c\u250044\u2500\u2510         \u250c\u250095\u2500\u2510\n\u2502   \u2502    \u2502   \u2502    \u2502         \u2502    \u2502\n1   3\u2500\u2510  14 21  \u250c\u250057\u2500\u2510   \u250c\u250085\u2500\u2510  99\n      \u2502         \u2502    \u2502   \u2502    \u2502\n      4        56    58 70    93\n\nProcess finished with exit code 0\n")),Object(i.b)("h3",{id:"\u5e73\u8861\u64cd\u4f5c2\u7edf\u4e00\u5f0f\u65cb\u8f6c\u64cd\u4f5c"},"\u5e73\u8861\u64cd\u4f5c2\u2014\u2014\u7edf\u4e00\u5f0f\u65cb\u8f6c\u64cd\u4f5c"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u89c2\u5bdf\u89c4\u5f8b"),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"a\u3001b\u3001c\u3001d\u3001e\u3001f\u3001g\u6309\u4ece\u5c0f\u5230\u5927\u6392\u5e03\uff0c\u7b26\u5408\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u987a\u5e8f")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"\u5e73\u8861\u540e\u7684\u7ed3\u679c\uff0c\u7ed3\u6784\u662f\u9ad8\u5ea6\u4e00\u81f4\u7684"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"a\u3001b\u3001c \u4f1a\u6784\u6210\u4e00\u68f5\u72ec\u7acb\u5de6\u5b50\u6811"),Object(i.b)("li",{parentName:"ul"},"e\u3001f\u3001g \u4f1a\u6784\u6210\u4e00\u68f5\u72ec\u7acb\u53f3\u5b50\u6811"),Object(i.b)("li",{parentName:"ul"},"d \u6210\u4e3a\u5b50\u6811\u6839\u8282\u70b9\x01"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"\u5b58\u5728\u4e0d\u533a\u5206LL\u3001LR\u3001RL\u3001RR\u7684\u7edf\u4e00\u5b9e\u73b0\u65cb\u8f6c\u65b9\u6cd5")))),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201104111553902",src:n(638).default})),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"\u5b9e\u73b0\u601d\u8def")),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u627e\u5230",Object(i.b)("inlineCode",{parentName:"li"},"a"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"b"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"c"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"d"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"e"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"f"),"\u3001",Object(i.b)("inlineCode",{parentName:"li"},"g"),"\u8282\u70b9"),Object(i.b)("li",{parentName:"ul"},"\u786e\u5b9a",Object(i.b)("inlineCode",{parentName:"li"},"\u539f\u5148\u5b50\u6811"),"\u7684\u6839\u8282\u70b9\uff0c\u8ba9",Object(i.b)("inlineCode",{parentName:"li"},"d"),"\u7684\u7236\u8282\u70b9\u6307\u5411\u539f\u5148\u5b50\u6811\u6839\u8282\u70b9\u7684\u7236\u8282\u70b9\uff1b"),Object(i.b)("li",{parentName:"ul"},"\u6839\u636e\u539f\u5148\u5b50\u6811\u6839\u8282\u70b9\uff0c\u662f\u5176\u7236\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\u8fd8\u662f\u53f3\u5b50\u8282\u70b9\uff0c\u5c06",Object(i.b)("inlineCode",{parentName:"li"},"d"),"\u653e\u7f6e\u5728\u7236\u8282\u70b9\u5bf9\u5e94\u7684\u5de6\u5b50\u8282\u70b9\u6216\u53f3\u5b50\u8282\u70b9\u4f4d\u7f6e\u4e0a\uff1b\u5982\u679c\u7236\u8282\u70b9\u4e0d\u5b58\u5728\uff0c\u5219",Object(i.b)("inlineCode",{parentName:"li"},"d"),"\u6210\u4e3a\u6574\u68f5\u4e8c\u53c9\u6811\u7684\u6839\u8282\u70b9"))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u7edf\u4e00\u65cb\u8f6c\u65b9\u6cd5"',title:'"\u7edf\u4e00\u65cb\u8f6c\u65b9\u6cd5"'}),"/**\n * \u7edf\u4e00\u5f0f\u65cb\u8f6c\n *\n * @param a       ~ g \u6309\u4ece\u5c0f\u5230\u5927\u6392\u5217\u7684\u4e8c\u53c9\u641c\u7d22\u6811\u8282\u70b9\n * @param oldRoot \u539f\u5148\u5b50\u6811\u7684\u6839\u8282\u70b9\n */\nprivate void uniRotate(AVLNode<E> a, AVLNode<E> b, AVLNode<E> c, // \u7ed3\u679c\u5de6\u5b50\u6811\n                       AVLNode<E> d, // \u7ed3\u679c\u5b50\u6811\u6839\u8282\u70b9\n                       AVLNode<E> e, AVLNode<E> f, AVLNode<E> g,  // \u7ed3\u679c\u53f3\u5b50\u6811\n                       AVLNode<E> oldRoot) {\n    d.parentNode = oldRoot.parentNode; // \u65b0\u5b50\u6811\u6839\u8282\u70b9\u7684\u7236\u8282\u70b9\u4e3a\u65e7\u5b50\u6811\u6839\u8282\u70b9\u7684\u7236\u8282\u70b9\n    // \u4ee4d\u6210\u4e3a\u65b0\u5b50\u6811\u7684\u6839\u8282\u70b9\n    if (oldRoot.isLeftChild())\n        oldRoot.parentNode.leftNode = d;\n    else if (oldRoot.isRightChild())\n        oldRoot.parentNode.rightNode = d;\n    else\n        rootNode = d; // \u6210\u4e3a\u6574\u68f5\u6811\u7684\u6839\u8282\u70b9\n\n    // \u5904\u7406 a\u3001b\u3001c \u72ec\u7acb\u5b50\u6811\n    b.leftNode = a;\n    b.rightNode = c;\n    if (a != null) a.parentNode = b;\n    if (c != null) c.parentNode = b;\n    b.updateHeight(); // \u56e0\u4e3ab\u7684\u5de6\u53f3\u5b50\u6811\u90fd\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u56e0\u6b64\u9700\u8981\u66f4\u65b0b\u7684\u9ad8\u5ea6\n\n    // \u5904\u7406 e\u3001f\u3001g \u72ec\u7acb\u5b50\u6811\n    f.leftNode = e;\n    f.rightNode = g;\n    if (e != null) e.parentNode = f;\n    if (g != null) g.parentNode = f;\n    f.updateHeight(); // \u56e0\u4e3af\u7684\u5de6\u53f3\u5b50\u6811\u90fd\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u56e0\u6b64\u9700\u8981\u66f4\u65b0f\u7684\u9ad8\u5ea6\n\n    // \u5904\u7406b\u3001d\u3001f\n    d.leftNode = b;\n    d.rightNode = f;\n    b.parentNode = d;\n    f.parentNode = d;\n    d.updateHeight();\n}\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u57fa\u4e8e\u7edf\u4e00\u65cb\u8f6c\u7684\u5e73\u8861\u65b9\u6cd5"',title:'"\u57fa\u4e8e\u7edf\u4e00\u65cb\u8f6c\u7684\u5e73\u8861\u65b9\u6cd5"'}),"/**\n * \u7edf\u4e00\u5f0f\u5e73\u8861\n */\nprivate void rebalance2(Node<E> grandParentNode) {\n    AVLNode<E> g = (AVLNode<E>) grandParentNode; // aka grandParentNode\n    AVLNode<E> p = g.tallerChild(); // aka parentNode\n    AVLNode<E> n = p.tallerChild(); // aka current new insert node\n\n    if (p.isLeftChild()) { // \u5de6L\n        if (n.isLeftChild()) { // \u5de6\u5de6LL\n            uniRotate((AVLNode<E>) n.leftNode,\n                    n,\n                    (AVLNode<E>) n.rightNode,\n                    p,\n                    (AVLNode<E>) p.rightNode,\n                    g,\n                    (AVLNode<E>) g.rightNode,\n                    g);\n        } else { // \u5de6\u53f3LR\n            uniRotate((AVLNode<E>) p.leftNode,\n                    p,\n                    (AVLNode<E>) n.leftNode,\n                    n,\n                    (AVLNode<E>) n.rightNode,\n                    g,\n                    (AVLNode<E>) g.rightNode,\n                    g);\n        }\n    } else { // \u53f3R\n        if (n.isLeftChild()) { // \u53f3\u5de6RL\n            uniRotate((AVLNode<E>) g.leftNode,\n                    g,\n                    (AVLNode<E>) n.leftNode,\n                    n,\n                    (AVLNode<E>) n.rightNode,\n                    p,\n                    (AVLNode<E>) p.rightNode,\n                    g);\n        } else { // \u53f3\u53f3RR\n            uniRotate((AVLNode<E>) g.leftNode,\n                    g,\n                    (AVLNode<E>) p.leftNode,\n                    p,\n                    (AVLNode<E>) n.leftNode,\n                    n,\n                    (AVLNode<E>) n.rightNode,\n                    g);\n        }\n    }\n}\n")),Object(i.b)("h2",{id:"\u5220\u9664\u5bfc\u81f4\u7684\u5931\u8861"},"\u5220\u9664\u5bfc\u81f4\u7684\u5931\u8861"),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201106113243731",src:n(639).default})),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201106131453799",src:n(640).default})),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u5220\u9664\u6811\u4e2d\u7684\u8282\u70b916"),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u4f1a\u5bfc\u81f4",Object(i.b)("strong",{parentName:"li"},"\u7236\u8282\u70b9"),Object(i.b)("inlineCode",{parentName:"li"},"\u6216"),"\u8005",Object(i.b)("strong",{parentName:"li"},"\u7956\u5148\u8282\u70b9"),"\u5931\u8861"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u53ea\u4f1a\u5bfc\u81f4",Object(i.b)("inlineCode",{parentName:"strong"},"1"),"\u4e2a\u8282\u70b9\u5931\u8861")))),Object(i.b)("h3",{id:"ll\u5de6\u65cb"},"LL\u5de6\u65cb"),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201106114430452",src:n(641).default})),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"\u65cb\u8f6c\u7ed3\u675f\u540e\uff0c\u6574\u68f5\u5b50\u6811\u7684\u9ad8\u5ea6\u662f\u5426\u53d1\u751f\u53d8\u5316\uff0c\u53d6\u51b3\u4e8e\u7eff\u8272\u5b50\u6811\u662f\u5426\u5b58\u5728\uff0c\u5373\u53d6\u51b3\u4e8e",Object(i.b)("inlineCode",{parentName:"strong"},"T2"),"\u5b50\u6811\u7684\u5177\u4f53\u9ad8\u5ea6")),Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"\u5982\u679c\u7eff\u8272\u8282\u70b9\u4e0d\u5b58\u5728\uff0c\u66f4\u9ad8\u5c42\u7684\u7956\u5148\u8282\u70b9\u53ef\u80fd\u4e5f\u4f1a\u5931\u8861\uff0c\u9700\u8981\u518d\u6b21\u6062\u590d\u5e73\u8861\uff0c\u4e4b\u540e\u6709\u53ef\u80fd\u5bfc\u81f4\u66f4\u9ad8\u5c42\u7684\u7956\u5148\u8282\u70b9\u5931\u8861"),Object(i.b)("li",{parentName:"ul"},"\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u7956\u5148\u8282\u70b9\uff0c\u76f4\u5230\u6839\u8282\u70b9\uff0c\u90fd\u9700\u8981\u8fdb\u884c\u6062\u590d\u5e73\u8861\u64cd\u4f5c\uff0c\u5171",Object(i.b)("inlineCode",{parentName:"li"},"O(logn)"),"\u6b21\u8c03\u6574"))),Object(i.b)("h3",{id:"rr\u53f3\u65cb"},"RR\u53f3\u65cb"),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201106115151350",src:n(642).default})),Object(i.b)("h3",{id:"lr-\u5de6\u65cb\u53f3\u65cb"},"LR \u5de6\u65cb\u2014\u2014\u53f3\u65cb"),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201106115623739",src:n(643).default})),Object(i.b)("h3",{id:"rl-\u53f3\u65cb\u5de6\u65cb"},"RL \u53f3\u65cb\u2014\u2014\u5de6\u65cb"),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20201106115926857",src:n(644).default})),Object(i.b)("h2",{id:"afterremove\u65b9\u6cd5"},"afterRemove\u65b9\u6cd5"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u5728\u4e8c\u53c9\u641c\u7d22\u6811\u7c7b\u4e2d\uff0c\u6dfb\u52a0aftetRemove\u65b9\u6cd5\uff0c\u5ef6\u8fdf\u5230\u5b50\u7c7b\u5b9e\u73b0"',title:'"\u5728\u4e8c\u53c9\u641c\u7d22\u6811\u7c7b\u4e2d\uff0c\u6dfb\u52a0aftetRemove\u65b9\u6cd5\uff0c\u5ef6\u8fdf\u5230\u5b50\u7c7b\u5b9e\u73b0"'}),"protected void afterRemove(Node<E> node) {\n    \n}\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u5728\u4e8c\u53c9\u641c\u7d22\u6811remove\u65b9\u6cd5\u4e2d\uff0c\u6dfb\u52a0\u5bf9afterRemove\u7684\u8c03\u7528"',title:'"\u5728\u4e8c\u53c9\u641c\u7d22\u6811remove\u65b9\u6cd5\u4e2d\uff0c\u6dfb\u52a0\u5bf9afterRemove\u7684\u8c03\u7528"'}),"/**\n * \u5220\u9664\u6307\u5b9a\u8282\u70b9\n *\n * @param node \u8981\u5220\u9664\u7684\u8282\u70b9\n */\nprivate void remove(Node<E> node) {\n    if (node == null) return;\n    // 3. \u5220\u9664\u5ea6\u4e3a2\u7684\u8282\u70b9\n    if (node.hasTwoChildren()) { // \u5ea6\u4e3a2\n        // \u627e\u5230\u524d\u9a71\u8282\u70b9\n        Node<E> predecessor = predecessor(node);\n        // \u524d\u9a71\u8282\u70b9\u7684\u503c\u8986\u76d6\u5230\u8981\u5220\u9664\u8282\u70b9\n        node.element = predecessor.element;\n        // \u5220\u9664\u524d\u9a71\u8282\u70b9\uff0c\u5148\u8ba9\u5f15\u7528node\u6307\u5411\u524d\u9a71\u8282\u70b9predecessor\n        // \u4e4b\u540e\u518d\u5220\u9664node\u5373\u53ef\n        node = predecessor;\n    }\n\n    // \u5220\u9664node\u8282\u70b9\uff0cnode\u5ea6\u5fc5\u7136\u4e3a0\u62161\n    // \u627e\u5230\u5b50\u8282\u70b9\n    Node<E> replacementNode = node.leftNode != null ? node.leftNode : node.rightNode;\n    // 2. \u5220\u9664\u5ea6\u4e3a1\u7684\u8282\u70b9\n    if (replacementNode != null) {\n        replacementNode.parentNode = node.parentNode; // \u66f4\u6539parent\n        // \u66f4\u6539node.parent\u7684\u5de6\u6216\u53f3\u5b50\u8282\u70b9\n        if (node.parentNode == null) { // node\u4e3a\u5ea6\u4e3a1 \u7684 \u6839 \u8282\u70b9\n            // \u6839\u8282\u70b9\u6307\u5411replacement\n            rootNode = replacementNode;\n        } else if (node == node.parentNode.leftNode)\n            node.parentNode.leftNode = replacementNode;\n        else\n            node.parentNode.rightNode = replacementNode;\n\n        // afterRemove \u5220\u9664\u5e73\u8861\n        afterRemove(node);\n    } else if (node.parentNode == rootNode) { // \u662f\u6839\u8282\u70b9\u7684\u53f6\u5b50\u8282\u70b9\n        rootNode = null;\n        // afterRemove \u5220\u9664\u5e73\u8861\n        afterRemove(node);\n    } else { // 1. \u5220\u9664\u53f6\u5b50\u8282\u70b9 \u5ea6\u4e3a0, \u4f46\u4e0d\u662f\u6839\u8282\u70b9\n        if (node.parentNode.rightNode == node)\n            node.parentNode.rightNode = null;\n        else\n            node.parentNode.leftNode = null;\n        // afterRemove \u5220\u9664\u5e73\u8861\n        afterRemove(node);\n    }\n\n    size--;\n}\n")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"\u5728AVL\u7c7b\u4e2d\uff0c\u91cd\u5199adterRemove\u65b9\u6cd5")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="afterRemove"',title:'"afterRemove"'}),"@Override\nprotected void afterRemove(Node<E> deleteNode) {\n    // \u4ece\u88ab\u5220\u9664\u8282\u70b9\u51fa\u53d1\uff0c\u5411\u4e0a\u627e\u5230\u7b2c\u4e00\u4e2a\u5931\u8861\u8282\u70b9\n    while ((deleteNode = deleteNode.parentNode) != null) {\n        if (isBalanced(deleteNode)) { // \u82e5\u8282\u70b9\u5e73\u8861\n            updateHeight(deleteNode); // \u7ef4\u62a4\u8282\u70b9\u9ad8\u5ea6\n        } else { // \u82e5\u8282\u70b9\u5931\u8861\n            rebalance(deleteNode); // aka node `G`\n        }\n    }\n}\n")),Object(i.b)("h4",{id:"\u6d4b\u8bd5-1"},"\u6d4b\u8bd5"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u6d4b\u8bd5\u4ee3\u7801\uff1a\u79fb\u966499\uff0c\u89e6\u53d1\u53f3\u65cb"',title:'"\u6d4b\u8bd5\u4ee3\u7801\uff1a\u79fb\u966499\uff0c\u89e6\u53d1\u53f3\u65cb"'}),'private static void removeTest() {\n    Integer[] data = new Integer[]{\n            85, 19, 69, 3, 7, 99, 95, 84\n    };\n\n    MyAVL<Integer> avl = new MyAVL<>();\n    // \u6dfb\u52a0\n    for (Integer d : data) {\n        avl.add(d);\n    }\n\n    BinaryTrees.println(avl);\n    System.out.println("---------------");\n\n    avl.remove(99);\n    BinaryTrees.println(avl);\n}\n')),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java",metastring:'title="\u8fd0\u884c\u7ed3\u679c"',title:'"\u8fd0\u884c\u7ed3\u679c"'}),"  \u250c\u2500\u2500\u2500\u250069\u2500\u2500\u2500\u2510\n  \u2502         \u2502\n\u250c\u25007\u2500\u2510     \u250c\u250095\u2500\u2510\n\u2502   \u2502     \u2502    \u2502\n3   19 \u250c\u250085    99\n       \u2502\n      84\n---------------\n  \u250c\u2500\u2500\u250069\u2500\u2500\u2510\n  \u2502       \u2502\n\u250c\u25007\u2500\u2510   \u250c\u250085\u2500\u2510\n\u2502   \u2502   \u2502    \u2502\n3   19 84    95\n")),Object(i.b)("h2",{id:"\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6"},"\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u641c\u7d22\uff1a"),Object(i.b)("inlineCode",{parentName:"li"},"O(logn)")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u6dfb\u52a0\uff1a"),Object(i.b)("inlineCode",{parentName:"li"},"O(logn)"),"\uff0c\u4ec5\u9700",Object(i.b)("inlineCode",{parentName:"li"},"O(1)"),"\u6b21\u65cb\u8f6c\u64cd\u4f5c"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"\u5220\u9664\uff1a"),Object(i.b)("inlineCode",{parentName:"li"},"O(logn)"),"\uff0c\u6700\u591a\u9700\u8981",Object(i.b)("inlineCode",{parentName:"li"},"O(logn)"),"\u6b21\u65cb\u8f6c\u64cd\u4f5c")))}d.isMDXComponent=!0}}]);