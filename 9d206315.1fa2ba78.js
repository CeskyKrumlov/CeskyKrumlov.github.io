(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{351:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return b})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return u})),a.d(t,"default",(function(){return p}));var n=a(2),r=a(6),o=(a(0),a(520)),c=a(524),l=a(525),b={id:"2.sampleDatabase",title:"\u6848\u4f8b\u6570\u636e\u5e93",hide_title:!0},i={unversionedId:"springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/2.sampleDatabase",id:"springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/2.sampleDatabase",isDocsHomePage:!1,title:"\u6848\u4f8b\u6570\u636e\u5e93",description:"\u4e1a\u52a1\u8bf4\u660e",source:"@site/docs/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/2.\u6848\u4f8b\u6570\u636e\u5e93.md",slug:"/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/2.sampleDatabase",permalink:"/docs/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/2.sampleDatabase",version:"current",sidebar:"someSidebar",previous:{title:"Seata \u6982\u8ff0",permalink:"/docs/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/1.seata"},next:{title:"\u6848\u4f8b\u4ee3\u7801\u5b9e\u73b0",permalink:"/docs/springcloudalibaba/\u5206\u5e03\u5f0f\u4e8b\u52a1/3.sampleCode"}},u=[{value:"\u4e1a\u52a1\u8bf4\u660e",id:"\u4e1a\u52a1\u8bf4\u660e",children:[]},{value:"\u6848\u4f8b\u6570\u636e\u5e93",id:"\u6848\u4f8b\u6570\u636e\u5e93",children:[]}],s={rightToc:u};function p(e){var t=e.components,b=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},s,b,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"\u4e1a\u52a1\u8bf4\u660e"},"\u4e1a\u52a1\u8bf4\u660e"),Object(o.b)("blockquote",null,Object(o.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u521b\u5efa\u4e09\u4e2a\u5fae\u670d\u52a1"}),"\u521b\u5efa\u4e09\u4e2a\u5fae\u670d\u52a1"),Object(o.b)("ul",{parentName:"blockquote"},Object(o.b)("li",{parentName:"ul"},"\u8ba2\u5355\u670d\u52a1"),Object(o.b)("li",{parentName:"ul"},"\u5e93\u5b58\u670d\u52a1"),Object(o.b)("li",{parentName:"ul"},"\u8d26\u6237\u670d\u52a1")),Object(o.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u4e1a\u52a1\u903b\u8f91"}),"\u4e1a\u52a1\u903b\u8f91"),Object(o.b)("ul",{parentName:"blockquote"},Object(o.b)("li",{parentName:"ul"},"\u5f53\u7528\u6237\u4e0b\u5355\u65f6\uff0c\u4f1a\u5728 ",Object(o.b)("inlineCode",{parentName:"li"},"\u8ba2\u5355\u670d\u52a1")," \u4e2d",Object(o.b)("strong",{parentName:"li"},"\u521b\u5efa"),"\u4e00\u4e2a",Object(o.b)("strong",{parentName:"li"},"\u8ba2\u5355")),Object(o.b)("li",{parentName:"ul"},"\u7136\u540e\u901a\u8fc7\u8fdc\u7a0b\u8c03\u7528 ",Object(o.b)("inlineCode",{parentName:"li"},"\u5e93\u5b58\u670d\u52a1")," \u6765",Object(o.b)("strong",{parentName:"li"},"\u6263\u51cf"),"\u4e0b\u5355",Object(o.b)("strong",{parentName:"li"},"\u5546\u54c1"),"\u7684",Object(o.b)("strong",{parentName:"li"},"\u5e93\u5b58")),Object(o.b)("li",{parentName:"ul"},"\u901a\u8fc7\u8fdc\u7a0b\u8c03\u7528 ",Object(o.b)("inlineCode",{parentName:"li"},"\u8d26\u6237\u670d\u52a1")," \u6765",Object(o.b)("strong",{parentName:"li"},"\u6263\u51cf\u7528\u6237"),"\u8d26\u6237\u91cc\u7684",Object(o.b)("strong",{parentName:"li"},"\u4f59\u989d")),Object(o.b)("li",{parentName:"ul"},"\u5728 ",Object(o.b)("inlineCode",{parentName:"li"},"\u8ba2\u5355\u670d\u52a1")," \u4fee\u6539",Object(o.b)("strong",{parentName:"li"},"\u8ba2\u5355"),"\u72b6\u6001\u4e3a",Object(o.b)("strong",{parentName:"li"},"\u5df2\u5b8c\u6210"))),Object(o.b)("h3",Object(n.a)({parentName:"blockquote"},{id:"\u5206\u6790"}),"\u5206\u6790"),Object(o.b)("ul",{parentName:"blockquote"},Object(o.b)("li",{parentName:"ul"},"\u8be5\u64cd\u4f5c\u6a2a\u8de8\u4e09\u4e2a\u6570\u636e\u5e93\uff0c\u6d89\u53ca\u4e24\u6b21\u8fdc\u7a0b\u8c03\u7528\uff0c\u5b58\u5728\u5206\u5e03\u5f0f\u4e8b\u52a1\u95ee\u9898"))),Object(o.b)("h1",{id:"\u6848\u4f8b\u6570\u636e\u5e93"},"\u6848\u4f8b\u6570\u636e\u5e93"),Object(o.b)("blockquote",null,Object(o.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u4e09\u4e2a\u6570\u636e\u5e93"}),"\u4e09\u4e2a\u6570\u636e\u5e93"),Object(o.b)("ul",{parentName:"blockquote"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"seata_order"),"\uff1a\u5b58\u50a8\u8ba2\u5355\u6570\u636e\u5e93"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"seata_storage"),"\uff1a\u5b58\u50a8\u5e93\u5b58\u7684\u6570\u636e\u5e93"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"seata_account"),"\uff1a\u5b58\u50a8\u8d26\u6237\u4fe1\u606f\u7684\u6570\u636e\u5e93")),Object(o.b)("pre",{parentName:"blockquote"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),"CREATE DATABASE seata_order;\nCREATE DATABASE seata_storage;\nCREATE DATABASE seata_account;\n")),Object(o.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u521b\u5efa\u5bf9\u5e94\u4e1a\u52a1\u8868"}),"\u521b\u5efa\u5bf9\u5e94\u4e1a\u52a1\u8868"),Object(o.b)("ul",{parentName:"blockquote"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"seata_order")," \u4e0b\u5efa ",Object(o.b)("inlineCode",{parentName:"li"},"t_order")," \u8868"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"seata_storage")," \u4e0b\u5efa ",Object(o.b)("inlineCode",{parentName:"li"},"t_storage")," \u8868"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"seata_account")," \u4e0b\u5efa ",Object(o.b)("inlineCode",{parentName:"li"},"t_account")," \u8868")),Object(o.b)(c.a,{defaultValue:"1",values:[{label:"t_order",value:"1"},{label:"t_storage",value:"2"},{label:"t_account",value:"3"}],mdxType:"Tabs"},Object(o.b)(l.a,{value:"1",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"blockquote"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),"USE seata_order;\nCREATE TABLE t_order(\n    id BIGINT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY ,\n    user_id BIGINT(11) DEFAULT NULL COMMENT '\u7528\u6237id',\n    product_id BIGINT(11) DEFAULT NULL COMMENT '\u4ea7\u54c1id',\n    count INT(11) DEFAULT NULL COMMENT '\u6570\u91cf',\n    money DECIMAL(11,0) DEFAULT NULL COMMENT '\u91d1\u989d',\n    status INT(1) DEFAULT NULL COMMENT '\u8ba2\u5355\u72b6\u6001\uff1a0\u521b\u5efa\u4e2d\uff0c1\u5df2\u5b8c\u7ed3'\n)ENGINE=InnoDB AUTO_INCREMENT=7 CHARSET=utf8;\n"))),Object(o.b)(l.a,{value:"2",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"blockquote"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),"USE seata_storage;\nCREATE TABLE t_storage(\n    id BIGINT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY ,\n    product_id BIGINT(11) DEFAULT NULL COMMENT '\u4ea7\u54c1id',\n    total INT(11) DEFAULT NULL COMMENT '\u603b\u5e93\u5b58',\n    used INT(11) DEFAULT NULL COMMENT '\u5df2\u7528\u5e93\u5b58',\n    residue INT(11) DEFAULT NULL COMMENT '\u5269\u4f59\u5e93\u5b58'\n)ENGINE=InnoDB AUTO_INCREMENT=7 CHARSET=utf8;\nINSERT INTO t_storage(id, product_id, total, used, residue) VALUES(1,1,100,0,100);\n"))),Object(o.b)(l.a,{value:"3",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"blockquote"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),"USE seata_account;\nCREATE TABLE t_account(\n    id BIGINT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY ,\n    user_id BIGINT(11) DEFAULT NULL COMMENT '\u7528\u6237id',\n    total DECIMAL(10,0) DEFAULT NULL COMMENT '\u603b\u989d\u5ea6',\n    used DECIMAL(10,0) DEFAULT NULL COMMENT '\u5df2\u7528\u989d\u5ea6',\n    residue DECIMAL(10,0) DEFAULT 0 COMMENT '\u5269\u4f59\u53ef\u7528\u989d\u5ea6'\n)ENGINE=InnoDB AUTO_INCREMENT=7 CHARSET=utf8;\nINSERT INTO t_account(id, user_id, total, used, residue) VALUES(1,1,1000,0,1000);\n")))),Object(o.b)("h2",Object(n.a)({parentName:"blockquote"},{id:"\u521b\u5efa\u5bf9\u5e94\u56de\u6eda\u65e5\u5fd7\u8868"}),"\u521b\u5efa\u5bf9\u5e94\u56de\u6eda\u65e5\u5fd7\u8868"),Object(o.b)("ul",{parentName:"blockquote"},Object(o.b)("li",{parentName:"ul"},"\u8ba2\u5355\u3001\u5e93\u5b58\u3001\u8d26\u6237 ",Object(o.b)("inlineCode",{parentName:"li"},"3")," \u4e2a\u5e93\u4e0b\u90fd\u9700\u8981\u5efa\u5404\u81ea\u7684\u56de\u6eda\u65e5\u5fd7\u8868"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"/conf/db_undo_log.sql")," \u4e3a\u56de\u6eda\u65e5\u5fd7\u8868\u6570\u636e\u5e93\u811a\u672c"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"\u5728 ",Object(o.b)("inlineCode",{parentName:"strong"},"\u8ba2\u5355"),"\u3001",Object(o.b)("inlineCode",{parentName:"strong"},"\u5e93\u5b58"),"\u3001",Object(o.b)("inlineCode",{parentName:"strong"},"\u8d26\u6237")," \u7684\u6570\u636e\u5e93\u91cc\u90fd\u5404\u81ea\u5efa\u4e00\u4e2a\u56de\u6eda\u65e5\u5fd7\u8868"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"\u636e\u8bf4 1.0.0 \u7248\u672c\u4e4b\u540e\u4e0d\u9700\u8981\u81ea\u5df1\u5efa\u4e86"))))),Object(o.b)("br",null),Object(o.b)("img",{src:a(998).default,style:{zoom:"50%",boxShadow:"5px 7px 28px #333333",borderRadius:"19px"}})," ",Object(o.b)("br",null)))}p.isMDXComponent=!0},520:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return O}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=r.a.createContext({}),u=function(e){var t=r.a.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},s=function(e){var t=u(e.components);return r.a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,i=b(e,["components","mdxType","originalType","parentName"]),s=u(a),d=n,O=s["".concat(c,".").concat(d)]||s[d]||p[d]||o;return a?r.a.createElement(O,l(l({ref:t},i),{},{components:a})):r.a.createElement(O,l({ref:t},i))}));function O(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,c=new Array(o);c[0]=d;var l={};for(var b in t)hasOwnProperty.call(t,b)&&(l[b]=t[b]);l.originalType=e,l.mdxType="string"==typeof e?e:n,c[1]=l;for(var i=2;i<o;i++)c[i]=a[i];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},521:function(e,t,a){"use strict";function n(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(r&&(r+=" "),r+=a);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,a=0,r="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(r&&(r+=" "),r+=t);return r}},522:function(e,t,a){"use strict";var n=a(0);const r=Object(n.createContext)(void 0);t.a=r},523:function(e,t,a){"use strict";var n=a(0),r=a(522);t.a=function(){const e=Object(n.useContext)(r.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},524:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(523),c=a(521),l=a(47),b=a.n(l);const i=37,u=39;t.a=function(e){const{block:t,children:a,defaultValue:l,values:s,groupId:p}=e,{tabGroupChoices:d,setTabGroupChoices:O}=Object(o.a)(),[m,N]=Object(n.useState)(l),[j,E]=Object(n.useState)(!1);if(null!=p){const e=d[p];null!=e&&e!==m&&s.some(t=>t.value===e)&&N(e)}const f=e=>{N(e),null!=p&&O(p,e)},T=[],g=e=>{e.metaKey||e.altKey||e.ctrlKey||E(!0)},C=()=>{E(!1)};return Object(n.useEffect)(()=>{window.addEventListener("keydown",g),window.addEventListener("mousedown",C)},[]),r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(c.a)("tabs",{"tabs--block":t})},s.map(({value:e,label:t})=>r.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":m===e,className:Object(c.a)("tabs__item",b.a.tabItem,{"tabs__item--active":m===e}),style:j?{}:{outline:"none"},key:e,ref:e=>T.push(e),onKeyDown:e=>{((e,t,a)=>{switch(a.keyCode){case u:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case i:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(T,e.target,e),g(e)},onFocus:()=>f(e),onClick:()=>{f(e),E(!1)},onPointerDown:()=>E(!1)},t))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter(e=>e.props.value===m)[0]))}},525:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement("div",null,e.children)}},998:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/9-3630ed6e1413b8e1820c742482c90086.png"}}]);